<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-top: 0;
        }
        .checklist {
            list-style: none;
            padding: 0;
        }
        .checklist li {
            padding: 12px;
            margin: 8px 0;
            background: #f9f9f9;
            border-left: 4px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .checklist li:hover {
            background: #f0f0f0;
        }
        .checklist li.done {
            border-left-color: #4CAF50;
            background: #e8f5e9;
        }
        .checklist li.error {
            border-left-color: #f44336;
            background: #ffebee;
        }
        .section {
            margin: 30px 0;
        }
        .section h2 {
            color: #555;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }
        .button {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
        }
        .button:hover {
            background: #1976D2;
        }
        .button.success {
            background: #4CAF50;
        }
        .button.warning {
            background: #FF9800;
        }
        .button.danger {
            background: #f44336;
        }
        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.ok {
            background: #4CAF50;
            color: white;
        }
        .status.warning {
            background: #FF9800;
            color: white;
        }
        .status.error {
            background: #f44336;
            color: white;
        }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        .info-box {
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            border-left: 4px solid #2196F3;
            background: #e3f2fd;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .summary-card {
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .summary-card.success {
            background: #e8f5e9;
            border: 2px solid #4CAF50;
        }
        .summary-card.warning {
            background: #fff3e0;
            border: 2px solid #FF9800;
        }
        .summary-card.error {
            background: #ffebee;
            border: 2px solid #f44336;
        }
        .summary-card h3 {
            margin: 0 0 10px 0;
            font-size: 32px;
        }
        .summary-card p {
            margin: 0;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã MeTravel2</h1>

        <div class="info-box">
            <strong>üìÖ –î–∞—Ç–∞:</strong> 3 —è–Ω–≤–∞—Ä—è 2026<br>
            <strong>üîß –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏:</strong> <span class="status ok">–ó–ê–í–ï–†–®–ï–ù–ê</span><br>
            <strong>üì¶ –í–µ—Ä—Å–∏—è:</strong> Map.web.tsx (518 —Å—Ç—Ä–æ–∫, -71% –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞)
        </div>

        <div class="summary">
            <div class="summary-card success">
                <h3 id="passed-count">0</h3>
                <p>–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ</p>
            </div>
            <div class="summary-card warning">
                <h3 id="warning-count">0</h3>
                <p>–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π</p>
            </div>
            <div class="summary-card error">
                <h3 id="failed-count">0</h3>
                <p>–û—à–∏–±–æ–∫</p>
            </div>
        </div>

        <div class="section">
            <h2>üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h2>
            <p>–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
            <div class="code-block">npm start</div>
            <p style="margin-top: 10px;">
                <a href="http://localhost:8081" class="button" target="_blank">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</a>
                <button class="button success" onclick="openDevTools()">–û—Ç–∫—Ä—ã—Ç—å DevTools (F12)</button>
            </p>
        </div>

        <div class="section">
            <h2>üìç –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</h2>
            <ul class="checklist" data-section="basic">
                <li onclick="toggleCheck(this)">–ö–∞—Ä—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫</li>
                <li onclick="toggleCheck(this)">–í–∏–¥–Ω–∞ –∫–∞—Ä—Ç–∞ OpenStreetMap</li>
                <li onclick="toggleCheck(this)">–ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏</li>
                <li onclick="toggleCheck(this)">Spinner –∏—Å—á–µ–∑–∞–µ—Ç –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏</li>
                <li onclick="toggleCheck(this)">–ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ</li>
                <li onclick="toggleCheck(this)">–ò–∫–æ–Ω–∫–∏ –º–∞—Ä–∫–µ—Ä–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã</li>
                <li onclick="toggleCheck(this)">–ö–ª–∏–∫ –ø–æ –º–∞—Ä–∫–µ—Ä—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç popup</li>
                <li onclick="toggleCheck(this)">Popup —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</li>
                <li onclick="toggleCheck(this)">–ó–∞–∫—Ä—ã—Ç–∏–µ popup —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
            </ul>
        </div>

        <div class="section">
            <h2>üéØ –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è</h2>
            <ul class="checklist" data-section="clustering">
                <li onclick="toggleCheck(this)">–ü—Ä–∏ –∑—É–º–µ out –º–∞—Ä–∫–µ—Ä—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –≤ –∫–ª–∞—Å—Ç–µ—Ä—ã</li>
                <li onclick="toggleCheck(this)">–ö–ª–∞—Å—Ç–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ—á–µ–∫</li>
                <li onclick="toggleCheck(this)">–ü—Ä–∏ –∑—É–º–µ in –∫–ª–∞—Å—Ç–µ—Ä—ã —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è</li>
                <li onclick="toggleCheck(this)">–ö–ª–∏–∫ –ø–æ –∫–ª–∞—Å—Ç–µ—Ä—É —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ–±–ª–∞—Å—Ç—å</li>
                <li onclick="toggleCheck(this)">–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤</li>
            </ul>
        </div>

        <div class="section">
            <h2>üó∫Ô∏è –†–µ–∂–∏–º —Ä–∞–¥–∏—É—Å–∞</h2>
            <ul class="checklist" data-section="radius">
                <li onclick="toggleCheck(this)">–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º —Ä–∞–¥–∏—É—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
                <li onclick="toggleCheck(this)">–í—ã–±–æ—Ä —Ä–∞–¥–∏—É—Å–∞ (1km, 5km, 10km, 25km, 50km)</li>
                <li onclick="toggleCheck(this)">–ö—Ä—É–≥ —Ä–∞–¥–∏—É—Å–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç–µ</li>
                <li onclick="toggleCheck(this)">–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ—á–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
                <li onclick="toggleCheck(this)">–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–∞—Ä—Ç—É</li>
            </ul>
        </div>

        <div class="section">
            <h2>üõ£Ô∏è –†–µ–∂–∏–º –º–∞—Ä—à—Ä—É—Ç–∞</h2>
            <ul class="checklist" data-section="route">
                <li onclick="toggleCheck(this)">–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º –º–∞—Ä—à—Ä—É—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
                <li onclick="toggleCheck(this)">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É (–∫–ª–∏–∫)</li>
                <li onclick="toggleCheck(this)">–ú–∏–Ω–∏–º—É–º 2 —Ç–æ—á–∫–∏ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∞</li>
                <li onclick="toggleCheck(this)">–í—ã–±–æ—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (car/bike/foot)</li>
                <li onclick="toggleCheck(this)">–ú–∞—Ä—à—Ä—É—Ç —Å—Ç—Ä–æ–∏—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è</li>
                <li onclick="toggleCheck(this)">–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∏ –≤—Ä–µ–º—è</li>
                <li onclick="toggleCheck(this)">–ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å —Ç–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞</li>
                <li onclick="toggleCheck(this)">–ú–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –º–∞—Ä—à—Ä—É—Ç</li>
            </ul>
        </div>

        <div class="section">
            <h2>üéÆ –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h2>
            <ul class="checklist" data-section="controls">
                <li onclick="toggleCheck(this)">–ö–Ω–æ–ø–∫–∞ "–ú–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ" –≤–∏–¥–Ω–∞</li>
                <li onclick="toggleCheck(this)">–ü—Ä–∏ –∫–ª–∏–∫–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ</li>
                <li onclick="toggleCheck(this)">–ö–∞—Ä—Ç–∞ —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏</li>
                <li onclick="toggleCheck(this)">–ú–∞—Ä–∫–µ—Ä –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è</li>
                <li onclick="toggleCheck(this)">–°–º–µ–Ω–∞ —Å–ª–æ—è –∫–∞—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
                <li onclick="toggleCheck(this)">–ó—É–º –∫–Ω–æ–ø–∫–∞–º–∏ + –∏ - —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
                <li onclick="toggleCheck(this)">–ö–æ–ª–µ—Å–æ –º—ã—à–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
                <li onclick="toggleCheck(this)">Drag (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ) —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
            </ul>
        </div>

        <div class="section">
            <h2>‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h2>
            <ul class="checklist" data-section="performance">
                <li onclick="toggleCheck(this)">–ö–∞—Ä—Ç–∞ –Ω–µ —Ç–æ—Ä–º–æ–∑–∏—Ç –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ</li>
                <li onclick="toggleCheck(this)">–ó—É–º —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ</li>
                <li onclick="toggleCheck(this)">–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –±—ã—Å—Ç—Ä–æ–µ</li>
                <li onclick="toggleCheck(this)">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫</li>
                <li onclick="toggleCheck(this)">–ù–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –ø–∞–º—è—Ç–∏</li>
                <li onclick="toggleCheck(this)">API –∑–∞–ø—Ä–æ—Å—ã —É—Å–ø–µ—à–Ω—ã (200 OK)</li>
            </ul>
        </div>

        <div class="section">
            <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <button class="button success" onclick="generateReport()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</button>
            <button class="button warning" onclick="resetAll()">–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ</button>
            <button class="button" onclick="exportResults()">–≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</button>

            <div id="report" style="margin-top: 20px;"></div>
        </div>

        <div class="section">
            <h2>üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h2>
            <div class="info-box" style="border-left-color: #FF9800; background: #fff3e0;">
                <strong>Overpass API –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:</strong><br>
                <code>[OSM Camping Overlay] Overpass API is busy, skipping load.</code><br>
                <span class="status warning">–û–ñ–ò–î–ê–ï–ú–û</span> - –ü—É–±–ª–∏—á–Ω—ã–π API –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω. –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
            </div>
        </div>
    </div>

    <script>
        function toggleCheck(element) {
            if (element.classList.contains('done')) {
                element.classList.remove('done');
                element.classList.add('error');
            } else if (element.classList.contains('error')) {
                element.classList.remove('error');
            } else {
                element.classList.add('done');
            }
            updateCounters();
        }

        function updateCounters() {
            const all = document.querySelectorAll('.checklist li');
            const passed = document.querySelectorAll('.checklist li.done');
            const failed = document.querySelectorAll('.checklist li.error');

            document.getElementById('passed-count').textContent = passed.length;
            document.getElementById('failed-count').textContent = failed.length;
            document.getElementById('warning-count').textContent = all.length - passed.length - failed.length;
        }

        function resetAll() {
            if (confirm('–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?')) {
                document.querySelectorAll('.checklist li').forEach(li => {
                    li.classList.remove('done', 'error');
                });
                updateCounters();
            }
        }

        function generateReport() {
            const sections = {};
            document.querySelectorAll('.checklist').forEach(checklist => {
                const sectionName = checklist.dataset.section;
                const items = checklist.querySelectorAll('li');
                const done = checklist.querySelectorAll('li.done');
                const errors = checklist.querySelectorAll('li.error');

                sections[sectionName] = {
                    total: items.length,
                    passed: done.length,
                    failed: errors.length,
                    pending: items.length - done.length - errors.length
                };
            });

            let html = '<div style="background: #f9f9f9; padding: 20px; border-radius: 8px; margin-top: 20px;">';
            html += '<h3>üìä –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç</h3>';

            for (const [section, stats] of Object.entries(sections)) {
                const percentage = stats.total > 0 ? Math.round((stats.passed / stats.total) * 100) : 0;
                html += `<div style="margin: 10px 0; padding: 10px; background: white; border-radius: 4px;">`;
                html += `<strong>${section}:</strong> ${stats.passed}/${stats.total} (${percentage}%) `;
                if (stats.failed > 0) {
                    html += `<span class="status error">${stats.failed} –æ—à–∏–±–æ–∫</span>`;
                } else if (stats.passed === stats.total) {
                    html += `<span class="status ok">–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã</span>`;
                }
                html += `</div>`;
            }

            const allTotal = Object.values(sections).reduce((sum, s) => sum + s.total, 0);
            const allPassed = Object.values(sections).reduce((sum, s) => sum + s.passed, 0);
            const allFailed = Object.values(sections).reduce((sum, s) => sum + s.failed, 0);
            const overallPercentage = allTotal > 0 ? Math.round((allPassed / allTotal) * 100) : 0;

            html += `<div style="margin-top: 20px; padding: 20px; background: ${overallPercentage === 100 ? '#e8f5e9' : '#fff3e0'}; border-radius: 8px; text-align: center;">`;
            html += `<h2 style="margin: 0;">–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${overallPercentage}%</h2>`;
            html += `<p style="margin: 10px 0 0 0; font-size: 18px;">${allPassed}/${allTotal} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ`;
            if (allFailed > 0) html += `, ${allFailed} –ø—Ä–æ–≤–∞–ª–µ–Ω–æ`;
            html += `</p>`;
            html += `</div>`;

            html += '</div>';

            document.getElementById('report').innerHTML = html;
        }

        function exportResults() {
            const results = {
                date: new Date().toISOString(),
                sections: {}
            };

            document.querySelectorAll('.checklist').forEach(checklist => {
                const sectionName = checklist.dataset.section;
                results.sections[sectionName] = [];

                checklist.querySelectorAll('li').forEach(li => {
                    results.sections[sectionName].push({
                        text: li.textContent,
                        status: li.classList.contains('done') ? 'passed' :
                               li.classList.contains('error') ? 'failed' : 'pending'
                    });
                });
            });

            const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `map-testing-results-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function openDevTools() {
            alert('–ù–∞–∂–º–∏—Ç–µ F12 –∏–ª–∏ Ctrl+Shift+I (Cmd+Option+I –Ω–∞ Mac) –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è DevTools');
        }

        // Initialize counters
        updateCounters();
    </script>
</body>
</html>

