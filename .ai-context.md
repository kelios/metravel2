# AI Assistant Project Context: metravel

This document summarizes the key aspects of the `metravel` project for the AI assistant's reference.

## Instruction Priority

*   **Mandatory rules:** `AGENTS.md` in the repository root is mandatory for all tasks in this project.
*   **Priority:** If there is any tradeoff between speed and policy, follow `AGENTS.md`.
*   **Checklist discipline:** Re-check `AGENTS.md` before starting and before finishing a task.

## Project Overview

*   **Name:** `metravel`
*   **Type:** Cross-platform (iOS, Android, Web) application built with React Native and Expo.
*   **Purpose:** A travel-related application.

## Core Technologies

*   **Framework:** React Native with Expo
*   **Routing:** `expo-router` (file-system based)
*   **UI Components:** `react-native-paper`, `lucide-react-native`
*   **State & Data Fetching:** `@tanstack/react-query`
*   **Forms:** `formik` for logic, `yup` for validation.
*   **Maps:** `react-native-maps` (native) and `react-leaflet` (web).
*   **Build & Deployment:**
    *   **Native (iOS/Android):** Expo Application Services (EAS) Build.
    *   **Web:** `npx expo export --web`.

## Architectural Notes

*   **Navigation:**
    *   The project uses a custom navigation system instead of a standard tab bar.
    *   The main layout is defined in `app/(tabs)/_layout.tsx`.
    *   The `tabBar` is explicitly hidden (`tabBar: () => null`).
    *   Navigation is controlled by the `components/CustomHeader.tsx` component, which is used globally in the `(tabs)` layout.
*   **Routing (`expo-router`):**
    *   The main group of routes is located in the `app/(tabs)/` directory.
    *   Screen visibility in the navigation is controlled by the `href` property in the `Tabs.Screen` options:
        *   `href: undefined`: The screen is addressable via its URL but hidden from the tab bar.
        *   `href: null`: The screen is completely hidden from linking and the tab bar (e.g., for authentication flow screens).
*   **Performance:**
    *   Screens are configured with `lazy: true` (load on first focus).
    *   Screens are also configured with `freezeOnBlur: true` to save resources when not in focus.
