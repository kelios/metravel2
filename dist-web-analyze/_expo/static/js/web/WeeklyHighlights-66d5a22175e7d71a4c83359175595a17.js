__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?n(l,t,i):l[t]=e[t]);return l})(e,t)})(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),n=e(_r(d[4])),i=e(_r(d[5])),l=e(_r(d[6])),s=(e(_r(d[7])),e(_r(d[8]))),c=_r(d[9]),u=_r(d[10]),f=_r(d[11]),h=_r(d[12]),p=_r(d[13]),y=e(_r(d[14])),b=_r(d[15]),C=e(_r(d[16])),w=_r(d[17]),x=_r(d[18]);const j='weekly_highlights_collapsed';function v({forceVisible:e,onVisibilityChange:n,showHeader:v=!0}){const _=(0,u.useRouter)(),{width:O}=(0,l.default)(),{viewHistory:z}=(w.METRICS.breakpoints.tablet,(0,f.useFavorites)()),[I,k]=(0,t.useState)(!1),[R,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=!0;return(async()=>{try{if('undefined'!=typeof sessionStorage){const t='true'===sessionStorage.getItem(j);e&&k(t)}else if('function'==typeof y.default?.getItem){const t='true'===await y.default.getItem(j);e&&k(t)}}catch(e){}})(),M(!0),()=>{e=!1}},[]);(0,t.useCallback)(()=>{k(!0),sessionStorage.setItem(j,'true'),n&&n(!1)},[n]);const H=(0,t.useCallback)(()=>{k(!1),sessionStorage.removeItem(j),n&&n(!0)},[n]),{data:V}=(0,p.useQuery)({queryKey:['travelsOfMonth'],queryFn:h.fetchTravelsOfMonth,staleTime:36e5}),B=(0,t.useMemo)(()=>{if(!V||'object'!=typeof V)return[];const e=new Set(z.map(e=>`${e.type}-${e.id}`));return Object.values(V).filter(t=>{const r=`travel-${t.id}`;return!e.has(r)}).slice(0,5).map(e=>({id:e.id,title:e.name,imageUrl:e.travel_image_thumb_url,url:`/travels/${e.slug||e.id}`,country:e.countryName}))},[V,z]),T=(0,t.useCallback)(e=>{window.location.href=e},[_]);if(0===B.length)return null;if(void 0!==e){if(!1===e)return null}else if(R&&I)return(0,x.jsx)(r.default,{style:S.collapsedContainer,children:(0,x.jsxs)(s.default,{onPress:H,style:S.expandButton,hitSlop:{top:10,bottom:10,left:10,right:10},children:[(0,x.jsx)(c.MaterialIcons,{name:"expand-more",size:20,color:"#6b8e7f"}),(0,x.jsx)(o.default,{style:S.expandButtonText,children:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0430 \u043c\u0435\u0441\u044f\u0446\u0430"})]})});return(0,x.jsxs)(r.default,{style:S.container,children:[v&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(r.default,{style:S.header,children:[(0,x.jsx)(r.default,{style:[S.iconContainer,{backgroundColor:b.AIRY_COLORS.primaryLight}],children:(0,x.jsx)(c.MaterialIcons,{name:"auto-awesome",size:20,color:b.AIRY_COLORS.primary})}),(0,x.jsxs)(r.default,{style:S.titleContainer,children:[(0,x.jsx)(o.default,{style:S.title,children:"\u041f\u043e\u0434\u0431\u043e\u0440\u043a\u0430 \u043c\u0435\u0441\u044f\u0446\u0430"}),(0,x.jsx)(r.default,{style:S.badgeContainer,children:(0,x.jsx)(o.default,{style:S.badgeText,children:"\u0412\u044b\u0431\u043e\u0440 \u043c\u0435\u0441\u044f\u0446\u0430"})})]})]}),(0,x.jsx)(o.default,{style:S.subtitle,children:"\u0421\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b \u044d\u0442\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430"})]}),(0,x.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!0,contentContainerStyle:S.scrollContent,removeClippedSubviews:!1,decelerationRate:"fast",style:{overflowX:'auto',overflowY:'hidden',width:'100%'},children:B.map(e=>(0,x.jsx)(C.default,{item:{id:e.id,title:e.title,imageUrl:e.imageUrl,city:null,country:e.country??null},badge:{icon:'trending-up',backgroundColor:'#ffffff',iconColor:'#6b8e7f'},onPress:()=>T(e.url)},e.id))})]})}const S=n.default.create({container:{marginVertical:8,paddingHorizontal:0,paddingVertical:8,backgroundColor:'transparent',borderRadius:12,borderWidth:0,borderColor:'transparent',shadowColor:'transparent',shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:0},header:{flexDirection:'row',alignItems:'center',paddingHorizontal:12,marginBottom:2},iconContainer:{width:28,height:28,borderRadius:8,backgroundColor:'#ffffff',justifyContent:'center',alignItems:'center',shadowColor:'#6b8e7f',shadowOffset:{width:0,height:1},shadowOpacity:.06,shadowRadius:2,elevation:1},titleContainer:{flex:1,flexDirection:'row',alignItems:'center',marginLeft:8,gap:8},title:{fontSize:15,fontWeight:'600',color:'#1a202c',letterSpacing:-.1},badgeContainer:{backgroundColor:'rgba(74, 140, 140, 0.1)',borderRadius:8,paddingHorizontal:8,paddingVertical:3},badgeText:{fontSize:11,fontWeight:'600',color:'#4a8c8c',letterSpacing:.1},subtitle:{fontSize:13,color:'#4a5568',paddingHorizontal:12,marginLeft:0,marginBottom:12},subtitleCompact:{marginTop:4,marginBottom:8},collapseButton:{padding:4,marginLeft:8,cursor:'pointer'},collapsedContainer:{marginVertical:8,marginHorizontal:4,paddingVertical:8,paddingHorizontal:12,backgroundColor:'#f0f9f9',borderRadius:8,borderWidth:1,borderColor:'#d1e7e7'},expandButton:{flexDirection:'row',alignItems:'center',justifyContent:'center',paddingVertical:4,cursor:'pointer'},expandButtonText:{fontSize:14,fontWeight:'600',color:'#6b8e7f',marginLeft:6},scrollContent:{paddingHorizontal:12,paddingVertical:6}});_e.default=(0,t.memo)(v)},1757,[23,4,315,132,145,322,447,123,422,2651,457,904,1758,2814,2811,1728,1754,985,2]);