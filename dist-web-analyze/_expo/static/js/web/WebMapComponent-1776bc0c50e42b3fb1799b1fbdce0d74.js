__d(function(g,_r,_i,a,_m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?n(i,t,l):i[t]=e[t]);return i})(e,t)})(_r(d[1])),o=e(_r(d[2])),r=_r(d[3]),n=_r(d[4]);const l=async e=>{const t=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e.lat}&lon=${e.lng}&addressdetails=1`);return await t.json()},i={splitLayout:{display:'flex',flexDirection:'row',gap:'16px',alignItems:'flex-start'},mapPane:{flex:'1 1 60%',minWidth:0},listPane:{flex:'0 0 420px',maxWidth:'420px',border:`1px solid ${r.DESIGN_TOKENS.colors.border}`,borderRadius:`${r.DESIGN_TOKENS.radii.md}px`,padding:`${r.DESIGN_TOKENS.spacing.md}px`,height:'600px',overflow:'hidden',backgroundColor:r.DESIGN_TOKENS.colors.backgroundSecondary,boxShadow:r.DESIGN_TOKENS.shadows.card},listScrollArea:{height:'100%',overflowY:'auto',paddingRight:'6px'},mapCard:{border:`1px solid ${r.DESIGN_TOKENS.colors.border}`,borderRadius:`${r.DESIGN_TOKENS.radii.md}px`,overflow:'hidden',backgroundColor:r.DESIGN_TOKENS.colors.surface,boxShadow:r.DESIGN_TOKENS.shadows.card},popupContent:{display:'flex',flexDirection:'column',gap:'8px',width:'240px'},popupImage:{width:'100%',height:'120px',objectFit:'cover',borderRadius:`${r.DESIGN_TOKENS.radii.sm}px`,backgroundColor:r.DESIGN_TOKENS.colors.backgroundSecondary},popupButtons:{display:'flex',justifyContent:'space-between',gap:'8px'},editButton:{backgroundColor:r.DESIGN_TOKENS.colors.primary,color:r.DESIGN_TOKENS.colors.textInverse,border:'none',padding:'6px 12px',borderRadius:`${r.DESIGN_TOKENS.radii.sm}px`,cursor:'pointer'},deleteButton:{backgroundColor:r.DESIGN_TOKENS.colors.danger,color:r.DESIGN_TOKENS.colors.textInverse,border:'none',padding:'6px 12px',borderRadius:`${r.DESIGN_TOKENS.radii.sm}px`,cursor:'pointer'},toggleButton:{padding:'8px 16px',backgroundColor:r.DESIGN_TOKENS.colors.primary,color:r.DESIGN_TOKENS.colors.textInverse,border:'none',borderRadius:`${r.DESIGN_TOKENS.radii.sm}px`,cursor:'pointer',marginBottom:'8px',fontWeight:'bold',fontSize:'14px'},mobileMapShell:{position:'relative'},mobileToggleButton:{position:'absolute',zIndex:1001,top:'10px',right:'10px',padding:'8px 12px',backgroundColor:r.DESIGN_TOKENS.colors.primary,color:r.DESIGN_TOKENS.colors.textInverse,border:'none',borderRadius:`${r.DESIGN_TOKENS.radii.pill}px`,cursor:'pointer',fontWeight:700,fontSize:'13px',boxShadow:r.DESIGN_TOKENS.shadows.hover},mobileSheet:{position:'absolute',zIndex:1002,left:0,right:0,bottom:0,maxHeight:'72%',backgroundColor:r.DESIGN_TOKENS.colors.surface,borderTopLeftRadius:`${r.DESIGN_TOKENS.radii.lg}px`,borderTopRightRadius:`${r.DESIGN_TOKENS.radii.lg}px`,borderTop:`1px solid ${r.DESIGN_TOKENS.colors.border}`,boxShadow:r.DESIGN_TOKENS.shadows.modal,overflow:'hidden'},mobileSheetHandleRow:{display:'flex',justifyContent:'center',paddingTop:'8px',paddingBottom:'6px'},mobileSheetHandle:{width:'44px',height:'4px',borderRadius:'999px',backgroundColor:r.DESIGN_TOKENS.colors.border},mobileSheetHeader:{display:'flex',flexDirection:'row',alignItems:'center',justifyContent:'space-between',padding:'10px 12px',borderBottom:`1px solid ${r.DESIGN_TOKENS.colors.border}`,backgroundColor:r.DESIGN_TOKENS.colors.surface},mobileSheetTitle:{fontSize:'14px',fontWeight:800,color:r.DESIGN_TOKENS.colors.text},mobileSheetClose:{border:'none',background:'transparent',cursor:'pointer',fontSize:'18px',lineHeight:'18px',padding:'4px 6px',color:r.DESIGN_TOKENS.colors.textMuted},mobileSheetBody:{overflowY:'auto',WebkitOverflowScrolling:'touch',padding:'10px 10px 18px',maxHeight:'calc(72vh - 52px)'}};_e.default=({markers:e,onMarkersChange:s,categoryTravelAddress:c,countrylist:p,onCountrySelect:u,onCountryDeselect:h,travelId:x})=>{const[S,m]=(0,t.useState)(null),[f,E]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=!1;const t=()=>{const e='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';if(!document.querySelector(`link[href="${e}"]`)){const t=document.createElement('link');t.rel='stylesheet',t.href=e,document.head.appendChild(t)}},o=async()=>{const e=window;return e.L||(t(),o._loader||(o._loader=new Promise((e,t)=>{const r=document.createElement('script');r.src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js',r.async=!0,r.onload=()=>e(),r.onerror=e=>{o._loader=null,t(e)},document.body.appendChild(r)})),await o._loader),e.L};return(async()=>{try{const t=await o(),r=await _r(d[6])(d[5],d.paths);e||(m(t),E(r))}catch{e||(m(null),E(null))}})(),()=>{e=!0}},[]);const[b,N]=(0,t.useState)(null),[y,I]=(0,t.useState)(null),[v,_]=(0,t.useState)(!1),[T,w]=(0,t.useState)(()=>window.innerWidth>=1024),[j,k]=(0,t.useState)(e),D=(0,t.useRef)(null),O=(0,t.useRef)(e);(0,t.useEffect)(()=>{(e.length!==O.current.length||e.length>0&&O.current.length>0&&e[0]!==O.current[0])&&(k(e),O.current=e)},[e]);const G=(0,t.useCallback)(e=>{k(e),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{s(e),O.current=e},1e3)},[s]);(0,t.useEffect)(()=>()=>{D.current&&clearTimeout(D.current)},[]),(0,t.useEffect)(()=>{const e=()=>{w(window.innerWidth>=1024)};return window.addEventListener('resize',e),()=>window.removeEventListener('resize',e)},[]);const K=({lat:e,lng:t})=>e>=-90&&e<=90&&t>=-180&&t<=180,C=(0,t.useMemo)(()=>S?new S.Icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-orange.png',iconRetinaUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[0,-41],shadowSize:[41,41],shadowAnchor:[12,41]}):null,[S]),M=(e,t,o)=>{const r=[...j];r[e]={...r[e],[t]:o},G(r)},R=(e,t)=>{const o=[...j];o[e].image=t,G(o)},$=e=>{const t=j[e],o=j.filter((t,o)=>o!==e);if(G(o),t.country){o.some(e=>e.country===t.country)||h(t.country)}b===e&&N(null)};if(!S||!f||!C)return(0,n.jsx)("div",{style:{padding:r.DESIGN_TOKENS.spacing.lg,color:r.DESIGN_TOKENS.colors.textMuted},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0440\u0442\u044b\u2026"});const B=f.MapContainer,z=f.TileLayer,P=f.Marker,W=f.Popup,A=f.useMap,H=f.useMapEvents,L=({markers:e})=>{const o=A(),r=(0,t.useRef)(!1);return(0,t.useEffect)(()=>{if(!r.current&&e.length>0){const t=S.latLngBounds(e.map(e=>[e.lat,e.lng]));o.fitBounds(t,{padding:[50,50],maxZoom:6}),r.current=!0}},[e,o]),null},U=({addMarker:e})=>(H({click(t){e(t.latlng)}}),null);return(0,n.jsx)("div",{style:{padding:r.DESIGN_TOKENS.spacing.xxs},children:(0,n.jsxs)("div",{style:T?i.splitLayout:void 0,children:[(0,n.jsx)("div",{style:T?i.mapPane:void 0,children:(0,n.jsx)("div",{style:T?i.mapCard:void 0,children:(0,n.jsxs)("div",{style:T?void 0:i.mobileMapShell,children:[!T&&(0,n.jsx)("button",{onClick:()=>_(!v),style:i.mobileToggleButton,type:"button",children:v?`\u0421\u043a\u0440\u044b\u0442\u044c \u0442\u043e\u0447\u043a\u0438 (${j.length})`:`\u0422\u043e\u0447\u043a\u0438 (${j.length})`}),(0,n.jsxs)(B,{center:[51.505,-.09],zoom:13,style:{height:T?600:460,width:'100%'},children:[(0,n.jsx)(z,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,n.jsx)(U,{addMarker:async e=>{if(!K(e))return;const t=await l(e),o=t?.display_name||'',r=t?.address?.country||'',n={id:null,lat:e.lat,lng:e.lng,address:o,categories:[],image:null,country:null};if(r){const e=p.find(e=>e.title_ru===r);e&&(n.country=e.country_id,u(e.country_id))}G([...j,n]),I(j.length)}}),(0,n.jsx)(L,{markers:j}),j.map((e,t)=>(0,n.jsx)(P,{position:[e.lat,e.lng],icon:C,eventHandlers:{click:()=>{I(t),_(!0)}},children:(0,n.jsx)(W,{children:(0,n.jsxs)("div",{style:i.popupContent,children:[e.image&&(0,n.jsx)("img",{src:e.image,alt:"\u0424\u043e\u0442\u043e",style:i.popupImage}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\u0410\u0434\u0440\u0435\u0441:"})," ",e.address||'\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d']}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438:"}),e.categories.length>0?e.categories.map(e=>{const t=c.find(t=>t.id===e);return t?t.name:`ID: ${e}`}).join(', '):'\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e']}),(0,n.jsxs)("div",{style:i.popupButtons,children:[(0,n.jsx)("button",{onClick:e=>{var o;e.stopPropagation(),N(o=t),I(o),_(!0)},style:i.editButton,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),$(t)},style:i.deleteButton,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})})},t))]}),!T&&v&&(0,n.jsxs)("div",{style:i.mobileSheet,children:[(0,n.jsx)("div",{style:i.mobileSheetHandleRow,children:(0,n.jsx)("div",{style:i.mobileSheetHandle})}),(0,n.jsxs)("div",{style:i.mobileSheetHeader,children:[(0,n.jsx)("div",{style:i.mobileSheetTitle,children:"\u0422\u043e\u0447\u043a\u0438"}),(0,n.jsx)("button",{type:"button",onClick:()=>_(!1),style:i.mobileSheetClose,children:"\u2715"})]}),(0,n.jsx)("div",{style:i.mobileSheetBody,children:(0,n.jsx)(o.default,{markers:j,categoryTravelAddress:c,handleMarkerChange:M,handleImageUpload:R,handleMarkerRemove:$,editingIndex:b,setEditingIndex:N,activeIndex:y,setActiveIndex:I,travelId:x})})]})]})})}),(0,n.jsx)("div",{id:"markers-list-root",style:T?i.listPane:{marginTop:r.DESIGN_TOKENS.spacing.lg},children:T?(0,n.jsx)("div",{style:i.listScrollArea,children:(0,n.jsx)(o.default,{markers:j,categoryTravelAddress:c,handleMarkerChange:M,handleImageUpload:R,handleMarkerRemove:$,editingIndex:b,setEditingIndex:N,activeIndex:y,setActiveIndex:I,travelId:x})}):null})]})})}},2482,{"0":23,"1":4,"2":2483,"3":1013,"4":2,"5":2094,"6":1756,"paths":{"2094":"/_expo/static/js/web/index-659422579c4f2e91851c75a73bfc1c32.js"}});
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,n,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?o:r){if(i.has(e))return i.get(e);i.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?i(l,t,n):l[t]=e[t]);return l})(e,t)})(_r(d[1])),r=e(_r(d[2])),o=_r(d[3]),i=_r(d[4]),n=e(_r(d[5])),l=e(_r(d[6])),s=_r(d[7]);const p=l.default,c=({markers:e,categoryTravelAddress:r,handleMarkerChange:i,handleImageUpload:n,handleMarkerRemove:l,editingIndex:p,setEditingIndex:c,activeIndex:f,setActiveIndex:y})=>{const[b,v]=(0,t.useState)(''),j=(0,t.useCallback)(e=>l(e),[l]),k=(0,t.useCallback)(e=>{c(e),y?.(e)},[c,y]),S=(0,t.useMemo)(()=>e.map((e,t)=>({marker:e,index:t})).filter(({marker:e})=>{if(!b.trim())return!0;const t=b.toLowerCase();return(e.address||'').toLowerCase().includes(t)}),[e,b]);return(0,t.useEffect)(()=>{if(null==f)return;const e=document.getElementById(`marker-${f}`);e&&e.scrollIntoView({behavior:'smooth',block:'center'})},[f]),(0,s.jsxs)("div",{style:h.container,children:[(0,s.jsxs)("div",{style:h.headerRow,children:[(0,s.jsx)("div",{style:h.headerTitle,children:"\u0422\u043e\u0447\u043a\u0438"}),(0,s.jsx)("div",{style:h.headerBadge,children:e.length})]}),e.length>0&&(0,s.jsxs)("div",{style:h.searchRow,children:[(0,s.jsx)(o.Feather,{name:"search",size:14,color:u.textMuted}),(0,s.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443",style:h.searchInput})]}),0===e.length?(0,s.jsx)("p",{style:h.emptyText,children:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0442\u043e\u0447\u043a\u0438 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0443, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u0443\u044e."}):(0,s.jsx)("div",{style:h.list,children:S.map(({marker:e,index:t})=>{const r=p===t,i=e.categories&&e.categories.length>0?`${e.categories.length} ${1===e.categories.length?'\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f':'\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438'}`:'\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u044b',n=!!e.image,l=f===t;return(0,s.jsx)("div",{id:`marker-${t}`,style:{...h.markerItem,...r?h.editingItem:{},...l?h.activeItem:{}},onClick:()=>y?.(t),children:(0,s.jsxs)("div",{style:h.row,children:[(0,s.jsx)("div",{style:h.indexBadge,children:t+1}),(0,s.jsx)("div",{style:h.thumbnailWrapper,children:n?(0,s.jsx)("img",{src:e.image,alt:"\u0424\u043e\u0442\u043e",style:h.previewImage}):(0,s.jsx)("div",{style:h.placeholderImage,children:"\u041d\u0435\u0442 \u0444\u043e\u0442\u043e"})}),(0,s.jsxs)("div",{style:h.previewText,children:[(0,s.jsx)("div",{style:h.markerTitle,title:e.address||'\u0411\u0435\u0437 \u0430\u0434\u0440\u0435\u0441\u0430',children:e.address||'\u0411\u0435\u0437 \u0430\u0434\u0440\u0435\u0441\u0430'}),(0,s.jsxs)("div",{style:h.metaRow,children:[(0,s.jsx)("span",{style:h.badge,children:i}),n&&(0,s.jsx)("span",{style:h.badgeMuted,children:"\u0415\u0441\u0442\u044c \u0444\u043e\u0442\u043e"})]})]}),(0,s.jsxs)("div",{style:h.actions,children:[(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),k(t)},style:h.editButton,type:"button",children:[(0,s.jsx)(o.Feather,{name:"edit-2",size:13,color:u.primaryDark}),(0,s.jsx)("span",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),(0,s.jsxs)("button",{onClick:e=>{e.stopPropagation(),j(t)},style:h.deleteButton,type:"button",children:[(0,s.jsx)(o.Feather,{name:"trash-2",size:13,color:u.dangerDark}),(0,s.jsx)("span",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})},t)})}),null!==p&&e[p]&&(0,s.jsx)(x,{marker:e[p],index:p,categoryTravelAddress:r,handleMarkerChange:i,handleImageUpload:n,onClose:()=>c(null),onRemove:j})]})},x=({marker:e,index:i,categoryTravelAddress:l,handleMarkerChange:c,handleImageUpload:x,onClose:f,onRemove:y})=>{const[b,v]=(0,t.useState)(e.address||''),[j,k]=(0,t.useState)(e.categories||[]);if((0,t.useEffect)(()=>{v(e.address||''),k(e.categories||[])},[e,i]),'undefined'==typeof document)return null;return r.default.createPortal((0,s.jsxs)("div",{style:h.modalOverlay,children:[(0,s.jsx)("div",{style:h.modalBackdrop,onClick:f}),(0,s.jsx)("div",{style:h.modalContent,children:(0,s.jsxs)("div",{style:h.editForm,children:[(0,s.jsxs)("div",{style:h.editHeader,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:h.editTitle,children:["\u0422\u043e\u0447\u043a\u0430 #",i+1]}),(0,s.jsx)("div",{style:h.editSubtitle,children:e.address||'\u0411\u0435\u0437 \u0430\u0434\u0440\u0435\u0441\u0430'})]}),(0,s.jsx)("button",{type:"button",onClick:f,style:h.closeIconButton,children:"\xd7"})]}),(0,s.jsx)("div",{style:h.helperText,children:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u043e \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0432\u044b \u0441\u0430\u043c\u0438 \u0447\u0435\u0440\u0435\u0437 \u0433\u043e\u0434 \u0431\u044b\u0441\u0442\u0440\u043e \u043f\u043e\u043d\u044f\u043b\u0438, \u0447\u0442\u043e \u0437\u0434\u0435\u0441\u044c \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u043b\u0438 \u0434\u0435\u043b\u0430\u0442\u044c."}),(0,s.jsxs)("div",{style:h.field,children:[(0,s.jsx)("label",{style:h.fieldLabel,children:"\u0410\u0434\u0440\u0435\u0441 \u0442\u043e\u0447\u043a\u0438"}),(0,s.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),style:h.input,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041f\u0430\u0440\u043a\u043e\u0432\u043a\u0430 \u0443 \u043e\u0437\u0435\u0440\u0430 Sucha"}),(0,s.jsx)("div",{style:h.fieldHint,children:"\u041c\u043e\u0436\u043d\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0438\u0437 \u043a\u0430\u0440\u0442\u044b \u0438\u043b\u0438 \u0441\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c \u0434\u043e \u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0433\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043c\u0435\u0441\u0442\u0430."})]}),(0,s.jsxs)("div",{style:h.field,children:[(0,s.jsx)("label",{style:h.fieldLabel,children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0447\u043a\u0438"}),(0,s.jsx)(p,{label:"",items:l,value:j,onChange:e=>k(e),labelField:"name",valueField:"id"}),(0,s.jsx)("div",{style:h.fieldHint,children:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0441\u043c\u043e\u0442\u0440\u043e\u0432\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0430, \u043a\u0435\u043c\u043f\u0438\u043d\u0433, \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430, \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0430, \u043a\u0430\u0444\u0435."})]}),(0,s.jsxs)("div",{style:h.field,children:[(0,s.jsx)("label",{style:h.fieldLabel,children:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0442\u043e\u0447\u043a\u0438"}),null==e.id?(0,s.jsx)("div",{style:h.fieldHint,children:"\u0424\u043e\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \xab\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043c\u0430\u0440\u0448\u0440\u0443\u0442\xbb \u0432\u043d\u0438\u0437\u0443 \u0448\u0430\u0433\u0430 \u0438 \u0437\u0430\u0442\u0435\u043c \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0442\u043e\u0447\u043a\u0443 \u0441\u043d\u043e\u0432\u0430."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.default,{collection:"travelImageAddress",idTravel:String(e.id),oldImage:e.image,onUpload:e=>x(i,e)}),(0,s.jsx)("div",{style:h.fieldHint,children:"\u0424\u043e\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0430\u043c \u0443\u0437\u043d\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u043e. \u041c\u043e\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0434\u043d\u043e \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435."})]})]}),(0,s.jsxs)("div",{style:h.actionsRow,children:[(0,s.jsxs)("div",{style:h.primaryActions,children:[(0,s.jsx)("button",{type:"button",onClick:()=>{c(i,'address',b),c(i,'categories',j),f()},style:h.primaryButton,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,s.jsx)("button",{type:"button",onClick:f,style:h.secondaryButton,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{const t=b||e.address||'\u044d\u0442\u0443 \u0442\u043e\u0447\u043a\u0443';window.confirm(`\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0443 "${t}" \u0438\u0437 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.`)&&(y(i),f())},style:h.deleteTextButton,children:[(0,s.jsx)(o.Feather,{name:"trash-2",size:14,color:u.danger}),(0,s.jsx)("span",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0443"})]})]})]})})]}),document.body)},u=i.DESIGN_TOKENS.colors,h={container:{backgroundColor:'transparent',padding:'0'},headerRow:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'10px'},headerTitle:{fontSize:'14px',fontWeight:700,letterSpacing:'0.2px',color:u.text},headerBadge:{fontSize:'12px',fontWeight:700,padding:'2px 10px',borderRadius:'999px',backgroundColor:u.primarySoft,color:u.primaryDark},searchRow:{display:'flex',alignItems:'center',gap:'8px',padding:'10px 12px',borderRadius:'10px',border:`1px solid ${u.border}`,backgroundColor:u.surface,marginBottom:'12px'},searchInput:{width:'100%',border:'none',outline:'none',fontSize:'13px',color:u.text,backgroundColor:'transparent'},emptyText:{textAlign:'center',color:u.textMuted,fontSize:'13px',lineHeight:1.4},list:{display:'flex',flexDirection:'column',gap:'8px'},markerItem:{border:`1px solid ${u.border}`,borderRadius:'12px',padding:'10px 12px',backgroundColor:u.surface,boxShadow:i.DESIGN_TOKENS.shadows.card,cursor:'pointer',transition:'border-color 0.15s ease, box-shadow 0.15s ease'},editingItem:{border:`1px solid ${u.borderAccent}`,boxShadow:`0 0 0 3px ${u.primarySoft}`},activeItem:{border:`1px solid ${u.borderAccent}`,boxShadow:`0 0 0 3px ${u.accentSoft}`},row:{display:'flex',alignItems:'center',gap:'8px'},indexBadge:{width:'26px',height:'26px',borderRadius:'999px',backgroundColor:u.backgroundSecondary,color:u.text,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'12px',fontWeight:700,flexShrink:0},thumbnailWrapper:{width:'48px',height:'48px',borderRadius:'12px',overflow:'hidden',backgroundColor:u.backgroundSecondary,display:'flex',alignItems:'center',justifyContent:'center',flexShrink:0},previewImage:{width:'100%',height:'100%',objectFit:'contain'},placeholderImage:{fontSize:'10px',color:u.textSubtle,textAlign:'center',padding:'4px',lineHeight:1.2},previewText:{flex:1,minWidth:0},markerTitle:{fontSize:'13px',fontWeight:700,color:u.text,lineHeight:1.25,marginBottom:'4px',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',overflow:'hidden'},metaRow:{display:'flex',flexWrap:'wrap',gap:'4px'},badge:{fontSize:'11px',padding:'2px 6px',borderRadius:'999px',backgroundColor:u.accentSoft,color:u.accentDark},badgeMuted:{fontSize:'11px',padding:'2px 6px',borderRadius:'999px',backgroundColor:u.backgroundSecondary,color:u.textMuted},actions:{display:'flex',flexDirection:'column',gap:'4px',marginLeft:'8px',flexShrink:0},editButton:{backgroundColor:u.primarySoft,color:u.text,border:`1px solid ${u.border}`,padding:'6px 10px',borderRadius:'10px',cursor:'pointer',fontSize:'11px',whiteSpace:'nowrap',display:'inline-flex',alignItems:'center',gap:'6px',fontWeight:600},deleteButton:{backgroundColor:u.dangerSoft,color:u.dangerDark,border:`1px solid ${u.dangerLight}`,padding:'6px 10px',borderRadius:'10px',cursor:'pointer',fontSize:'11px',whiteSpace:'nowrap',display:'inline-flex',alignItems:'center',gap:'6px',fontWeight:600},editForm:{display:'flex',flexDirection:'column',gap:'12px'},editHeader:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'4px'},editTitle:{fontSize:'14px',fontWeight:600,color:u.text},editSubtitle:{fontSize:'12px',color:u.textMuted,marginTop:'2px',maxWidth:'260px',whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},closeIconButton:{border:'none',backgroundColor:'transparent',fontSize:'16px',lineHeight:1,cursor:'pointer',color:u.textMuted,padding:'2px 6px',borderRadius:'999px'},helperText:{fontSize:'12px',color:u.textMuted,lineHeight:1.4},field:{display:'flex',flexDirection:'column',gap:'4px',fontSize:'12px'},fieldLabel:{fontWeight:500,color:u.text},fieldHint:{fontSize:'11px',color:u.textMuted,lineHeight:1.4},input:{width:'100%',padding:'8px',border:`1px solid ${u.border}`,borderRadius:'6px',fontSize:'13px',color:u.text,backgroundColor:u.surface},imagePreview:{width:'100px',height:'100px',objectFit:'cover',borderRadius:'6px',backgroundColor:u.backgroundSecondary,marginTop:'4px'},actionsRow:{display:'flex',justifyContent:'space-between',alignItems:'center',gap:'8px',marginTop:'4px',flexWrap:'wrap'},primaryActions:{display:'flex',gap:'8px',flexWrap:'wrap'},primaryButton:{backgroundColor:u.primary,color:u.textInverse,border:'none',padding:'6px 14px',borderRadius:'6px',cursor:'pointer',fontSize:'13px',fontWeight:500},secondaryButton:{backgroundColor:u.surface,color:u.text,border:`1px solid ${u.border}`,padding:'6px 12px',borderRadius:'6px',cursor:'pointer',fontSize:'13px'},deleteTextButton:{backgroundColor:'transparent',color:u.danger,border:'none',padding:'4px 0',cursor:'pointer',fontSize:'12px',display:'inline-flex',alignItems:'center',gap:'4px',whiteSpace:'nowrap'},modalOverlay:{position:'fixed',inset:0,zIndex:1e3,display:'flex',alignItems:'center',justifyContent:'center'},modalBackdrop:{position:'absolute',inset:0,backgroundColor:i.DESIGN_TOKENS.colors.overlay},modalContent:{position:'relative',backgroundColor:u.surface,borderRadius:'12px',maxWidth:'720px',width:'90%',maxHeight:'90vh',padding:'20px 24px',boxShadow:i.DESIGN_TOKENS.shadows.modal,overflowY:'auto'}};_e.default=t.default.memo(c)},2483,[23,4,300,2651,1013,2484,1995,2]);