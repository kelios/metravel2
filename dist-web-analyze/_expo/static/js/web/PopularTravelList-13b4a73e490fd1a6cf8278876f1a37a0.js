__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?r(o,t,l):o[t]=e[t]);return o})(e,t)})(_r(d[1])),n=e(_r(d[2])),i=e(_r(d[3])),r=(e(_r(d[4])),e(_r(d[5]))),l=e(_r(d[6])),o=e(_r(d[7])),s=e(_r(d[8])),c=_r(d[9]),u=e(_r(d[10])),f=_r(d[11]),p=_r(d[12]),h=_r(d[13]);const y=(0,t.memo)(({onLayout:e,scrollToAnchor:r,title:y="\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b",maxColumns:S=3})=>{const[w,b]=(0,t.useState)({}),[C,T]=(0,t.useState)(!0),[j,E]=(0,t.useState)(!1),{width:N}=(0,o.default)(),_=(0,t.useRef)(new i.default.Value(0)).current,v=(0,t.useRef)(!0),I=(0,t.useMemo)(()=>N<640?1:N<1024||N<1280?Math.min(S,2):Math.min(S,3),[N,S]),O=(0,t.useCallback)(async()=>{if(v.current)try{T(!0),E(!1);const e=await(0,f.fetchTravelsPopular)();v.current&&b(e)}catch(e){v.current&&E(!0)}finally{v.current&&T(!1)}},[]);(0,t.useEffect)(()=>(v.current=!0,O(),()=>{v.current=!1}),[O]);const D=(0,t.useMemo)(()=>Object.values(w).slice(0,8),[w]),M=(0,t.useMemo)(()=>{const e=[];for(let t=0;t<D.length;t+=I)e.push(D.slice(t,t+I));return e},[D,I]),k=((0,t.useCallback)(({item:e})=>(0,h.jsx)(u.default,{travel:e}),[]),(0,t.useCallback)(e=>`${e.id}-${e.updated_at||''}`,[])),z=(0,t.useCallback)(({item:e,index:t})=>(0,h.jsxs)(s.default,{style:x.webRow,children:[e.map((e,t)=>(0,h.jsx)(s.default,{style:x.webItemContainer,children:(0,h.jsx)(u.default,{travel:e})},k(e))),e.length<I&&Array(I-e.length).fill(null).map((e,n)=>(0,h.jsx)(s.default,{style:x.webItemContainer},`spacer-${t}-${n}`))]}),[k,I]),R=(0,t.useCallback)(()=>{r?.()},[r]);(0,t.useEffect)(()=>{if(!C&&D.length>0&&v.current){const e=setTimeout(()=>{v.current&&i.default.timing(_,{toValue:1,duration:250,useNativeDriver:!0}).start()},50);return()=>clearTimeout(e)}},[C,D.length,_]);(0,t.useMemo)(()=>I>1?{justifyContent:"flex-start",alignItems:"stretch",gap:p.DESIGN_TOKENS.spacing.xxs,display:'flex',flexDirection:'row'}:void 0,[I]);const G=(0,t.useCallback)(()=>(0,h.jsx)(s.default,{style:x.separator}),[]);return C?(0,h.jsxs)(s.default,{style:x.loadingContainer,onLayout:e,children:[(0,h.jsx)(n.default,{size:"large",color:"#6B4F4F"}),(0,h.jsx)(l.default,{style:x.loadingText,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432\u2026"})]}):j||0===D.length?(0,h.jsx)(s.default,{style:x.loadingContainer,onLayout:e,children:(0,h.jsx)(l.default,{style:x.errorText,children:j?'\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432':'\u041d\u0435\u0442 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u043e\u0432 \ud83d\ude14'})}):(0,h.jsxs)(s.default,{style:x.section,onLayout:e,children:[null!==y&&(0,h.jsx)(c.Title,{style:x.title,accessibilityRole:"header",children:y}),(0,h.jsx)(i.default.View,{style:{opacity:_},children:(0,h.jsx)(i.default.FlatList,{data:M,renderItem:z,keyExtractor:(e,t)=>`row-${t}`,contentContainerStyle:x.flatListContent,ItemSeparatorComponent:G,showsVerticalScrollIndicator:!1,initialNumToRender:Math.min(4,M.length),maxToRenderPerBatch:4,windowSize:3,removeClippedSubviews:!1,onContentSizeChange:R,updateCellsBatchingPeriod:50,disableVirtualization:!1,accessibilityRole:"list"},`rows-${I}`)})]})});y.displayName='PopularTravelList';_e.default=y;const x=r.default.create({section:{marginTop:32,marginBottom:48,paddingHorizontal:24,paddingVertical:32,backgroundColor:"#fff",borderRadius:24,width:"100%",shadowColor:"#000",shadowOffset:{width:0,height:4},shadowOpacity:.06,shadowRadius:16,elevation:3,borderWidth:1,borderColor:'rgba(0,0,0,0.04)',minHeight:200,transition:'all 0.3s ease'},loadingContainer:{justifyContent:"center",alignItems:"center",padding:p.DESIGN_TOKENS.spacing.xs,minHeight:300},loadingText:{marginTop:p.DESIGN_TOKENS.spacing.lg,fontSize:p.DESIGN_TOKENS.typography.sizes.md,color:"#6b7280",textAlign:"center",fontWeight:"500"},errorText:{marginTop:p.DESIGN_TOKENS.spacing.lg,fontSize:p.DESIGN_TOKENS.typography.sizes.md,color:"#ef4444",textAlign:"center",fontWeight:"500"},title:{fontSize:28,fontWeight:"800",color:"#1f2937",marginBottom:p.DESIGN_TOKENS.spacing.xxs,textAlign:"center",letterSpacing:-.5,fontFamily:'system-ui, -apple-system, sans-serif'},flatListContent:{paddingBottom:p.DESIGN_TOKENS.spacing.xxs,paddingHorizontal:0},webRow:{flexDirection:'row',width:'100%',gap:p.DESIGN_TOKENS.spacing.xxs},webItemContainer:{flex:1,minWidth:0},separator:{height:20}})},2566,[23,4,407,309,123,145,132,447,315,2652,2564,1758,1013,2]);