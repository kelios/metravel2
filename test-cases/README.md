# Тест-кейсы MeTravel2

## Описание

Данная директория содержит полную документацию тест-кейсов для тестирования функциональности приложения MeTravel2. Тест-кейсы организованы по страницам приложения для удобства навигации и максимального покрытия.

**Общее количество тест-кейсов: 319**

---

## Структура документации по страницам

### ✅ Созданные документы

1. **[home-page-test-cases.md](./home-page-test-cases.md)** - Главная страница (/)
   - 15 тест-кейсов
   - Приоритет: P1 (Critical)
   - Покрытие: загрузка, популярные путешествия, навигация, SEO, производительность

2. **[travelsby-page-test-cases.md](./travelsby-page-test-cases.md)** - Путешествия по Беларуси (/travelsby)
   - 20 тест-кейсов
   - Приоритет: P1 (Critical)
   - Покрытие: списки, фильтры, пагинация, избранное, поиск

3. **[travel-detail-page-test-cases.md](./travel-detail-page-test-cases.md)** - Детальная страница путешествия (/travels/[id])
   - 30 тест-кейсов
   - Приоритет: P1 (Critical)
   - Покрытие: просмотр деталей, галерея, карта маршрута, точки, SEO, производительность

4. **[map-page-test-cases.md](./map-page-test-cases.md)** - Карта путешествий (/map)
   - 24 тест-кейса
   - Приоритет: P1 (Critical)
   - Покрытие: интерактивная карта, маркеры, фильтры, кластеризация, геолокация

5. **[roulette-page-test-cases.md](./roulette-page-test-cases.md)** - Рулетка путешествий (/roulette)
   - 25 тест-кейсов
   - Приоритет: P2 (High)
   - Покрытие: запуск рулетки, фильтры, анимация, результаты, избранное

6. **[search-page-test-cases.md](./search-page-test-cases.md)** - Глобальный поиск (/search)
   - 25 тест-кейсов
   - Приоритет: P2 (High)
   - Покрытие: поиск, автодополнение, фильтры, сортировка, пагинация

7. **[login-page-test-cases.md](./login-page-test-cases.md)** - Авторизация (/login)
   - 20 тест-кейсов
   - Приоритет: P1 (Critical)
   - Покрытие: вход, валидация, ошибки, редиректы, сессии

8. **[registration-page-test-cases.md](./registration-page-test-cases.md)** - Регистрация (/registration)
   - 25 тест-кейсов
   - Приоритет: P1 (Critical)
   - Покрытие: регистрация, валидация, подтверждение email, индикатор пароля

9. **[favorites-page-test-cases.md](./favorites-page-test-cases.md)** - Избранное (/favorites)
   - 20 тест-кейсов
   - Приоритет: P2 (High)
   - Покрытие: список избранного, добавление/удаление, фильтры, экспорт

10. **[profile-page-test-cases.md](./profile-page-test-cases.md)** - Профиль (/profile)
    - 25 тест-кейсов
    - Приоритет: P2 (High)
    - Покрытие: редактирование профиля, аватар, пароль, статистика, настройки

11. **[userpoints-page-test-cases.md](./userpoints-page-test-cases.md)** - Мои точки (/userpoints)
    - 30 тест-кейсов
    - Приоритет: P2 (High)
    - Покрытие: импорт GPS точек, управление точками, карта, экспорт GPX/KML

12. **[travel-wizard-test-cases.md](./travel-wizard-test-cases.md)** - Создание/редактирование путешествия (/travel/new, /travel/[id])
    - 30 тест-кейсов
    - Приоритет: P1 (Critical)
    - Покрытие: многошаговый визард, валидация, загрузка изображений, точки маршрута, категории, черновики, публикация

13. **[export-pdf-test-cases.md](./export-pdf-test-cases.md)** - Экспорт в PDF (/export)
    - 30 тест-кейсов
    - Приоритет: P2 (High)
    - Покрытие: выбор путешествий, настройки экспорта, генерация PDF, темы оформления, прогресс, обработка ошибок

---

## Категории тест-кейсов

### По функциональности

1. **Навигация и роутинг** (присутствуют во всех документах)
   - Загрузка страниц
   - Переходы между страницами
   - Browser back/forward
   - Deep links

2. **Аутентификация и авторизация**
   - Вход (login-page-test-cases.md)
   - Регистрация (registration-page-test-cases.md)
   - Защита страниц (favorites, profile)
   - Выход из системы

3. **Работа с данными**
   - Загрузка списков
   - CRUD операции
   - Фильтрация и поиск
   - Сортировка и пагинация

4. **UI/UX**
   - Мобильная адаптивность
   - Анимации
   - Loading states
   - Empty states
   - Error handling

5. **SEO и производительность**
   - Метатеги
   - Canonical URLs
   - Lighthouse метрики
   - Производительность

6. **Accessibility (a11y)**
   - Keyboard navigation
   - Screen reader support
   - ARIA attributes
   - Focus management

---

## Приоритизация тестирования

### P1 (Critical) - 5 страниц
- Главная (/)
- Путешествия (/travelsby)
- Карта (/map)
- Вход (/login)
- Регистрация (/registration)

**Эти страницы критичны для основного функционала. Тестируются в первую очередь перед каждым релизом.**

### P2 (High) - 4 страницы
- Рулетка (/roulette)
- Поиск (/search)
- Избранное (/favorites)
- Профиль (/profile)

**Важные функции пользовательского опыта. Тестируются регулярно.**

### P3 (Medium) - Планируется
- Детальная страница путешествия
- Квесты
- Статьи

### P4 (Low) - Планируется
- Экспорт в PDF
- Настройки cookies
- О нас / Контакты

---

## Использование тест-кейсов

### Для ручного тестирования

1. Выберите страницу для тестирования
2. Откройте соответствующий документ
3. Последовательно выполните тест-кейсы согласно приоритету
4. Отмечайте выполненные проверки (checkbox)
5. Фиксируйте баги в системе отслеживания

### Для автоматизации

Каждый документ содержит раздел **"Покрытие автоматизацией"** с указанием:
- Jest unit tests
- Playwright E2E tests
- Связанные файлы

Используйте эту информацию для создания автоматических тестов.

### Для code review

При изменении страницы проверьте соответствующие тест-кейсы:
- Все ли сценарии учтены?
- Не нарушена ли существующая функциональность?
- Нужны ли новые тест-кейсы?

---

## Требования к окружению

### Для запуска тестов

См. `/docs/TESTING.md` для детальной настройки:

```bash
# Node.js
node >= 20.19.4

# Package manager
yarn@1.22.x

# Backend API
EXPO_PUBLIC_API_URL=http://192.168.50.36/api
# или с прокси для локальной QA
E2E_API_PROXY_TARGET=https://metravel.by
E2E_API_PROXY_INSECURE=true
```

### Браузеры для тестирования

- **Desktop**: Chrome, Firefox, Safari (latest)
- **Mobile**: iOS Safari, Chrome Mobile

### Разрешения экрана

- **Mobile**: 375x667, 390x844, 414x896
- **Tablet**: 768x1024, 820x1180
- **Desktop**: 1280x720, 1440x900, 1920x1080

---

## Метрики покрытия

### Текущее состояние (по созданным документам)

| Страница | Тест-кейсов | Приоритет | Автоматизация |
|----------|-------------|-----------|---------------|
| Главная | 15 | P1 | Частично |
| Путешествия | 20 | P1 | Частично |
| Детальная страница | 30 | P1 | Частично |
| Визард создания/редактирования | 30 | P1 | Есть |
| Карта | 24 | P1 | Частично |
| Рулетка | 25 | P2 | Частично |
| Поиск | 25 | P2 | Планируется |
| Вход | 20 | P1 | Есть |
| Регистрация | 25 | P1 | Есть |
| Избранное | 20 | P2 | Частично |
| Профиль | 25 | P2 | Частично |
| Мои точки | 30 | P2 | Есть |
| Экспорт PDF | 30 | P2 | Частично |
| **ИТОГО** | **319** | - | **~55%** |

### Целевые показатели

- **Ручное покрытие**: 100% критичных сценариев (P1)
- **Автоматизация**: 80% регрессионных сценариев
- **E2E**: 60% основных user flows
- **Unit tests**: 85% утилит и бизнес-логики

---

## Связь с автоматизацией

### Существующие автоматические тесты

```
__tests__/          # Jest unit/integration tests
├── app/            # Тесты страниц
├── components/     # Тесты компонентов
├── services/       # Тесты сервисов
├── stores/         # Тесты хранилищ
└── utils/          # Тесты утилит

e2e/                # Playwright E2E tests
├── auth-login.spec.ts
├── auth-registration.spec.ts
├── home-page.spec.ts
├── travel-wizard.spec.ts
└── user-points.spec.ts
```

### Запуск автоматических тестов

```bash
# Unit/Integration tests
yarn test           # watch mode
yarn test:run       # single run
yarn test:coverage  # с покрытием

# E2E tests
yarn e2e            # все E2E тесты
yarn e2e:headed     # с отображением браузера
yarn e2e:ui         # UI mode для отладки

# CI pipeline
yarn test:ci        # полный набор для CI
```

---

## Процесс обновления тест-кейсов

### При добавлении новой функции

1. Создайте новые тест-кейсы в соответствующем документе
2. Укажите приоритет (P1-P4)
3. Добавьте связь с автоматизацией
4. Обновите счетчик в README

### При изменении существующей функции

1. Найдите связанные тест-кейсы
2. Обновите шаги и ожидаемые результаты
3. Отметьте, если нужна переработка автотестов

### При обнаружении бага

1. Проверьте, есть ли тест-кейс для этого сценария
2. Если нет - добавьте новый тест-кейс
3. Пометьте как "Regression test"

---

## Отчетность

### Шаблон отчета о тестировании

```markdown
# Отчет о тестировании [Версия]

**Дата**: YYYY-MM-DD
**Тестировщик**: Имя

## Scope
- Страницы: home, travelsby, map, login, registration
- Приоритет: P1, P2
- Окружение: localhost / staging / production

## Результаты
- Всего тест-кейсов: 100
- Выполнено: 95
- Пройдено: 90
- Упало: 5
- Заблокировано: 0

## Найденные баги
1. [BUG-001] Описание
2. [BUG-002] Описание

## Рекомендации
- ...
```

---

## Контакты и ответственность

- **Лид тестирования**: [Ваше имя]
- **QA команда**: [Список]
- **Вопросы по тест-кейсам**: [email/slack]

---

## История изменений

### 2026-02-01
- ✅ Создана структура папки test-cases
- ✅ Добавлено 13 документов с тест-кейсами
- ✅ Общее количество тест-кейсов: 319
- ✅ Покрыты все основные страницы приложения
- ✅ Добавлены тест-кейсы для детальной страницы путешествия (30)
- ✅ Добавлены тест-кейсы для страницы "Мои точки" (30)
- ✅ Добавлены тест-кейсы для визарда создания/редактирования путешествия (30)
- ✅ Добавлены тест-кейсы для экспорта в PDF (30)

### Планируется
- ⏳ Тест-кейсы для квестов
- ⏳ Тест-кейсы для статей
- ⏳ Интеграционные тест-кейсы
- ⏳ Performance тест-кейсы
- ⏳ Security тест-кейсы
