# üó∫Ô∏è –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –∫–∞—Ä—Ç–∞–º - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏ —Ä–µ—à–µ–Ω–∏–µ

**–î–∞—Ç–∞:** 29 –¥–µ–∫–∞–±—Ä—è 2025  
**–¶–µ–ª—å:** –ò–∑–±–µ–∂–∞—Ç—å –ø–ª–∞—Ç–Ω—ã—Ö –∫–∞—Ä—Ç (Google Maps, Apple Maps) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–∞—Ä—Ç –¥–ª—è React Native + Web

| –†–µ—à–µ–Ω–∏–µ | iOS | Android | Web | –¶–µ–Ω–∞ | –õ–∏–º–∏—Ç—ã | –°—Ç–∞—Ç—É—Å |
|---------|-----|---------|-----|------|--------|--------|
| **OpenStreetMap (Leaflet)** | ‚úÖ | ‚úÖ | ‚úÖ | üÜì | –ù–µ—Ç | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **Mapbox GL JS** | ‚úÖ | ‚úÖ | ‚úÖ | üí∞ | 50k/–º–µ—Å—è—Ü –±–µ—Å–ø–ª–∞—Ç–Ω–æ | ‚ö†Ô∏è –ú–æ–∂–Ω–æ |
| **Google Maps** | ‚úÖ | ‚úÖ | ‚úÖ | üí∞ | –ü–ª–∞—Ç–Ω–∞—è | ‚ùå –ù–µ—Ç |
| **Apple Maps** | ‚úÖ | ‚ùå | ‚ùå | üí∞ | –ü–ª–∞—Ç–Ω–∞—è | ‚ùå iOS only |
| **Here Maps** | ‚úÖ | ‚úÖ | ‚úÖ | üí∞ | 250k –±–µ—Å–ø–ª–∞—Ç–Ω–æ | ‚ö†Ô∏è –ú–æ–∂–Ω–æ |
| **Tomtom** | ‚úÖ | ‚úÖ | ‚úÖ | üí∞ | –ü–ª–∞—Ç–Ω–∞—è | ‚ùå –ù–µ—Ç |

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–û–ï –†–ï–®–ï–ù–ò–ï: OpenStreetMap

### –ü–æ—á–µ–º—É OSM –ª—É—á—à–µ –≤—Å–µ–≥–æ?
- ‚úÖ **100% –±–µ—Å–ø–ª–∞—Ç–Ω–æ** - –Ω–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –Ω–µ—Ç –ª–∏–º–∏—Ç–æ–≤
- ‚úÖ **–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–¥** - –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
- ‚úÖ **–£–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ** - Leaflet –¥–ª—è Web —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ **–ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ** - —Ö–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ **–ú–∞—Ä—à—Ä—É—Ç—ã** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å OSRM –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞

### –ú–∏–Ω—É—Å—ã
- ‚ùå –ö–∞—á–µ—Å—Ç–≤–æ –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ–º–µ–Ω—á–∏–≤–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—ÇÂå∫Âüü)
- ‚ùå –ú–∞—Ä—à—Ä—É—Ç—ã –Ω—É–∂–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ (OSRM)
- ‚ùå –ò–∫–æ–Ω–∫–∏ –º–∞—Ä–∫–µ—Ä–æ–≤ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

---

## üîß –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø –í –ü–†–û–ï–ö–¢–ï

### Web (Leaflet)
‚úÖ **–£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenStreetMap** - –≤ `components/MapPage/Map.web.tsx`

### iOS/Android (react-native-maps)
‚ùå **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Google Maps** (—Ç—Ä–µ–±—É–µ—Ç API key)

### –ó–∞–¥–∞—á–∞
üéØ **–ó–∞–º–µ–Ω–∏—Ç—å react-native-maps –Ω–∞ OpenStreetMap** –¥–ª—è iOS –∏ Android

---

## üì¶ –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô

```bash
# –î–ª—è Web (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ)
npm list leaflet react-leaflet

# –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å:
# –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WebView —Å Leaflet (–ø—Ä–æ—â–µ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ)
# –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å react-native-vector-tiles (—Å–ª–æ–∂–Ω–æ, –Ω–æ –±—ã—Å—Ç—Ä–æ)
# –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å react-native-openlayers (–Ω–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)

# –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç - WebView + Leaflet:
npm install react-native-webview
```

---

## üí° –í–ê–†–ò–ê–ù–¢–´ –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –í–ê–†–ò–ê–ù–¢ 1: WebView —Å Leaflet (–†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–¥ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Leaflet
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–∏—á–∏

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ native maps
- –¢—Ä–µ–±—É–µ—Ç WebView –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
- –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞
- –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Å—Ç–∏–ª—å –≤–µ–∑–¥–µ

---

### üîÑ –í–ê–†–ò–ê–ù–¢ 2: react-native-openlayers

**Npm:** `react-native-openlayers`

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é native –¥–ª—è iOS/Android
- –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- OpenStreetMap –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞)
- –ú–µ–Ω—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã –∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º

---

### üìç –í–ê–†–ò–ê–ù–¢ 3: OSRM + –ú–∞—Ä–∫–µ—Ä—ã –Ω–∞ Leaflet

**–î–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ –≤–º–µ—Å—Ç–æ Google Directions:**
- OSRM (Open Source Routing Machine)
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ

```bash
npm install osrm
```

---

## üõ£Ô∏è –ú–ê–†–®–†–£–¢–´ –ë–ï–ó GOOGLE MAPS

### –í–∞—Ä–∏–∞–Ω—Ç 1: OSRM (Open Source Routing Machine)
```
URL: https://router.project-osrm.org/
–ë–µ—Å–ø–ª–∞—Ç–Ω–æ: –î–∞
–õ–∏–º–∏—Ç—ã: –ù–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö, –Ω–æ –ø—Ä–æ—Å—è—Ç –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å
–¢–æ—á–Ω–æ—Å—Ç—å: –•–æ—Ä–æ—à–∞—è
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: GraphHopper
```
URL: https://www.graphhopper.com/
–ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 10k –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
–õ–∏–º–∏—Ç—ã: 10k –≤ –¥–µ–Ω—å (–Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è)
–¢–æ—á–Ω–æ—Å—Ç—å: –û—Ç–ª–∏—á–Ω–∞—è
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Vroom
```
URL: https://vroom-project.org/
–ë–µ—Å–ø–ª–∞—Ç–Ω–æ: –î–∞ (deploy —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ)
–õ–∏–º–∏—Ç—ã: –ù–µ—Ç
–¢–æ—á–Ω–æ—Å—Ç—å: –•–æ—Ä–æ—à–∞—è
```

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OSRM - —Å–∞–º—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

---

## üé® –ú–ê–°–®–¢–ê–ë–ò–†–£–ï–ú–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

–°–æ–∑–¥–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –¥–ª—è –∫–∞—Ä—Ç, —á—Ç–æ–±—ã –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏:

```typescript
// src/services/MapService.ts
type MapProvider = 'openstreetmap' | 'mapbox' | 'google';

interface MapConfig {
  provider: MapProvider;
  apiKey?: string;
  maxBounds?: [[number, number], [number, number]];
  defaultCenter?: [number, number];
  defaultZoom?: number;
}

class MapService {
  static getMapProvider(): MapProvider {
    return 'openstreetmap'; // –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è
  }
  
  static getRouteEngine(): 'osrm' | 'graphhopper' {
    return 'osrm';
  }
}
```

---

## üöÄ –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 —á–∞—Å)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
- [ ] –°–æ–∑–¥–∞—Ç—å `MapService` –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å WebView –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö

### –§–∞–∑–∞ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è (2-3 —á–∞—Å–∞)
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `Map.ios.tsx` –Ω–∞ WebView
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `Map.android.tsx` –Ω–∞ WebView
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `MapPage/Map.ios.tsx`
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `MapPage/Map.android.tsx`
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `MapUploadComponent.ios.tsx`
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `MapUploadComponent.android.tsx`

### –§–∞–∑–∞ 3: –ú–∞—Ä—à—Ä—É—Ç—ã (1-2 —á–∞—Å–∞)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å OSRM –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [ ] –û–±–Ω–æ–≤–∏—Ç—å RoutingMachine –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –§–∞–∑–∞ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-4 —á–∞—Å–∞)
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ iOS
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Android
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Web
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–ò—Ç–æ–≥–æ:** 6-11 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

–°–æ–∑–¥–∞–º –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è:
1. ‚úÖ `Map.ios.tsx` - –Ω–∞ WebView —Å Leaflet
2. ‚úÖ `Map.android.tsx` - –Ω–∞ WebView —Å Leaflet
3. ‚úÖ `MapPage/Map.ios.tsx` - –Ω–∞ WebView
4. ‚úÖ `MapPage/Map.android.tsx` - –Ω–∞ WebView
5. ‚úÖ `MapUploadComponent.ios.tsx` - –Ω–∞ WebView
6. ‚úÖ `MapUploadComponent.android.tsx` - –Ω–∞ WebView
7. ‚úÖ `OSRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è` - –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

**–°–æ–≥–ª–∞—Å–Ω—ã –ª–∏ –≤—ã —Å —ç—Ç–∏–º –ø–ª–∞–Ω–æ–º? –ù–∞—á–∏–Ω–∞—é –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã?**

