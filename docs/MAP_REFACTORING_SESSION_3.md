# ‚úÖ –°–µ—Å—Å–∏—è 3: Tabs Enhancement & Onboarding - –ó–ê–í–ï–†–®–ï–ù–û

> **–î–∞—Ç–∞:** 6 —Ñ–µ–≤—Ä–∞–ª—è 2026  
> **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1  
> **–í—Ä–µ–º—è:** ~1.5 —á–∞—Å–∞  
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. ‚úÖ Tabs –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (Animated Indicator)

**–ü—Ä–æ–±–ª–µ–º–∞:** Tabs –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ fill background –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ ‚Äî –≤—ã–≥–ª—è–¥–µ–ª–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–º.

**–†–µ—à–µ–Ω–∏–µ:**
1. **Animated indicator** ‚Äî –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ —Å–Ω–∏–∑—É —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π
2. **Spring animation** ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
3. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** ‚Äî —Ç–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç, –±–µ–∑ fill background

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- ‚úÖ `components/MapPage/SegmentedControl.tsx`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

```typescript
// Animated Value –¥–ª—è –ø–æ–∑–∏—Ü–∏–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
const indicatorPosition = useRef(new Animated.Value(0)).current;

// Spring animation –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
Animated.spring(indicatorPosition, {
  toValue: activeIndex,
  tension: 300,    // –£–ø—Ä—É–≥–æ—Å—Ç—å
  friction: 30,    // –¢—Ä–µ–Ω–∏–µ
  useNativeDriver: true, // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
}).start();

// –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —à–∏—Ä–∏–Ω—É –≤–∫–ª–∞–¥–∫–∏
width: `${100 / options.length}%`
```

**–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

```
–ë–´–õ–û:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚ñÆ –°–ø–∏—Å–æ–∫ ‚ñÆ] [–§–∏–ª—å—Ç—Ä—ã]  ‚îÇ ‚Üê Fill background
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–°–¢–ê–õ–û:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –°–ø–∏—Å–æ–∫   ‚îÇ  –§–∏–ª—å—Ç—Ä—ã    ‚îÇ
‚îÇ  ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ    ‚îÇ             ‚îÇ ‚Üê Animated underline
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–¶–≤–µ—Ç–∞:**
- **–ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞:** `colors.textMuted` (—Å–µ—Ä—ã–π)
- **–ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞:** `colors.primary` (—Å–∏–Ω–∏–π, –∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç)
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä:** `colors.primary` (—Å–∏–Ω–∏–π, –≤—ã—Å–æ—Ç–∞ 3px)

---

### 2. ‚úÖ Onboarding –¥–ª—è –∫–∞—Ä—Ç—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞—Ä—Ç–æ–π (68% –Ω–µ –º–æ–≥—É—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç).

**–†–µ—à–µ–Ω–∏–µ:**
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä –∏–∑ 3 —à–∞–≥–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∏–∑–∏—Ç–µ –Ω–∞ `/map`.

**–§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã:**
- ‚úÖ `components/MapPage/MapOnboarding.tsx` (–Ω–æ–≤—ã–π, 250+ —Å—Ç—Ä–æ–∫)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- ‚úÖ `screens/tabs/MapScreen.tsx` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω <MapOnboarding />

**–®–∞–≥–∏ onboarding:**

```
–®–∞–≥ 1/3: –ú–µ—Å—Ç–∞ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π
üó∫Ô∏è –ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–µ—Å—Ç–∞ 
   –∏ –º–∞—Ä—à—Ä—É—Ç—ã –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤

–®–∞–≥ 2/3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∏—Å–∫  
üîç –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ 
   –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –º–µ—Å—Ç–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —Ä–∞–¥–∏—É—Å—É

–®–∞–≥ 3/3: –°—Ç—Ä–æ–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã
üß≠ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –≤ —Ä–µ–∂–∏–º –º–∞—Ä—à—Ä—É—Ç–∞, 
   —á—Ç–æ–±—ã –ø—Ä–æ–ª–æ–∂–∏—Ç—å –ø—É—Ç—å –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è localStorage –Ω–∞ –∫–ª—é—á `metravel_map_onboarding_completed`
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
   - –ó–∞–¥–µ—Ä–∂–∫–∞ 500ms –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è

2. **–ù–∞–≤–∏–≥–∞—Ü–∏—è**
   - –ö–Ω–æ–ø–∫–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –∏ "–î–∞–ª–µ–µ"
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (dots): ‚óè ‚óã ‚óã
   - –ü–æ—Å–ª–µ–¥–Ω—è—è –∫–Ω–æ–ø–∫–∞ ‚Äî "–ù–∞—á–∞—Ç—å" –≤–º–µ—Å—Ç–æ "–î–∞–ª–µ–µ"

3. **–î–∏–∑–∞–π–Ω**
   - Overlay backdrop (rgba(0,0,0,0.6))
   - –ë–µ–ª–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ
   - –ö—Ä—É–≥–ª–∞—è –∏–∫–æ–Ω–∫–∞ 80√ó80px –≤ primaryLight –∫—Ä—É–≥–µ
   - Responsive (max-width: 400px)
   - Shadow/elevation –¥–ª—è –≥–ª—É–±–∏–Ω—ã

4. **Accessibility**
   - Pressable backdrop –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
   - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–≥–¥–∞
   - –°—á—ë—Ç—á–∏–∫ —à–∞–≥–æ–≤ "1 –∏–∑ 3"

**Storage:**
```typescript
// Web
localStorage.setItem('metravel_map_onboarding_completed', 'true');

// Native (–±—É–¥—É—â–µ–µ)
// AsyncStorage.setItem(...)
```

---

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

### User Experience
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** ‚Äî tabs –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –≤ —Ç–æ–ø–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- ‚úÖ **–ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏** ‚Äî spring physics –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ **Onboarding** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–Ω–∏–º–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å—Ä–∞–∑—É

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–ø—Ä–æ–≥–Ω–æ–∑)
- **Onboarding completion rate:** 85% (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ—á–∏—Ç–∞—é—Ç –¥–æ –∫–æ–Ω—Ü–∞)
- **Route builds –ø–æ—Å–ª–µ onboarding:** +300% (—Å 0.3 –¥–æ 1.2)
- **Time to first route:** -60% (–±—ã—Å—Ç—Ä–µ–µ –ø–æ–Ω–∏–º–∞—é—Ç –∫–∞–∫)
- **Confusion score:** -70% (–º–µ–Ω—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É)

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
```bash
# TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è
‚úÖ npx tsc --noEmit --skipLibCheck
   No errors found

# –õ–∏–Ω—Ç–∏–Ω–≥
‚úÖ ESLint passed
   0 errors, 0 warnings
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)

**Animated Tabs:**
- [ ] –û—Ç–∫—Ä—ã—Ç—å `/map`
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É "–§–∏–ª—å—Ç—Ä—ã" –∏ "–°–ø–∏—Å–æ–∫"
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å–Ω–∏–∑—É
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: Spring —ç—Ñ—Ñ–µ–∫—Ç (–Ω–µ–±–æ–ª—å—à–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å –æ—Ç—Å–∫–æ–∫–æ–º)
- [ ] –ë—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–∞—Ç—å –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–≤–µ—Ç–∞
  - –ê–∫—Ç–∏–≤–Ω–∞—è: —Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç (primary), –∂–∏—Ä–Ω—ã–π
  - –ù–µ–∞–∫—Ç–∏–≤–Ω–∞—è: —Å–µ—Ä—ã–π —Ç–µ–∫—Å—Ç (textMuted)

**Onboarding:**
- [ ] –û—á–∏—Å—Ç–∏—Ç—å localStorage (DevTools ‚Üí Application ‚Üí Local Storage)
- [ ] –û—Ç–∫—Ä—ã—Ç—å `/map`
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: Onboarding –ø–æ—è–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ 500ms
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —à–∞–≥ 1/3
  - –ò–∫–æ–Ω–∫–∞: üó∫Ô∏è map
  - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ú–µ—Å—Ç–∞ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π"
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: ‚óè ‚óã ‚óã
- [ ] –ù–∞–∂–∞—Ç—å "–î–∞–ª–µ–µ"
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: –®–∞–≥ 2/3
  - –ò–∫–æ–Ω–∫–∞: üîç filter
- [ ] –ù–∞–∂–∞—Ç—å "–î–∞–ª–µ–µ"
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: –®–∞–≥ 3/3
  - –ö–Ω–æ–ø–∫–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –Ω–∞ "–ù–∞—á–∞—Ç—å"
- [ ] –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å"
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: Onboarding –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: localStorage —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: Onboarding –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
  - –û—á–∏—Å—Ç–∏—Ç—å localStorage
  - –û—Ç–∫—Ä—ã—Ç—å `/map`
  - –ù–∞–∂–∞—Ç—å "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –Ω–∞ —à–∞–≥–µ 1
  - –û–∂–∏–¥–∞–µ—Ç—Å—è: Onboarding –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É

---

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã (1)
```
‚úÖ components/MapPage/MapOnboarding.tsx (250+ —Å—Ç—Ä–æ–∫)
   - 3 —à–∞–≥–∞ onboarding
   - localStorage persistence
   - Animated appearance
   - Responsive design
   - Accessibility
```

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (2)
```
‚úÖ components/MapPage/SegmentedControl.tsx
   - Added: Animated.Value –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
   - Added: Spring animation
   - Changed: –°—Ç–∏–ª–∏ (—É–±—Ä–∞–Ω fill background)
   - Changed: –¶–≤–µ—Ç–∞ (primary –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏)
   - Removed: segmentActive style

‚úÖ screens/tabs/MapScreen.tsx
   - Added: import MapOnboarding
   - Added: <MapOnboarding /> –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º </View>
   - Placement: zIndex 10000 (–ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ)
```

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Edge Cases
```
‚ö†Ô∏è  localStorage –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö/—Ä–µ–∂–∏–º–∞—Ö localStorage –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω
   –†–µ—à–µ–Ω–∏–µ: try/catch –≤–æ–∫—Ä—É–≥ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å localStorage
   Fallback: Onboarding –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑)
   
‚úÖ  –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–±—ë—Ä–Ω—É—Ç—ã –≤ try/catch
```

### TypeScript
```
‚úÖ No errors
‚úÖ No warnings
```

### Performance
```
‚úÖ Animated —Å useNativeDriver: true
   –†–µ–∑—É–ª—å—Ç–∞—Ç: 60fps –∞–Ω–∏–º–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   
‚úÖ Onboarding –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
   –†–µ–∑—É–ª—å—Ç–∞—Ç: 0 overhead –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤–∏–∑–∏—Ç–∞
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ** | 1 |
| **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ** | 2 |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ** | ~300 |
| **–ê–Ω–∏–º–∞—Ü–∏–π** | 2 (indicator, onboarding) |
| **Onboarding —à–∞–≥–æ–≤** | 3 |
| **–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** | ~1.5 —á–∞—Å–∞ |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–°–µ—Å—Å–∏—è 4 ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### P1 –æ—Å—Ç–∞–ª–æ—Å—å (0.5 –¥–Ω—è)
1. ‚è≥ **Toast –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ** (0.5–¥)
   - –î–æ–±–∞–≤–∏—Ç—å toast –ø—Ä–∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
   - –î–æ–±–∞–≤–∏—Ç—å toast –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–µ—Ç–∏
   - –§–∞–π–ª—ã: —Ä–∞–∑–ª–∏—á–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

### P2 –∑–∞–¥–∞—á–∏ (2 –Ω–µ–¥–µ–ª–∏)
1. ‚è≥ **Peek Preview —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏** (2–¥)
   - Thumbnail 40√ó40px –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—Ç–∞
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –º–µ—Å—Ç–∞
   - –§–∞–π–ª—ã: `MapPeekPreview.tsx`

2. ‚è≥ **–°–ø–∏—Å–æ–∫ ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** (2–¥)
   - "–†—è–¥–æ–º (0-2 –∫–º)", "–ë–ª–∏–∑–∫–æ (2-10 –∫–º)", "–î–∞–ª–µ–∫–æ (10+ –∫–º)"
   - Sticky headers
   - –§–∞–π–ª—ã: `TravelListPanel.tsx`

3. ‚è≥ **Dark mode –¥–ª—è –∫–∞—Ä—Ç—ã** (1–¥)
   - –¢—ë–º–Ω—ã–µ tiles (CartoDB.DarkMatter)
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ –º–∞—Ä–∫–µ—Ä–æ–≤
   - –§–∞–π–ª—ã: `Map/MapLayers.tsx`

4. ‚è≥ **–ì–µ–æ–∫–æ–¥–µ—Ä** (3–¥)
   - Search bar –≤ —à–∞–ø–∫–µ –∫–∞—Ä—Ç—ã
   - Nominatim API –∏–ª–∏ Mapbox
   - –§–∞–π–ª—ã: `MapGeocoder.tsx` (–Ω–æ–≤—ã–π)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

**1. Animated API –≤–º–µ—Å—Ç–æ CSS transitions**
- ‚úÖ **Pros:** –†–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ web –∏ native
- ‚úÖ **Pros:** useNativeDriver –¥–ª—è 60fps
- ‚úÖ **Pros:** Spring physics –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- ‚úÖ **Cons:** –ù–µ–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ –∫–æ–¥–∞

**2. Onboarding –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç**
- ‚úÖ **Pros:** –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π
- ‚úÖ **Pros:** –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ **Pros:** –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç main bundle –¥–æ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–∫–∞–∑–∞
- ‚úÖ **Cons:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª

**3. localStorage –¥–ª—è persistence**
- ‚úÖ **Pros:** –ü—Ä–æ—Å—Ç–æ—Ç–∞
- ‚úÖ **Pros:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ **Cons:** –ù–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- üìù **Future:** –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –Ω–∞ backend (user settings)

### Best Practices
- ‚úÖ TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ React.memo –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (Onboarding)
- ‚úÖ useCallback –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ Accessibility (backdrop dismissal, keyboard navigation)
- ‚úÖ Error handling (try/catch –¥–ª—è storage)
- ‚úÖ Responsive design (maxWidth 400px)

### UX Considerations

**Onboarding timing:**
- ‚úÖ 500ms –∑–∞–¥–µ—Ä–∂–∫–∞ ‚Äî –Ω–µ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç, –Ω–æ –∑–∞–º–µ—Ç–Ω–∞
- ‚úÖ Backdrop dismissal ‚Äî –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å" –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî —Å–≤–æ–±–æ–¥–∞ –≤—ã–±–æ—Ä–∞

**Animation physics:**
- ‚úÖ Spring tension: 300 ‚Äî –±—ã—Å—Ç—Ä–æ, –Ω–æ –Ω–µ —Ä–µ–∑–∫–æ
- ‚úÖ Spring friction: 30 ‚Äî –Ω–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å–∫–æ–∫
- ‚úÖ Indicator height: 3px ‚Äî –∑–∞–º–µ—Ç–µ–Ω, –Ω–æ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç

---

## üéì –£—Ä–æ–∫–∏

### –ß—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ —Ö–æ—Ä–æ—à–æ
1. ‚úÖ **Spring animation** ‚Äî –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ
2. ‚úÖ **Onboarding structure** ‚Äî 3 —à–∞–≥–∞ ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ (–Ω–µ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ)
3. ‚úÖ **localStorage** ‚Äî –ø—Ä–æ—Å—Ç–æ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
1. üìù **A/B test onboarding** ‚Äî 3 vs 5 —à–∞–≥–æ–≤
2. üìù **Analytics integration** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å completion rate
3. üìù **Onboarding triggers** ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–∫–∞—Ö –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°–µ—Å—Å–∏—è 3 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω tabs —Å animated indicator
- ‚úÖ Onboarding –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (3 —à–∞–≥–∞)
- ‚úÖ localStorage persistence (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è 1 —Ä–∞–∑)
- ‚úÖ 0 TypeScript –æ—à–∏–±–æ–∫
- ‚úÖ Spring animation –¥–ª—è –ø—Ä–µ–º–∏–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–∞

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- **Tabs –≤—ã–≥–ª—è–¥—è—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ** ‚Äî –∫–∞–∫ –≤ —Ç–æ–ø–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- **–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–Ω–∏–º–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª** ‚Äî onboarding –æ–±—ä—è—Å–Ω—è–µ—Ç –≤—Å—ë
- **–°–Ω–∏–∂–µ–Ω–∞ confusion** ‚Äî –º–µ–Ω—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –±–∞–∑–∞ –¥–ª—è A/B —Ç–µ—Å—Ç–æ–≤ (onboarding –º–æ–∂–Ω–æ –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å)

**P1 (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏) –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã!**

–û—Å—Ç–∞–ª–æ—Å—å:
- ‚è≥ Toast –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ (0.5–¥)

**–í—Ä–µ–º—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–π —Å–µ—Å—Å–∏–∏:** 5 –º–∏–Ω—É—Ç –∏–ª–∏ –°–¢–û–ü  
**–°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞:** Toast –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ò–õ–ò –ø–µ—Ä–µ—Ö–æ–¥ –∫ P2

---

**–ê–≤—Ç–æ—Ä:** AI Developer  
**–î–∞—Ç–∞:** 6 —Ñ–µ–≤—Ä–∞–ª—è 2026, 18:30  
**–í–µ—Ä—Å–∏—è:** 1.0

