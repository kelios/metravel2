{"version":3,"sources":["/components/listTravel/RecommendationsTabs.tsx"],"sourcesContent":["import React, {\n  useState,\n  useMemo,\n  lazy,\n  Suspense,\n  useCallback,\n  useRef,\n  useEffect,\n  memo,\n} from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  Pressable,\n  ScrollView,\n  Platform,\n  Animated,\n  FlatList,\n  RefreshControl,\n  useWindowDimensions,\n} from 'react-native';\nimport { MaterialIcons, Feather } from '@expo/vector-icons';\nimport { useRouter } from 'expo-router';\n\nimport { DESIGN_TOKENS } from '@/constants/designSystem';\nimport { useFavorites } from '@/context/FavoritesContext';\nimport { useAuth } from '@/context/AuthContext';\nimport { TAB_CARD_TEMPLATE } from './recommendationsCardTemplate';\nimport TabTravelCard from './TabTravelCard';\n\n/* ---------------- Lazy Components ---------------- */\n\nconst PersonalizedRecommendations = lazy(() =>\n  import('@/components/PersonalizedRecommendations') as any\n);\n\nconst WeeklyHighlights = lazy(() =>\n  import('@/components/WeeklyHighlights') as any\n);\n\nconst ErrorFallback = ({ message }: { message: string }) => (\n  <View style={styles.errorContainer}>\n    <MaterialIcons name=\"error-outline\" size={48} color={DESIGN_TOKENS.colors.error} />\n    <Text style={styles.errorText}>{message}</Text>\n  </View>\n);\n\n/* ---------------- Types ---------------- */\n\ntype TabType = 'recommendations' | 'highlights' | 'favorites' | 'history';\n\ninterface RecommendationsTabsProps {\n  forceVisible?: boolean;\n  onVisibilityChange?: (visible: boolean) => void;\n}\n\nconst TAB_CONTENT_HEIGHT = 320;\nconst TAB_HEADER_HEIGHT = 56;\nconst TAB_TOTAL_HEIGHT = TAB_HEADER_HEIGHT + TAB_CONTENT_HEIGHT;\n\nconst AuthGate = ({ message, onLogin }: { message: string; onLogin: () => void }) => (\n  <View style={styles.gateContainer}>\n    <View style={styles.gateCard}>\n      <View style={styles.gateIcon}>\n        <MaterialIcons name=\"lock\" size={24} color={DESIGN_TOKENS.colors.primary} />\n      </View>\n      <View style={styles.gateCopy}>\n        <Text style={styles.gateText}>{message}</Text>\n      </View>\n      <Pressable style={styles.gateButton} onPress={onLogin} accessibilityRole=\"button\">\n        <Text style={styles.gateButtonText}>Войти</Text>\n        <MaterialIcons name=\"arrow-forward\" size={18} color={DESIGN_TOKENS.colors.primary} style={{ marginLeft: 6 }} />\n      </Pressable>\n    </View>\n  </View>\n);\n\n/* ---------------- Skeletons ---------------- */\n\nconst CardSkeleton = () => (\n  <View style={styles.skeletonCard}>\n    <View style={styles.skeletonImage} />\n    <View style={styles.skeletonContent}>\n      <View style={[styles.skeletonLine, { width: '80%' }]} />\n      <View style={[styles.skeletonLine, { width: '60%', marginTop: 8 }]} />\n    </View>\n  </View>\n);\n\nconst RecommendationsPlaceholder = () => (\n  <View style={styles.placeholderContainer}>\n    <View style={[styles.skeletonLine, { width: 160, height: 20, marginBottom: 12 }]} />\n    <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n      {[1, 2, 3, 4].map((i) => (\n        <CardSkeleton key={i} />\n      ))}\n    </ScrollView>\n  </View>\n);\n\n/* ---------------- Main Component ---------------- */\n\nconst RecommendationsTabs = memo(\n  ({ forceVisible = false, onVisibilityChange }: RecommendationsTabsProps) => {\n    const [activeTab, setActiveTab] = useState<TabType>('highlights');\n    const [collapsed, setCollapsed] = useState(false);\n    const [refreshing, setRefreshing] = useState(false);\n\n    const router = useRouter();\n    const { favorites = [], viewHistory = [], clearFavorites, clearHistory } = useFavorites() as any;\n    const { isAuthenticated } = useAuth();\n\n    const handleClearFavorites = useCallback(async () => {\n      try {\n        if (typeof clearFavorites !== 'function') return;\n\n        if (typeof window !== 'undefined' && (window as any).confirm) {\n          const confirmed = window.confirm('Очистить избранное?');\n          if (!confirmed) return;\n        }\n\n        await clearFavorites();\n      } catch (error) {\n        console.error('Error clearing favorites:', error);\n      }\n    }, [clearFavorites]);\n\n    const handleClearHistory = useCallback(async () => {\n      try {\n        if (typeof clearHistory !== 'function') return;\n\n        if (typeof window !== 'undefined' && (window as any).confirm) {\n          const confirmed = window.confirm('Очистить историю просмотров?');\n          if (!confirmed) return;\n        }\n\n        await clearHistory();\n      } catch (error) {\n        console.error('Error clearing history:', error);\n      }\n    }, [clearHistory]);\n\n    const tabLayout = useRef<Record<string, { x: number; width: number }>>({}).current;\n    const underlineAnim = useRef(new Animated.Value(0)).current;\n    const scrollRef = useRef<ScrollView>(null);\n\n    // Табы с бейджами\n    const tabs = useMemo(\n      () => [\n        { id: 'highlights' as const, label: 'Подборка месяца', icon: 'auto-awesome' },\n        { id: 'recommendations' as const, label: 'Рекомендации', icon: 'star' },\n        { id: 'favorites' as const, label: 'Избранное', icon: 'favorite', count: isAuthenticated ? favorites.length : 0 },\n        { id: 'history' as const, label: 'История', icon: 'history', count: isAuthenticated ? viewHistory.length : 0 },\n      ],\n      [favorites.length, isAuthenticated, viewHistory.length]\n    );\n\n    // Анимация подчёркивания\n    useEffect(() => {\n      const current = tabs.findIndex((t) => t.id === activeTab);\n      if (current === -1) return;\n\n      const { x = 0, width = 100 } = tabLayout[tabs[current].id] || {};\n      Animated.spring(underlineAnim, {\n        toValue: x + width / 2,\n        useNativeDriver: true,\n        friction: 8,\n      }).start();\n    }, [activeTab, tabLayout, tabs, underlineAnim]);\n\n    const handleTabLayout = (id: string, event: any) => {\n      const { x, width } = event.nativeEvent.layout;\n      tabLayout[id] = { x, width };\n\n      // Прокрутка к активному табу при смене\n      if (id === activeTab && scrollRef.current) {\n        scrollRef.current.scrollTo({ x: Math.max(0, x - 50), animated: true });\n      }\n    };\n\n    const toggleCollapse = () => {\n      const newCollapsed = !collapsed;\n      setCollapsed(newCollapsed);\n      onVisibilityChange?.(!newCollapsed);\n    };\n\n    // ✅ CLS fix: never unmount / collapse height to 0.\n    // We keep a stable container height so the list below does not shift.\n    if (!forceVisible && collapsed) {\n      return (\n        <View style={[styles.container, styles.containerFixedHeight]}>\n          <View style={styles.collapsedHeader}>\n            <Pressable onPress={toggleCollapse} style={styles.expandButton} accessibilityRole=\"button\">\n              <Feather name=\"chevron-down\" size={20} color={DESIGN_TOKENS.colors.primary} />\n              <Text style={styles.expandText}>Показать рекомендации</Text>\n            </Pressable>\n          </View>\n          <View style={styles.collapsedSpacer} />\n        </View>\n      );\n    }\n\n    const renderTabPane = (children: React.ReactNode) => (\n      <View style={styles.tabPane}>\n        <ScrollView\n          style={styles.tabPaneScroll}\n          contentContainerStyle={styles.tabPaneContent}\n          showsVerticalScrollIndicator={false}\n          bounces={false}\n        >\n          {children}\n        </ScrollView>\n      </View>\n    )\n\n    const renderContent = () => {\n      switch (activeTab) {\n        case 'highlights':\n          return renderTabPane(\n            <Suspense fallback={<RecommendationsPlaceholder />}>\n              <WeeklyHighlights showHeader={false} />\n            </Suspense>\n          );\n        case 'recommendations':\n          return renderTabPane(\n            <Suspense fallback={<RecommendationsPlaceholder />}>\n              <PersonalizedRecommendations showHeader={!isAuthenticated} onlyRecommendations={true} />\n            </Suspense>\n          );\n        case 'favorites':\n          if (!isAuthenticated) {\n            return renderTabPane(\n              <AuthGate\n                message=\"Избранное будет доступно после регистрации или авторизации\"\n                onLogin={() => router.push('/login' as any)}\n              />\n            );\n          }\n          return renderTabPane(\n            favorites.length === 0 ? (\n              <EmptyState message=\"Избранное пусто\" icon=\"favorite-border\" />\n            ) : (\n              <View>\n                <View style={styles.favoritesHeaderRow}>\n                  <View style={styles.headerTitleBlock}>\n                    <Text style={styles.favoritesHeaderTitle}>Избранное</Text>\n                    <Text style={styles.headerSubtitle}>{favorites.length} шт.</Text>\n                  </View>\n\n                  <View style={styles.headerActions}>\n                    <Pressable\n                      style={styles.seeAllButton}\n                      onPress={() => router.push('/favorites' as any)}\n                      accessibilityRole=\"button\"\n                      accessibilityLabel=\"Смотреть все избранное\"\n                    >\n                      <Text style={styles.seeAllButtonText}>Смотреть все</Text>\n                      <Feather name=\"chevron-right\" size={16} color={DESIGN_TOKENS.colors.primary} />\n                    </Pressable>\n\n                    {typeof clearFavorites === 'function' && favorites.length > 0 && (\n                      <Pressable\n                        style={styles.favoritesClearButton}\n                        onPress={handleClearFavorites}\n                        accessibilityRole=\"button\"\n                        accessibilityLabel=\"Очистить избранное\"\n                      >\n                        <Feather name=\"trash-2\" size={16} color={DESIGN_TOKENS.colors.danger} />\n                        <Text style={styles.favoritesClearButtonText}>Очистить</Text>\n                      </Pressable>\n                    )}\n                  </View>\n                </View>\n\n                <FlatList\n                  horizontal\n                  data={favorites}\n                  renderItem={({ item }) => (\n                    <TabTravelCard\n                      item={{\n                        id: item.id,\n                        title: item.title,\n                        imageUrl: item.imageUrl,\n                        city: (item as any).city ?? null,\n                        country: item.country ?? (item as any).countryName ?? null,\n                      }}\n                      onPress={() => router.push(item.url as any)}\n                    />\n                  )}\n                  keyExtractor={(item) => `${item.type || 'item'}-${item.id}`}\n                  showsHorizontalScrollIndicator={false}\n                  style={styles.horizontalList}\n                  contentContainerStyle={styles.horizontalListContent}\n                />\n              </View>\n            )\n          );\n        case 'history':\n          if (!isAuthenticated) {\n            return renderTabPane(\n              <AuthGate\n                message=\"История просмотров будет доступна после регистрации или авторизации\"\n                onLogin={() => router.push('/login' as any)}\n              />\n            );\n          }\n          return renderTabPane(\n            viewHistory.length === 0 ? (\n              <EmptyState message=\"История просмотров пуста\" icon=\"history\" />\n            ) : (\n              <View>\n                <View style={styles.favoritesHeaderRow}>\n                  <View style={styles.headerTitleBlock}>\n                    <Text style={styles.favoritesHeaderTitle}>История</Text>\n                    <Text style={styles.headerSubtitle}>{viewHistory.length} шт.</Text>\n                  </View>\n\n                  <View style={styles.headerActions}>\n                    <Pressable\n                      style={styles.seeAllButton}\n                      onPress={() => router.push('/history' as any)}\n                      accessibilityRole=\"button\"\n                      accessibilityLabel=\"Смотреть всю историю просмотров\"\n                    >\n                      <Text style={styles.seeAllButtonText}>Смотреть все</Text>\n                      <Feather name=\"chevron-right\" size={16} color={DESIGN_TOKENS.colors.primary} />\n                    </Pressable>\n\n                    {typeof clearHistory === 'function' && viewHistory.length > 0 && (\n                      <Pressable\n                        style={styles.favoritesClearButton}\n                        onPress={handleClearHistory}\n                        accessibilityRole=\"button\"\n                        accessibilityLabel=\"Очистить историю просмотров\"\n                      >\n                        <Feather name=\"trash-2\" size={16} color={DESIGN_TOKENS.colors.danger} />\n                        <Text style={styles.favoritesClearButtonText}>Очистить</Text>\n                      </Pressable>\n                    )}\n                  </View>\n                </View>\n\n                <FlatList\n                  horizontal\n                  data={viewHistory}\n                  renderItem={({ item }) => (\n                    <TabTravelCard\n                      item={{\n                        id: item.id,\n                        title: item.title,\n                        imageUrl: item.imageUrl,\n                        city: (item as any).city ?? null,\n                        country: item.country ?? (item as any).countryName ?? null,\n                      }}\n                      badge={{ icon: 'history', backgroundColor: 'rgba(0,0,0,0.7)', iconColor: '#fff' }}\n                      onPress={() => router.push(item.url as any)}\n                    />\n                  )}\n                  keyExtractor={(item) => `history-${item.id}-${item.viewedAt}`}\n                  showsHorizontalScrollIndicator={false}\n                  style={styles.horizontalList}\n                  contentContainerStyle={styles.horizontalListContent}\n                />\n              </View>\n            )\n          );\n        default:\n          return renderTabPane(null);\n      }\n    };\n\n    return (\n      <View style={[styles.container, styles.containerFixedHeight]}>\n        <View style={styles.header}>\n          <ScrollView\n            ref={scrollRef}\n            horizontal\n            showsHorizontalScrollIndicator={false}\n            contentContainerStyle={styles.tabsContainer}\n          >\n            {tabs.map((tab) => (\n              <Pressable\n                key={tab.id}\n                onPress={() => setActiveTab(tab.id)}\n                onLayout={(e) => handleTabLayout(tab.id, e)}\n                style={[styles.tab, activeTab === tab.id && styles.activeTab]}\n              >\n                <MaterialIcons\n                  name={tab.icon as any}\n                  size={18}\n                  color={activeTab === tab.id ? DESIGN_TOKENS.colors.primary : '#666'}\n                />\n                <Text\n                  style={[\n                    styles.tabLabel,\n                    activeTab === tab.id && styles.activeTabLabel,\n                  ]}\n                >\n                  {tab.label}\n                </Text>\n                {tab.count !== undefined && tab.count > 0 && (\n                  <View style={styles.badge}>\n                    <Text style={styles.badgeText}>{tab.count > 99 ? '99+' : tab.count}</Text>\n                  </View>\n                )}\n              </Pressable>\n            ))}\n\n            <Animated.View\n              style={[\n                styles.tabUnderline,\n                {\n                  width: 24,\n                  transform: [\n                    {\n                      translateX: underlineAnim.interpolate({\n                        inputRange: [0, 1000],\n                        outputRange: [0, 1000],\n                        extrapolate: 'clamp',\n                      }),\n                    },\n                  ],\n                },\n              ]}\n            />\n          </ScrollView>\n\n          <Pressable onPress={toggleCollapse} hitSlop={10} style={styles.collapseButton}>\n            <Feather name=\"chevron-up\" size={20} color=\"#666\" />\n          </Pressable>\n        </View>\n\n        <View style={styles.content}>{renderContent()}</View>\n      </View>\n    );\n  }\n);\n\nRecommendationsTabs.displayName = 'RecommendationsTabs';\n\n/* ---------------- Empty State Helper ---------------- */\n\nconst EmptyState = ({ message, icon }: { message: string; icon: any }) => (\n  <View style={styles.emptyState}>\n    <MaterialIcons name={icon} size={48} color=\"#ccc\" />\n    <Text style={styles.emptyText}>{message}</Text>\n  </View>\n);\n\n/* ---------------- Styles ---------------- */\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff',\n    borderRadius: 16,\n    overflow: 'hidden',\n    elevation: 2,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.05,\n    shadowRadius: 4,\n  },\n  containerFixedHeight: {\n    height: TAB_TOTAL_HEIGHT,\n  },\n  header: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee',\n    minHeight: TAB_HEADER_HEIGHT,\n  },\n  tabsContainer: {\n    paddingHorizontal: 8,\n    paddingVertical: 8,\n  },\n  tab: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 20,\n    marginRight: 8,\n    minHeight: 40,\n  },\n  activeTab: {\n    backgroundColor: '#f0f8ff',\n  },\n  tabLabel: {\n    marginLeft: 6,\n    fontSize: 14,\n    color: '#666',\n  },\n  activeTabLabel: {\n    color: DESIGN_TOKENS.colors.primary,\n    fontWeight: '600',\n  },\n  badge: {\n    backgroundColor: DESIGN_TOKENS.colors.primary,\n    borderRadius: 10,\n    minWidth: 18,\n    height: 18,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 6,\n  },\n  badgeText: {\n    color: '#fff',\n    fontSize: 11,\n    fontWeight: '600',\n  },\n  tabUnderline: {\n    position: 'absolute',\n    bottom: 4,\n    height: 3,\n    backgroundColor: DESIGN_TOKENS.colors.primary,\n    borderRadius: 2,\n  },\n  collapseButton: {\n    padding: 12,\n  },\n  content: {\n    height: TAB_CONTENT_HEIGHT,\n    paddingVertical: 8,\n  },\n  collapsedHeader: {\n    height: TAB_HEADER_HEIGHT,\n    justifyContent: 'center',\n    paddingHorizontal: 16,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee',\n    backgroundColor: '#fff',\n  },\n  collapsedSpacer: {\n    height: TAB_CONTENT_HEIGHT,\n  },\n  tabPane: {\n    height: TAB_CONTENT_HEIGHT,\n    flex: 1,\n  },\n  tabPaneScroll: {\n    flex: 1,\n  },\n  tabPaneContent: {\n    flexGrow: 1,\n    paddingVertical: 4,\n  },\n\n  gateContainer: {\n    paddingHorizontal: 16,\n    paddingVertical: 12,\n  },\n  gateCard: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 14,\n    borderRadius: 16,\n    backgroundColor: '#fdf8f3',\n    borderWidth: 1,\n    borderColor: 'rgba(255, 159, 90, 0.25)',\n  },\n  gateIcon: {\n    width: 40,\n    height: 40,\n    borderRadius: 12,\n    backgroundColor: '#fff',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 1,\n    borderColor: 'rgba(15,23,42,0.08)',\n  },\n  gateCopy: {\n    flex: 1,\n    marginLeft: 12,\n    marginRight: 12,\n  },\n  gateText: {\n    fontSize: 14,\n    color: '#6b7280',\n    lineHeight: 20,\n    fontWeight: '500',\n  },\n  gateButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 12,\n    paddingVertical: 10,\n    borderRadius: 999,\n    borderWidth: 1,\n    borderColor: DESIGN_TOKENS.colors.primary,\n    backgroundColor: '#fff',\n  },\n  gateButtonText: {\n    color: DESIGN_TOKENS.colors.primary,\n    fontSize: 14,\n    fontWeight: '600',\n  },\n\n  // Collapsed\n  collapsedContainer: {\n    paddingVertical: 12,\n    paddingHorizontal: 16,\n    backgroundColor: '#f8f8f8',\n    borderRadius: 16,\n  },\n  expandButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  expandText: {\n    marginLeft: 8,\n    fontSize: 15,\n    color: DESIGN_TOKENS.colors.primary,\n    fontWeight: '500',\n  },\n\n  // Placeholders & Empty\n  placeholderContainer: {\n    padding: 16,\n  },\n  skeletonCard: {\n    width: TAB_CARD_TEMPLATE.container.width || 208,\n    marginRight: 16,\n    backgroundColor: '#fff',\n    borderRadius: TAB_CARD_TEMPLATE.container.borderRadius || 12,\n    overflow: 'hidden',\n  },\n  skeletonImage: {\n    height: TAB_CARD_TEMPLATE.imageContainer.height || 136,\n    backgroundColor: '#eee',\n  },\n  skeletonContent: {\n    padding: 12,\n  },\n  skeletonLine: {\n    height: 12,\n    backgroundColor: '#eee',\n    borderRadius: 6,\n  },\n\n  horizontalList: {\n    marginBottom: 8,\n  },\n  horizontalListContent: {\n    paddingHorizontal: 16,\n    paddingBottom: 6,\n    ...Platform.select({\n      web: {\n        paddingBottom: 12,\n      } as any,\n      default: {},\n    }),\n  },\n\n  favoritesHeaderRow: {\n    paddingHorizontal: 16,\n    paddingTop: 4,\n    paddingBottom: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    gap: 12,\n  },\n  headerTitleBlock: {\n    flex: 1,\n  },\n  headerSubtitle: {\n    marginTop: 2,\n    fontSize: 12,\n    color: DESIGN_TOKENS.colors.textMuted,\n  },\n  headerActions: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    gap: 10,\n  },\n  seeAllButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 6,\n    paddingHorizontal: 10,\n    paddingVertical: 8,\n    borderRadius: 12,\n    backgroundColor: DESIGN_TOKENS.colors.primarySoft,\n  },\n  seeAllButtonText: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: DESIGN_TOKENS.colors.primary,\n  },\n  favoritesHeaderTitle: {\n    fontSize: 16,\n    fontWeight: '700',\n    color: DESIGN_TOKENS.colors.text,\n  },\n  favoritesClearButton: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: 8,\n    paddingHorizontal: 12,\n    paddingVertical: 8,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: DESIGN_TOKENS.colors.border,\n    backgroundColor: DESIGN_TOKENS.colors.surface,\n  },\n  favoritesClearButtonText: {\n    fontSize: 13,\n    fontWeight: '600',\n    color: DESIGN_TOKENS.colors.danger,\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 40,\n  },\n  emptyText: {\n    marginTop: 12,\n    fontSize: 16,\n    color: '#999',\n  },\n  errorContainer: {\n    padding: 32,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  errorText: {\n    marginTop: 12,\n    fontSize: 15,\n    color: '#666',\n    textAlign: 'center',\n  },\n});\n\nexport default RecommendationsTabs;"],"x_facebook_sources":[[{"names":["<global>","lazy$argument_0","ErrorFallback","AuthGate","CardSkeleton","RecommendationsPlaceholder","map$argument_0","memo$argument_0","handleClearFavorites","handleClearHistory","useMemo$argument_0","useEffect$argument_0","tabs.findIndex$argument_0","handleTabLayout","toggleCollapse","renderTabPane","renderContent","AuthGate.props.onLogin","Pressable.props.onPress","FlatList.props.renderItem","TabTravelCard.props.onPress","FlatList.props.keyExtractor","tabs.map$argument_0","Pressable.props.onLayout","EmptyState"],"mappings":"AAA;yCCiC;2DDC;8BCG;gDDC;sBEG;CFK;iBGe;CHe;qBII;CJQ;mCKE;wBCI;ODE;CLG;EOK;6CCS;KDa;2CEE;KFa;MGQ;OHK;cIK;qCCC,yBD;KJS;4BME;KNQ;2BOE;KPI;0BQkB;KRW;0BSE;yBCmB,kCD;+BEkB,sCF;8BGyB;+BCS,kCD;mBHE;gCKC,6CL;yBCa,kCD;+BEkB,oCF;8BGyB;+BCU,kCD;mBHE;gCKC,+CL;KTW;sBeW;yBJG,0BI;0BCC,iCD;afsB;GP6B;mBwBO;CxBK"}]],"names":["_react","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_interopRequireWildcard","_r","d","_View","_interopRequireDefault","_Text","_StyleSheet","_Pressable","_ScrollView","_Animated","_FlatList","_vectorIcons","_expoRouter","_designSystem","_FavoritesContext","_AuthContext","_recommendationsCardTemplate","_TabTravelCard","_jsxRuntime","PersonalizedRecommendations","lazy","paths","WeeklyHighlights","AuthGate","message","onLogin","jsx","style","styles","gateContainer","children","jsxs","gateCard","gateIcon","MaterialIcons","name","size","color","DESIGN_TOKENS","colors","primary","gateCopy","gateText","gateButton","onPress","accessibilityRole","gateButtonText","marginLeft","CardSkeleton","skeletonCard","skeletonImage","skeletonContent","skeletonLine","width","marginTop","RecommendationsPlaceholder","placeholderContainer","height","marginBottom","horizontal","showsHorizontalScrollIndicator","map","RecommendationsTabs","memo","forceVisible","onVisibilityChange","activeTab","setActiveTab","useState","collapsed","setCollapsed","refreshing","setRefreshing","router","useRouter","favorites","viewHistory","clearFavorites","clearHistory","useFavorites","isAuthenticated","useAuth","handleClearFavorites","useCallback","async","window","confirm","error","console","handleClearHistory","tabLayout","useRef","current","underlineAnim","Animated","Value","scrollRef","tabs","useMemo","id","label","icon","count","length","useEffect","findIndex","x","spring","toValue","useNativeDriver","friction","start","handleTabLayout","event","nativeEvent","layout","scrollTo","Math","max","animated","toggleCollapse","newCollapsed","container","containerFixedHeight","collapsedHeader","expandButton","Feather","expandText","collapsedSpacer","renderTabPane","tabPane","tabPaneScroll","contentContainerStyle","tabPaneContent","showsVerticalScrollIndicator","bounces","header","ref","tabsContainer","tab","onLayout","tabLabel","activeTabLabel","undefined","badge","badgeText","View","tabUnderline","transform","translateX","interpolate","inputRange","outputRange","extrapolate","hitSlop","collapseButton","content","renderContent","Suspense","fallback","showHeader","onlyRecommendations","EmptyState","favoritesHeaderRow","headerTitleBlock","favoritesHeaderTitle","headerSubtitle","headerActions","seeAllButton","push","accessibilityLabel","seeAllButtonText","favoritesClearButton","danger","favoritesClearButtonText","data","renderItem","item","title","imageUrl","city","country","countryName","url","keyExtractor","type","horizontalList","horizontalListContent","backgroundColor","iconColor","viewedAt","displayName","emptyState","emptyText","StyleSheet","create","borderRadius","overflow","elevation","shadowColor","shadowOffset","shadowOpacity","shadowRadius","flexDirection","alignItems","borderBottomWidth","borderBottomColor","minHeight","paddingHorizontal","paddingVertical","marginRight","fontSize","fontWeight","minWidth","justifyContent","position","bottom","padding","flex","flexGrow","borderWidth","borderColor","lineHeight","collapsedContainer","TAB_CARD_TEMPLATE","imageContainer","paddingBottom","paddingTop","gap","textMuted","primarySoft","text","border","surface","errorContainer","errorText","textAlign","_e"],"mappings":"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","debugId":"9336dabf-4f1f-40b0-b037-cc32ac622489"}