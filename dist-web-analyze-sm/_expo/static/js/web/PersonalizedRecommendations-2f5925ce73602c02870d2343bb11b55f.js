__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?n(l,t,i):l[t]=e[t]);return l})(e,t)})(_r(d[1])),o=e(_r(d[2])),r=e(_r(d[3])),n=e(_r(d[4])),i=e(_r(d[5])),l=e(_r(d[6])),s=(e(_r(d[7])),e(_r(d[8]))),c=_r(d[9]),f=_r(d[10]),u=_r(d[11]),p=_r(d[12]),h=(e(_r(d[13])),_r(d[14])),b=_r(d[15]),x=e(_r(d[16])),y=_r(d[17]),C=_r(d[18]);const j='personalization_collapsed';function S({forceVisible:e,onVisibilityChange:n,showHeader:b=!0,onlyRecommendations:S=!1}){const{favorites:I,viewHistory:k,getRecommendations:z}=(0,f.useFavorites)(),{isAuthenticated:T}=(0,p.useAuth)(),R=(0,u.useRouter)(),{width:O}=(0,l.default)(),W=O<=y.METRICS.breakpoints.tablet,[_,v]=(0,t.useState)(!1),[D,M]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{{const e='true'===sessionStorage.getItem(j);v(e)}M(!0)})()},[]);(0,t.useCallback)(()=>{v(!0),sessionStorage.setItem(j,'true'),n&&n(!1)},[n]);const B=(0,t.useCallback)(()=>{v(!1),sessionStorage.removeItem(j),n&&n(!0)},[n]),E=(0,t.useMemo)(()=>{if(!T)return[];const e=z();return S?e:e.filter(e=>!I.some(t=>t.id===e.id&&t.type===e.type))},[I,T,z,S]),H=(0,t.useMemo)(()=>[w.container,!b&&w.containerCompact],[b]),L=(0,t.useCallback)(e=>{window.location.href=e},[R]),N=(0,t.useCallback)(()=>{R.push('/login')},[R]),V=(0,t.useCallback)(e=>(0,C.jsx)(x.default,{item:{id:e.id,title:e.title,imageUrl:e.imageUrl,city:e.city??null,country:e.country??null},onPress:()=>L(e.url)},`${e.type}-${e.id}`),[L]),P=!S&&I&&I.length>0,G=!S&&k&&k.length>0;if(!D)return null;if(void 0!==e){if(!1===e)return null}else if(_)return(0,C.jsx)(o.default,{style:w.collapsedContainer,children:(0,C.jsxs)(s.default,{onPress:B,style:w.expandButton,hitSlop:{top:10,bottom:10,left:10,right:10},children:[(0,C.jsx)(c.MaterialIcons,{name:"expand-more",size:20,color:"#6b8e7f"}),(0,C.jsx)(r.default,{style:w.expandButtonText,children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"})]})});return T?!S&&(P||G)||0!==E.length?(0,C.jsxs)(o.default,{style:H,children:[b&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(o.default,{style:w.header,children:[(0,C.jsx)(o.default,{style:[w.iconContainer,{backgroundColor:'#fff5eb'}],children:(0,C.jsx)(c.MaterialIcons,{name:"star",size:24,color:h.AIRY_COLORS.primary})}),(0,C.jsxs)(o.default,{style:w.titleContainer,children:[(0,C.jsx)(r.default,{style:w.title,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0432\u0430\u0441"}),(0,C.jsx)(o.default,{style:w.badgeContainer,children:(0,C.jsx)(r.default,{style:w.badgeText,children:"\u0414\u043b\u044f \u0432\u0430\u0441"})})]})]}),(0,C.jsx)(r.default,{style:w.subtitle,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432"})]}),P&&(0,C.jsxs)(o.default,{style:w.section,children:[(0,C.jsx)(r.default,{style:w.sectionTitle,children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),(0,C.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:w.scrollContent,removeClippedSubviews:!1,decelerationRate:"fast",children:I.map(e=>V(e))})]}),G&&(0,C.jsxs)(o.default,{style:w.section,children:[(0,C.jsx)(r.default,{style:w.sectionTitle,children:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e"}),(0,C.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:w.scrollContent,removeClippedSubviews:!1,decelerationRate:"fast",children:k.map(e=>V(e))})]}),E.length>0&&(0,C.jsxs)(o.default,{style:w.section,children:[(0,C.jsx)(r.default,{style:w.sectionTitle,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"}),(0,C.jsx)(i.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:w.scrollContent,removeClippedSubviews:!1,decelerationRate:"fast",children:E.map(e=>V(e))})]})]}):(0,C.jsxs)(o.default,{style:H,children:[b&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(o.default,{style:w.header,children:[(0,C.jsx)(o.default,{style:[w.iconContainer,{backgroundColor:h.AIRY_COLORS.primaryLight}],children:(0,C.jsx)(c.MaterialIcons,{name:"star",size:24,color:h.AIRY_COLORS.primary})}),(0,C.jsxs)(o.default,{style:w.titleContainer,children:[(0,C.jsx)(r.default,{style:w.title,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0432\u0430\u0441"}),(0,C.jsx)(o.default,{style:w.badgeContainer,children:(0,C.jsx)(r.default,{style:w.badgeText,children:"\u0414\u043b\u044f \u0432\u0430\u0441"})})]})]}),(0,C.jsx)(r.default,{style:w.subtitle,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432"})]}),(0,C.jsx)(o.default,{style:[w.emptyCard,W?w.promptCardMobile:w.promptCardDesktop],children:(0,C.jsxs)(o.default,{style:w.promptLead,children:[(0,C.jsx)(o.default,{style:w.promptIcon,children:(0,C.jsx)(c.MaterialIcons,{name:"explore",size:28,color:"#6b7280"})}),(0,C.jsx)(o.default,{style:w.promptCopy,children:(0,C.jsx)(r.default,{style:[w.emptyText,!W&&w.promptTextDesktop],children:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u0445 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438"})})]})})]}):(0,C.jsxs)(o.default,{style:H,children:[b&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(o.default,{style:w.header,children:[(0,C.jsx)(o.default,{style:[w.iconContainer,{backgroundColor:'#f0f9f9'}],children:(0,C.jsx)(c.MaterialIcons,{name:"star",size:24,color:"#6b8e7f"})}),(0,C.jsxs)(o.default,{style:w.titleContainer,children:[(0,C.jsx)(r.default,{style:w.title,children:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0432\u0430\u0441"}),(0,C.jsx)(o.default,{style:w.badgeContainer,children:(0,C.jsx)(r.default,{style:w.badgeText,children:"\u0414\u043b\u044f \u0432\u0430\u0441"})})]})]}),(0,C.jsx)(r.default,{style:w.subtitle,children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043e\u0432"})]}),(0,C.jsxs)(o.default,{style:[w.promptCard,W?w.promptCardMobile:w.promptCardDesktop],children:[(0,C.jsxs)(o.default,{style:w.promptLead,children:[(0,C.jsx)(o.default,{style:w.promptIcon,children:(0,C.jsx)(c.MaterialIcons,{name:"login",size:28,color:"#6b8e7f"})}),(0,C.jsx)(o.default,{style:w.promptCopy,children:(0,C.jsx)(r.default,{style:[w.promptText,!W&&w.promptTextDesktop],children:"\u0412\u043e\u0439\u0434\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u044b"})})]}),(0,C.jsxs)(s.default,{style:[w.loginButton,!W&&w.loginButtonInline],onPress:N,android_ripple:{color:'rgba(74, 140, 140, 0.1)'},children:[(0,C.jsx)(r.default,{style:w.loginButtonText,children:"\u0412\u043e\u0439\u0442\u0438 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),(0,C.jsx)(c.MaterialIcons,{name:"arrow-forward",size:18,color:"#6b8e7f",style:{marginLeft:6}})]})]})]})}const w=n.default.create({container:{marginVertical:8,padding:12,backgroundColor:'transparent',borderRadius:12,borderWidth:0,borderColor:'transparent',shadowColor:'transparent',shadowOffset:{width:0,height:0},shadowOpacity:0,shadowRadius:0,elevation:0},containerCompact:{marginVertical:0,padding:0,paddingTop:8,paddingBottom:4},section:{marginBottom:16},header:{flexDirection:'row',alignItems:'center',marginBottom:8},iconContainer:{width:36,height:36,borderRadius:10,backgroundColor:'#fef2f2',justifyContent:'center',alignItems:'center'},titleContainer:{flex:1,flexDirection:'row',alignItems:'center',marginLeft:10,gap:8},title:{fontSize:15,fontWeight:'600',color:'#1a202c',letterSpacing:-.1},badgeContainer:{backgroundColor:'rgba(74, 140, 140, 0.1)',borderRadius:8,paddingHorizontal:8,paddingVertical:3},badgeText:{fontSize:11,fontWeight:'600',color:'#4a8c8c',letterSpacing:.1},subtitle:{fontSize:13,color:'#4a5568',marginLeft:0,marginBottom:12},sectionTitle:{fontSize:14,fontWeight:'600',color:'#1a202c',marginBottom:8},countBadge:{backgroundColor:'#fee2e2',borderRadius:12,paddingHorizontal:10,paddingVertical:4,minWidth:32,alignItems:'center'},count:{fontSize:14,color:'#ef4444',fontWeight:'700'},scrollContent:{paddingHorizontal:4,paddingVertical:4},item:{width:168,backgroundColor:'#ffffff',borderRadius:16,overflow:'hidden',shadowColor:'#1f1f1f',shadowOffset:{width:0,height:2},shadowOpacity:.08,shadowRadius:8,elevation:3,marginRight:12,transform:[{scale:1}]},itemMobile:{width:140},itemImage:{width:'100%',height:96,backgroundColor:'#f3f4f6'},itemImagePlaceholder:{justifyContent:'center',alignItems:'center',backgroundColor:b.DESIGN_TOKENS.colors.mutedBackground},itemContent:{padding:10,backgroundColor:b.DESIGN_TOKENS.colors.surface},itemTitle:{fontSize:13,fontWeight:'600',color:b.DESIGN_TOKENS.colors.text,marginBottom:6,lineHeight:18,letterSpacing:-.1},itemMeta:{flexDirection:'row',alignItems:'center',backgroundColor:b.DESIGN_TOKENS.colors.backgroundSecondary,paddingHorizontal:8,paddingVertical:4,borderRadius:8,alignSelf:'flex-start'},itemMetaText:{fontSize:12,color:b.DESIGN_TOKENS.colors.primary,fontWeight:'600'},historyBadge:{position:'absolute',top:10,right:10,backgroundColor:b.DESIGN_TOKENS.colors.surface,borderRadius:14,padding:6,shadowColor:'#1f1f1f',shadowOffset:{width:0,height:2},shadowOpacity:.06,shadowRadius:6,elevation:2,borderWidth:1,borderColor:b.DESIGN_TOKENS.colors.border,boxShadow:'0 2px 6px rgba(31, 31, 31, 0.06)'},promptCard:{backgroundColor:'#fdf8f3',borderRadius:16,padding:16,borderWidth:1,borderColor:'rgba(255, 159, 90, 0.25)'},promptCardMobile:{alignItems:'flex-start'},promptCardDesktop:{flexDirection:'row',alignItems:'center',justifyContent:'space-between'},promptLead:{flexDirection:'row',alignItems:'center',flex:1},promptCopy:{flex:1,marginLeft:12},promptIcon:{width:40,height:40,borderRadius:12,backgroundColor:'#fff',alignItems:'center',justifyContent:'center',borderWidth:1,borderColor:'rgba(15,23,42,0.08)'},promptText:{fontSize:14,color:'#6b7280',textAlign:'left',lineHeight:20,fontWeight:'500'},promptTextDesktop:{maxWidth:520},loginButton:{flexDirection:'row',alignItems:'center',justifyContent:'center',backgroundColor:'#ffffff',borderWidth:1,borderColor:'#6b8e7f',borderRadius:12,paddingVertical:10,paddingHorizontal:18,alignSelf:'flex-start',marginTop:12,cursor:'pointer',transition:'all 0.2s ease'},loginButtonInline:{marginLeft:16,marginTop:0},loginButtonText:{fontSize:14,fontWeight:'600',color:'#6b8e7f',letterSpacing:-.2},emptyCard:{backgroundColor:'#f9fafb',borderRadius:16,padding:16,borderWidth:1,borderColor:'rgba(15, 23, 42, 0.08)'},emptyText:{fontSize:14,color:'#6b7280',lineHeight:20,fontWeight:'500'},collapseButton:{padding:4,marginLeft:8,cursor:'pointer'},collapsedContainer:{marginVertical:8,marginHorizontal:4,paddingVertical:8,paddingHorizontal:12,backgroundColor:'#f0f9f9',borderRadius:8,borderWidth:1,borderColor:'#d1e7e7'},expandButton:{flexDirection:'row',alignItems:'center',justifyContent:'center',paddingVertical:4,cursor:'pointer'},expandButtonText:{fontSize:14,fontWeight:'600',color:'#6b8e7f',marginLeft:6}});_e.default=(0,t.memo)(S)},1755,[23,4,315,132,145,322,447,123,422,2651,904,457,888,2811,1728,1013,1754,985,2]);
//# sourceMappingURL=/_expo/static/js/web/PersonalizedRecommendations-2f5925ce73602c02870d2343bb11b55f.js.map
//# debugId=69f23e9d-1d20-4e9d-b4c1-4a26135f1b6e