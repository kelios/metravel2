{"version":3,"sources":["/components/iframe/InstagramEmbed.tsx"],"sourcesContent":["import React, { useMemo } from \"react\";\nimport { Platform, StyleSheet, View } from \"react-native\";\n\ninterface InstagramEmbedProps {\n    url: string;\n}\n\nconst buildEmbedUrl = (url: string) => {\n    try {\n        const normalized = url.replace(/\\/embed.*$/, \"\").replace(/\\/$/, \"\");\n        // Используем параметры для минимизации интерфейса\n        // hidecaption=1 - скрывает подпись (если поддерживается)\n        return `${normalized}/embed/?omitscript=true&hidecaption=1`;\n    } catch {\n        return `${url}/embed/?omitscript=true&hidecaption=1`;\n    }\n};\n\nconst InstagramEmbed: React.FC<InstagramEmbedProps> = ({ url }) => {\n    const embedUrl = useMemo(() => buildEmbedUrl(url), [url]);\n\n    if (Platform.OS === \"web\") {\n        return React.createElement(\"div\", {\n            className: \"instagram-wrapper\",\n        }, React.createElement(\"iframe\", {\n            src: embedUrl,\n            className: \"instagram-embed\",\n            allow:\n                \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\",\n            allowFullScreen: true,\n            loading: \"lazy\",\n            title: \"Instagram post\",\n        }));\n    }\n\n    const WebView = require(\"react-native-webview\").WebView;\n    return (\n        <View style={styles.nativeContainer}>\n            <WebView source={{ uri: url }} style={styles.webview} />\n        </View>\n    );\n};\n\nconst styles = StyleSheet.create({\n    nativeContainer: { height: 700, width: \"100%\", overflow: \"hidden\" },\n    webview: { flex: 1 },\n});\n\nexport default React.memo(InstagramEmbed);\n"],"x_facebook_sources":[[{"names":["<global>","buildEmbedUrl","InstagramEmbed","useMemo$argument_0"],"mappings":"AAA;sBCO;CDS;sDEE;6BCC,wBD;CFsB"}]],"names":["_react","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_interopRequireWildcard","_r","d","_StyleSheet","_interopRequireDefault","buildEmbedUrl","url","replace","InstagramEmbed","embedUrl","useMemo","React","createElement","className","src","allow","allowFullScreen","loading","title","StyleSheet","create","nativeContainer","height","width","overflow","webview","flex","_e","memo"],"mappings":"kHAAA,IAAAA,GAAuC,SAAAC,EAAAC,GAAA,sBAAAC,QAAA,IAAAC,EAAA,IAAAD,QAAAE,EAAA,IAAAF,QAAA,gBAAAF,EAAAC,GAAA,IAAAA,GAAAD,KAAAK,WAAA,OAAAL,EAAA,IAAAM,EAAAC,EAAAC,EAAA,CAAAC,UAAA,KAAAC,QAAAV,GAAA,UAAAA,GAAA,iBAAAA,GAAA,mBAAAA,EAAA,OAAAQ,EAAA,GAAAF,EAAAL,EAAAG,EAAAD,EAAA,IAAAG,EAAAK,IAAAX,GAAA,OAAAM,EAAAM,IAAAZ,GAAAM,EAAAO,IAAAb,EAAAQ,EAAA,WAAAP,KAAAD,EAAA,YAAAC,GAAA,GAAAa,eAAAC,KAAAf,EAAAC,MAAAM,GAAAD,EAAAU,OAAAC,iBAAAD,OAAAE,yBAAAlB,EAAAC,MAAAM,EAAAK,KAAAL,EAAAM,KAAAP,EAAAE,EAAAP,EAAAM,GAAAC,EAAAP,GAAAD,EAAAC,IAAA,OAAAO,CAAA,GAAAR,EAAAC,EAAA,EAAvCkB,CAAAC,GAAAC,EAAA,KAAuCC,GAAAC,EAAAH,GAAAC,EAAA,KAAAE,EAAAH,GAAAC,EAAA,MAAAE,EAAAH,GAAAC,EAAA,KAAAD,GAAAC,EAAA,IAOvC,MAAMG,EAAiBC,IACnB,IAII,MAAO,GAHYA,EAAIC,QAAQ,aAAc,IAAIA,QAAQ,MAAO,0CAIpE,CAAE,MACE,MAAO,GAAGD,wCACd,GAGEE,EAAgDA,EAAGF,UACrD,MAAMG,GAAW,EAAAC,WAAQ,IAAML,EAAcC,GAAM,CAACA,IAGhD,OAAOK,UAAMC,cAAc,MAAO,CAC9BC,UAAW,qBACZF,UAAMC,cAAc,SAAU,CAC7BE,IAAKL,EACLI,UAAW,kBACXE,MACI,2FACJC,iBAAiB,EACjBC,QAAS,OACTC,MAAO,qBAYJC,UAAWC,OAAO,CAC7BC,gBAAiB,CAAEC,OAAQ,IAAKC,MAAO,OAAQC,SAAU,UACzDC,QAAS,CAAEC,KAAM,KAClBC,GAAApC,QAEYoB,UAAMiB,KAAKpB,EAAe,G","debugId":"7f215e7b-cb45-4812-b313-88f61561a035"}