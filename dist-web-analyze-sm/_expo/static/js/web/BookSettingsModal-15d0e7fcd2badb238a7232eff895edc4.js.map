{"version":3,"sources":["/components/export/BookSettingsModal.tsx","/components/export/ThemePreview.tsx","/components/export/PresetSelector.tsx","/src/types/pdf-presets.ts","/components/export/GalleryLayoutSelector.tsx"],"sourcesContent":["// components/export/BookSettingsModal.tsx\n// ✅ УЛУЧШЕНИЕ: Модальное окно настроек фотоальбома\n\nimport React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, Modal, Pressable, TextInput, Platform } from 'react-native';\nimport ThemePreview from './ThemePreview';\nimport PresetSelector from './PresetSelector';\nimport GalleryLayoutSelector from './GalleryLayoutSelector';\nimport type { BookPreset } from '@/src/types/pdf-presets';\nimport type { GalleryLayout, CaptionPosition } from '@/src/types/pdf-gallery';\nimport { METRICS } from '@/constants/layout';\n// ✅ ИСПРАВЛЕНИЕ: Picker не используется в веб-версии модального окна\n// import { Picker } from '@react-native-picker/picker';\n\nexport type ColorThemeOption = 'blue' | 'green' | 'orange' | 'gray' | 'pastel' | 'mono';\nexport type FontOption = 'sans' | 'serif' | 'rounded';\nexport type ChecklistSection =\n  | 'clothing'\n  | 'food'\n  | 'electronics'\n  | 'documents'\n  | 'medicine';\n\n// ✅ Экспортируем интерфейс для использования в других компонентах\nexport interface BookSettings {\n  title: string;\n  subtitle?: string;\n  coverType: 'auto' | 'first-photo' | 'gradient' | 'custom';\n  coverImage?: string;\n  template: 'minimal' | 'light' | 'dark' | 'travel-magazine' | 'classic' | 'modern' | 'romantic' | 'adventure';\n  sortOrder: 'date-desc' | 'date-asc' | 'country' | 'alphabetical';\n  includeToc: boolean;\n  includeGallery: boolean;\n  includeMap: boolean;\n  showCoordinatesOnMapPage?: boolean;\n  includeChecklists: boolean;\n  checklistSections: ChecklistSection[];\n  // Настройки галереи\n  galleryLayout?: GalleryLayout;\n  galleryColumns?: number;\n  showCaptions?: boolean;\n  captionPosition?: CaptionPosition;\n  gallerySpacing?: 'compact' | 'normal' | 'spacious';\n}\n\nconst DEFAULT_CHECKLIST_SELECTION: ChecklistSection[] = ['clothing', 'food', 'electronics'];\n\n// Цветовые темы и шрифты теперь фиксированы через defaultBookSettings,\n// поэтому отдельные массивы опций для UI не нужны.\n\nconst CHECKLIST_OPTIONS: Array<{\n  value: ChecklistSection;\n  label: string;\n  items: string[];\n}> = [\n  { value: 'clothing', label: 'Одежда', items: ['Слои', 'Обувь', 'Дождевик'] },\n  { value: 'food', label: 'Еда', items: ['Перекусы', 'Термос', 'Посуда'] },\n  { value: 'electronics', label: 'Электроника', items: ['Повербанк', 'Камера', 'Переходники'] },\n  { value: 'documents', label: 'Документы', items: ['Паспорт', 'Визы', 'Страховка'] },\n  { value: 'medicine', label: 'Аптечка', items: ['Базовая аптечка', 'Пластыри', 'Солнцезащита'] },\n];\n\ninterface BookSettingsModalProps {\n  visible: boolean;\n  onClose: () => void;\n  onSave: (settings: BookSettings) => void;\n  onPreview?: (settings: BookSettings) => void;\n  defaultSettings?: Partial<BookSettings>;\n  travelCount: number;\n  userName?: string;\n  mode?: 'save' | 'preview';\n}\n\nconst defaultBookSettings: BookSettings = {\n  title: 'Мои путешествия',\n  subtitle: '',\n  coverType: 'auto',\n  template: 'minimal',\n  sortOrder: 'date-desc',\n  includeToc: true,\n  includeGallery: true,\n  includeMap: true,\n  showCoordinatesOnMapPage: true,\n  includeChecklists: false,\n  checklistSections: DEFAULT_CHECKLIST_SELECTION,\n  // Настройки галереи по умолчанию\n  galleryLayout: 'grid',\n  galleryColumns: 3,\n  showCaptions: true,\n  captionPosition: 'bottom',\n  gallerySpacing: 'normal',\n};\n\nconst buildInitialSettings = (\n  overrides?: Partial<BookSettings>,\n  userName?: string\n): BookSettings => {\n  const merged: BookSettings = {\n    ...defaultBookSettings,\n    ...overrides,\n  };\n\n  merged.title =\n    overrides?.title || (userName ? `Путешествия ${userName}` : defaultBookSettings.title);\n\n  // Флаги includeGallery/includeMap теперь управляются только логикой экспорта,\n  // без дополнительных режимов photoMode/mapMode.\n\n  merged.checklistSections =\n    overrides?.checklistSections && overrides.checklistSections.length > 0\n      ? overrides.checklistSections\n      : DEFAULT_CHECKLIST_SELECTION;\n\n  if (typeof merged.includeChecklists === 'undefined') {\n    merged.includeChecklists = defaultBookSettings.includeChecklists;\n  }\n\n  return merged;\n};\n\nexport default function BookSettingsModal({\n  visible,\n  onClose,\n  onSave,\n  onPreview,\n  defaultSettings,\n  travelCount,\n  userName,\n  mode = 'save',\n}: BookSettingsModalProps) {\n  const [settings, setSettings] = useState<BookSettings>(() =>\n    buildInitialSettings(defaultSettings, userName)\n  );\n  const [showAdvanced, setShowAdvanced] = useState(false);\n  const [selectedPresetId, setSelectedPresetId] = useState<string | undefined>();\n\n  useEffect(() => {\n    setSettings(buildInitialSettings(defaultSettings, userName));\n  }, [defaultSettings, userName]);\n\n  const handlePresetSelect = (preset: BookPreset) => {\n    setSettings({\n      ...preset.settings,\n      title: settings.title, // Сохраняем пользовательский заголовок\n      subtitle: settings.subtitle,\n    });\n    setSelectedPresetId(preset.id);\n  };\n\n  const handleThemeSelect = (theme: any) => {\n    setSettings({ ...settings, template: theme });\n  };\n\n  const checklistSections = settings.checklistSections || [];\n\n  const toggleChecklistSection = (section: ChecklistSection) => {\n    setSettings((prev) => {\n      const current = prev.checklistSections || [];\n      const exists = current.includes(section);\n      return {\n        ...prev,\n        checklistSections: exists\n          ? current.filter((item) => item !== section)\n          : [...current, section],\n      };\n    });\n  };\n\n  const handleToggleChecklists = (enabled: boolean) => {\n    setSettings((prev) => ({\n      ...prev,\n      includeChecklists: enabled,\n      checklistSections:\n        enabled && (!prev.checklistSections || prev.checklistSections.length === 0)\n          ? DEFAULT_CHECKLIST_SELECTION\n          : prev.checklistSections,\n    }));\n  };\n\n  const handleSave = () => {\n    onSave(settings);\n    onClose();\n  };\n\n  const handlePreview = () => {\n    if (onPreview) {\n      onPreview(settings);\n      onClose();\n    }\n  };\n\n  if (Platform.OS !== 'web') {\n    return null; // Только для web\n  }\n\n  return (\n    <Modal\n      visible={visible}\n      transparent\n      animationType=\"fade\"\n      onRequestClose={onClose}\n    >\n      <div\n        style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(31, 31, 31, 0.4)', // Матовый overlay\n          backdropFilter: 'blur(4px)',\n          WebkitBackdropFilter: 'blur(4px)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n        }}\n        onClick={onClose}\n      >\n        <div\n          style={{\n            backgroundColor: '#ffffff',\n            borderRadius: '20px',\n            padding: window.innerWidth <= METRICS.breakpoints.tablet ? '20px' : '28px',\n            maxWidth: '800px',\n            width: '95%',\n            maxHeight: '92vh',\n            overflow: 'auto',\n            boxShadow: '0 8px 24px rgba(31, 31, 31, 0.12), 0 2px 4px rgba(31, 31, 31, 0.08)',\n            border: '1px solid rgba(31, 31, 31, 0.08)',\n          }}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-title\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <h2\n            id=\"modal-title\"\n            style={{\n              fontSize: window.innerWidth <= METRICS.breakpoints.tablet ? '20px' : '24px',\n              fontWeight: 600,\n              margin: '0 0 20px 0',\n              color: '#1f1f1f',\n              letterSpacing: '-0.3px',\n            }}\n          >\n            Настройки фотоальбома\n          </h2>\n\n        <div style={{ marginBottom: '20px', color: '#4a4946', fontSize: '14px' }}>\n          Выбрано путешествий:&nbsp;\n          <span style={{ fontWeight: 600, color: '#1f1f1f' }}>{travelCount}</span>\n        </div>\n\n          {/* Пресеты настроек */}\n          <PresetSelector\n            onPresetSelect={handlePresetSelect}\n            selectedPresetId={selectedPresetId}\n            showCategories={true}\n          />\n\n          {/* Разделитель */}\n          <div style={{ \n            margin: '24px 0', \n            height: '1px', \n            backgroundColor: '#e5e7eb',\n          }} />\n\n          {/* Выбор темы */}\n          <ThemePreview\n            selectedTheme={settings.template}\n            onThemeSelect={handleThemeSelect}\n            compact={false}\n          />\n\n          {/* Разделитель */}\n          <div style={{ \n            margin: '24px 0', \n            height: '1px', \n            backgroundColor: '#e5e7eb',\n          }} />\n\n          {/* Настройки галереи */}\n          {settings.includeGallery && (\n            <>\n              <GalleryLayoutSelector\n                selectedLayout={settings.galleryLayout || 'grid'}\n                onLayoutSelect={(layout) => setSettings({ ...settings, galleryLayout: layout })}\n                columns={settings.galleryColumns}\n                onColumnsChange={(cols) => setSettings({ ...settings, galleryColumns: cols })}\n                showCaptions={settings.showCaptions}\n                onShowCaptionsChange={(show) => setSettings({ ...settings, showCaptions: show })}\n                captionPosition={settings.captionPosition}\n                onCaptionPositionChange={(pos) => setSettings({ ...settings, captionPosition: pos })}\n                spacing={settings.gallerySpacing}\n                onSpacingChange={(sp) => setSettings({ ...settings, gallerySpacing: sp })}\n              />\n\n              {/* Разделитель */}\n              <div style={{ \n                margin: '24px 0', \n                height: '1px', \n                backgroundColor: '#e5e7eb',\n              }} />\n            </>\n          )}\n\n          {/* Кнопка для расширенных настроек */}\n          <div \n            style={{ \n              marginBottom: '20px',\n              textAlign: 'center',\n            }}\n          >\n            <button\n              onClick={() => setShowAdvanced(!showAdvanced)}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: 'transparent',\n                border: '1.5px solid #e5e7eb',\n                borderRadius: '12px',\n                fontSize: '14px',\n                fontWeight: '500',\n                color: '#6b7280',\n                cursor: 'pointer',\n                transition: 'all 0.2s',\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.borderColor = '#2563eb';\n                e.currentTarget.style.color = '#2563eb';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.borderColor = '#e5e7eb';\n                e.currentTarget.style.color = '#6b7280';\n              }}\n            >\n              {showAdvanced ? '▲ Скрыть детальные настройки' : '▼ Показать детальные настройки'}\n            </button>\n          </div>\n\n          {showAdvanced && (\n            <>\n              <div style={{ marginBottom: '20px' }}>\n                <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n                  Название книги\n                </label>\n            <input\n              type=\"text\"\n              value={settings.title}\n              onChange={(e) => setSettings({ ...settings, title: e.target.value })}\n              style={{\n                width: '100%',\n                padding: '12px 14px',\n                border: '1.5px solid rgba(31, 31, 31, 0.08)',\n                borderRadius: '12px',\n                fontSize: '15px',\n                minHeight: '44px',\n                backgroundColor: '#ffffff',\n                color: '#1f1f1f',\n                outline: 'none',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#5b8a7a';\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                e.target.style.boxShadow = 'none';\n              }}\n              placeholder=\"Мои путешествия\"\n            />\n          </div>\n\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n              Подзаголовок (опционально)\n            </label>\n            <input\n              type=\"text\"\n              value={settings.subtitle || ''}\n              onChange={(e) => setSettings({ ...settings, subtitle: e.target.value || undefined })}\n              style={{\n                width: '100%',\n                padding: '12px 14px',\n                border: '1.5px solid rgba(31, 31, 31, 0.08)',\n                borderRadius: '12px',\n                fontSize: '15px',\n                minHeight: '44px',\n                backgroundColor: '#ffffff',\n                color: '#1f1f1f',\n                outline: 'none',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#5b8a7a';\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                e.target.style.boxShadow = 'none';\n              }}\n              placeholder=\"Воспоминания 2024\"\n            />\n          </div>\n\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n              Тип обложки\n            </label>\n            <select\n              value={settings.coverType}\n              onChange={(e) => setSettings({ ...settings, coverType: e.target.value as any })}\n              style={{\n                width: '100%',\n                padding: '12px 14px',\n                border: '1.5px solid rgba(31, 31, 31, 0.08)',\n                borderRadius: '12px',\n                fontSize: '15px',\n                minHeight: '44px',\n                backgroundColor: '#ffffff',\n                color: '#1f1f1f',\n                outline: 'none',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                cursor: 'pointer',\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#5b8a7a';\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                e.target.style.boxShadow = 'none';\n              }}\n            >\n              <option value=\"auto\">Автоматическая (лучшее фото)</option>\n              <option value=\"first-photo\">Первое фото первого путешествия</option>\n              <option value=\"gradient\">Градиент</option>\n              <option value=\"custom\">Свое изображение</option>\n            </select>\n          </div>\n\n          {settings.coverType === 'custom' && (\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n                Ссылка на изображение обложки\n              </label>\n              <input\n                type=\"url\"\n                value={settings.coverImage || ''}\n                onChange={(e) => setSettings({ ...settings, coverImage: e.target.value })}\n                style={{\n                  width: '100%',\n                  padding: '12px 14px',\n                  border: '1.5px solid rgba(31, 31, 31, 0.08)',\n                  borderRadius: '12px',\n                  fontSize: '15px',\n                  backgroundColor: '#ffffff',\n                  color: '#1f1f1f',\n                  outline: 'none',\n                  transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#5b8a7a';\n                  e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                  e.target.style.boxShadow = 'none';\n                }}\n                placeholder=\"https://example.com/cover.jpg\"\n              />\n            </div>\n          )}\n\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n              Тема оформления\n            </label>\n            <select\n              value={settings.template}\n              onChange={(e) => setSettings({ ...settings, template: e.target.value as any })}\n              style={{\n                width: '100%',\n                padding: '12px 14px',\n                border: '1.5px solid rgba(31, 31, 31, 0.08)',\n                borderRadius: '12px',\n                fontSize: '15px',\n                minHeight: '44px',\n                backgroundColor: '#ffffff',\n                color: '#1f1f1f',\n                outline: 'none',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                cursor: 'pointer',\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#5b8a7a';\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                e.target.style.boxShadow = 'none';\n              }}\n            >\n              <option value=\"minimal\">Минималистичная - чистое оформление</option>\n              <option value=\"light\">Светлая - много воздуха, мягкие цвета</option>\n              <option value=\"dark\">Темная - элегантное темное оформление</option>\n              <option value=\"travel-magazine\">Travel Magazine - журнальная вёрстка</option>\n              <option value=\"classic\">Классическая - традиционная типографика</option>\n              <option value=\"modern\">Современная - геометрические формы</option>\n              <option value=\"romantic\">Романтическая - пастельные цвета</option>\n              <option value=\"adventure\">Приключенческая - динамичная типографика</option>\n            </select>\n            <div style={{ marginTop: '6px', fontSize: '12px', color: '#6b6b6b', lineHeight: '1.4' }}>\n              {settings.template === 'minimal' && 'Чистое и простое оформление с акцентом на контент'}\n              {settings.template === 'light' && 'Светлые тона, много воздуха, подходит для пляжного отдыха'}\n              {settings.template === 'dark' && 'Элегантное темное оформление, подходит для вечерних фото'}\n              {settings.template === 'travel-magazine' && 'Яркие акценты, подходит для городских путешествий'}\n              {settings.template === 'classic' && 'Традиционная типографика, подходит для исторических мест'}\n              {settings.template === 'modern' && 'Яркие градиенты, подходит для современных городов и tech-туризма'}\n              {settings.template === 'romantic' && 'Мягкие формы, подходит для свадебных путешествий и медового месяца'}\n              {settings.template === 'adventure' && 'Жирные заголовки, подходит для активного отдыха и экстремальных путешествий'}\n            </div>\n          </div>\n\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'block', marginBottom: '8px', fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n              Сортировка\n            </label>\n            <select\n              value={settings.sortOrder}\n              onChange={(e) => setSettings({ ...settings, sortOrder: e.target.value as any })}\n              style={{\n                width: '100%',\n                padding: '12px 14px',\n                border: '1.5px solid rgba(31, 31, 31, 0.08)',\n                borderRadius: '12px',\n                fontSize: '15px',\n                minHeight: '44px',\n                backgroundColor: '#ffffff',\n                color: '#1f1f1f',\n                outline: 'none',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                cursor: 'pointer',\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#5b8a7a';\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                e.target.style.boxShadow = 'none';\n              }}\n            >\n              <option value=\"date-desc\">По дате (новые → старые)</option>\n              <option value=\"date-asc\">По дате (старые → новые)</option>\n              <option value=\"country\">По стране</option>\n              <option value=\"alphabetical\">По алфавиту</option>\n            </select>\n          </div>\n\n          <div style={{ marginBottom: '20px' }}>\n            <label style={{ display: 'flex', alignItems: 'center', gap: '10px', cursor: 'pointer' }}>\n              <input\n                type=\"checkbox\"\n                checked={settings.includeToc}\n                onChange={(e) => setSettings({ ...settings, includeToc: e.target.checked })}\n                style={{ \n                  width: '20px', // ✅ ИСПРАВЛЕНИЕ: Увеличен размер\n                  height: '20px', // ✅ ИСПРАВЛЕНИЕ: Увеличен размер\n                  minWidth: '20px',\n                  minHeight: '20px',\n                  cursor: 'pointer',\n                }}\n              />\n              <span style={{ fontWeight: 500, color: '#1f1f1f', fontSize: '15px' }}>Включить оглавление</span>\n            </label>\n          </div>\n\n          <div style={{ marginBottom: '20px', padding: '18px', borderRadius: '14px', border: '1px solid rgba(31,31,31,0.08)', backgroundColor: '#f8f7f4' }}>\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '8px' }}>\n              <label style={{ fontWeight: 600, color: '#1f1f1f', fontSize: '14px' }}>\n                Чек-листы путешественника\n              </label>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '8px', cursor: 'pointer', fontSize: '13px', color: '#374151' }}>\n                <input\n                  type=\"checkbox\"\n                  checked={settings.includeChecklists}\n                  onChange={(e) => handleToggleChecklists(e.target.checked)}\n                  style={{ width: '20px', height: '20px', accentColor: '#5b8a7a', cursor: 'pointer' }}\n                />\n                Добавить в PDF\n              </label>\n            </div>\n            <div style={{ fontSize: '12px', color: '#6b7280', marginBottom: settings.includeChecklists ? '12px' : 0 }}>\n              Стандартные списки для печати: экипировка, еда, документы, техника и аптечка.\n            </div>\n            {settings.includeChecklists && (\n              <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '12px' }}>\n                {CHECKLIST_OPTIONS.map((option) => {\n                  const selected = checklistSections.includes(option.value);\n                  return (\n                    <label\n                      key={option.value}\n                      style={{\n                        borderRadius: '12px',\n                        border: selected ? '2px solid #5b8a7a' : '1px solid rgba(31,31,31,0.12)',\n                        padding: '12px',\n                        backgroundColor: '#fff',\n                        cursor: 'pointer',\n                        display: 'block',\n                        boxShadow: selected ? '0 6px 18px rgba(91, 138, 122, 0.1)' : '0 1px 3px rgba(31,31,31,0.05)',\n                      }}\n                    >\n                      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '6px' }}>\n                        <span style={{ fontWeight: 600, color: '#1f1f1f' }}>{option.label}</span>\n                        <input\n                          type=\"checkbox\"\n                          checked={selected}\n                          onChange={() => toggleChecklistSection(option.value)}\n                          style={{ width: '18px', height: '18px', accentColor: '#5b8a7a', cursor: 'pointer' }}\n                        />\n                      </div>\n                      <ul style={{ margin: 0, padding: '0 0 0 16px', fontSize: '12px', color: '#6b7280' }}>\n                        {option.items.map((item) => (\n                          <li key={item}>{item}</li>\n                        ))}\n                      </ul>\n                    </label>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n            </>\n          )}\n\n          <div style={{ display: 'flex', gap: '12px', justifyContent: 'flex-end', marginTop: '30px' }}>\n            <button\n              onClick={onClose}\n              style={{\n                padding: '12px 20px',\n                border: '1px solid rgba(31, 31, 31, 0.08)',\n                borderRadius: '12px',\n                backgroundColor: '#ffffff',\n                color: '#1f1f1f',\n                fontSize: '15px',\n                fontWeight: 600,\n                cursor: 'pointer',\n                minWidth: '44px',\n                minHeight: '44px',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                outline: 'none',\n                boxShadow: '0 1px 3px rgba(31, 31, 31, 0.04)',\n              }}\n              onFocus={(e) => {\n                e.target.style.borderColor = '#5b8a7a';\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n              }}\n              onBlur={(e) => {\n                e.target.style.borderColor = 'rgba(31, 31, 31, 0.08)';\n                e.target.style.boxShadow = '0 1px 3px rgba(31, 31, 31, 0.04)';\n              }}\n              onMouseEnter={(e) => {\n                const target = e.target as HTMLButtonElement;\n                target.style.backgroundColor = '#f5f4f2';\n                target.style.transform = 'translateY(-1px)';\n                target.style.boxShadow = '0 2px 6px rgba(31, 31, 31, 0.08)';\n              }}\n              onMouseLeave={(e) => {\n                const target = e.target as HTMLButtonElement;\n                target.style.backgroundColor = '#ffffff';\n                target.style.transform = 'translateY(0)';\n                target.style.boxShadow = '0 1px 3px rgba(31, 31, 31, 0.04)';\n              }}\n            >\n              Отмена\n            </button>\n            {onPreview && (\n              <button\n                onClick={handlePreview}\n                style={{\n                  padding: '12px 20px',\n                  border: '1px solid #5b8a7a',\n                  borderRadius: '12px',\n                  backgroundColor: '#ffffff',\n                  color: '#5b8a7a',\n                  fontSize: '15px',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  minWidth: '44px',\n                  minHeight: '44px',\n                  transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                  outline: 'none',\n                  boxShadow: '0 1px 3px rgba(31, 31, 31, 0.04)',\n                }}\n                onFocus={(e) => {\n                  e.target.style.borderColor = '#5b8a7a';\n                  e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3)';\n                }}\n                onBlur={(e) => {\n                  e.target.style.borderColor = '#5b8a7a';\n                  e.target.style.boxShadow = '0 1px 3px rgba(31, 31, 31, 0.04)';\n                }}\n                onMouseEnter={(e) => {\n                  const target = e.target as HTMLButtonElement;\n                  target.style.backgroundColor = '#e8f0ed';\n                  target.style.transform = 'translateY(-1px)';\n                  target.style.boxShadow = '0 2px 6px rgba(31, 31, 31, 0.08)';\n                }}\n                onMouseLeave={(e) => {\n                  const target = e.target as HTMLButtonElement;\n                  target.style.backgroundColor = '#ffffff';\n                  target.style.transform = 'translateY(0)';\n                  target.style.boxShadow = '0 1px 3px rgba(31, 31, 31, 0.04)';\n                }}\n              >\n                Превью\n              </button>\n            )}\n            <button\n              onClick={handleSave}\n              style={{\n                padding: '12px 20px',\n                border: 'none',\n                borderRadius: '12px',\n                backgroundColor: '#5b8a7a',\n                color: '#ffffff',\n                fontSize: '15px',\n                fontWeight: 600,\n                cursor: 'pointer',\n                minWidth: '44px',\n                minHeight: '44px',\n                transition: 'all 0.2s cubic-bezier(0.4, 0, 0.2, 1)',\n                outline: 'none',\n                boxShadow: '0 2px 6px rgba(31, 31, 31, 0.06)',\n              }}\n              onFocus={(e) => {\n                e.target.style.boxShadow = '0 0 0 3px rgba(91, 138, 122, 0.3), 0 2px 6px rgba(31, 31, 31, 0.06)';\n              }}\n              onBlur={(e) => {\n                e.target.style.boxShadow = '0 2px 6px rgba(31, 31, 31, 0.06)';\n              }}\n              onMouseEnter={(e) => {\n                const target = e.target as HTMLButtonElement;\n                target.style.backgroundColor = '#4a7264';\n                target.style.transform = 'translateY(-1px)';\n                target.style.boxShadow = '0 3px 8px rgba(31, 31, 31, 0.12)';\n              }}\n              onMouseLeave={(e) => {\n                const target = e.target as HTMLButtonElement;\n                target.style.backgroundColor = '#5b8a7a';\n                target.style.transform = 'translateY(0)';\n                target.style.boxShadow = '0 2px 6px rgba(31, 31, 31, 0.06)';\n                target.style.transform = 'translateY(0)';\n              }}\n            >\n              Сохранить PDF\n            </button>\n          </div>\n        </div>\n      </div>\n\n    </Modal>\n  );\n}\n","// components/export/ThemePreview.tsx\n// Компонент для предпросмотра тем PDF с миниатюрами\n\nimport React from 'react';\nimport { View, Text, StyleSheet, Pressable, ScrollView } from 'react-native';\n\nexport type PdfThemeName = \n  | 'minimal' \n  | 'light' \n  | 'dark' \n  | 'travel-magazine' \n  | 'classic' \n  | 'modern' \n  | 'romantic' \n  | 'adventure';\n\ninterface ThemeInfo {\n  id: PdfThemeName;\n  name: string;\n  description: string;\n  colors: {\n    primary: string;\n    secondary: string;\n    accent: string;\n    background: string;\n  };\n  preview: {\n    headerFont: string;\n    bodyFont: string;\n    style: 'modern' | 'classic' | 'playful' | 'elegant';\n  };\n}\n\nconst THEME_CATALOG: Record<PdfThemeName, ThemeInfo> = {\n  minimal: {\n    id: 'minimal',\n    name: 'Минимал',\n    description: 'Чистый и простой дизайн',\n    colors: {\n      primary: '#1a1a1a',\n      secondary: '#666666',\n      accent: '#2563eb',\n      background: '#ffffff',\n    },\n    preview: {\n      headerFont: 'Inter',\n      bodyFont: 'Inter',\n      style: 'modern',\n    },\n  },\n  light: {\n    id: 'light',\n    name: 'Светлая',\n    description: 'Мягкие цвета и много воздуха',\n    colors: {\n      primary: '#1e293b',\n      secondary: '#64748b',\n      accent: '#3b82f6',\n      background: '#f8fafc',\n    },\n    preview: {\n      headerFont: 'Inter',\n      bodyFont: 'Inter',\n      style: 'modern',\n    },\n  },\n  dark: {\n    id: 'dark',\n    name: 'Темная',\n    description: 'Элегантное темное оформление',\n    colors: {\n      primary: '#f1f5f9',\n      secondary: '#cbd5e1',\n      accent: '#f59e0b',\n      background: '#0f172a',\n    },\n    preview: {\n      headerFont: 'Montserrat',\n      bodyFont: 'Open Sans',\n      style: 'modern',\n    },\n  },\n  'travel-magazine': {\n    id: 'travel-magazine',\n    name: 'Журнал',\n    description: 'Яркий журнальный стиль',\n    colors: {\n      primary: '#1a1a1a',\n      secondary: '#4a4a4a',\n      accent: '#ea580c',\n      background: '#ffffff',\n    },\n    preview: {\n      headerFont: 'Playfair Display',\n      bodyFont: 'Lato',\n      style: 'elegant',\n    },\n  },\n  classic: {\n    id: 'classic',\n    name: 'Классика',\n    description: 'Традиционная типографика',\n    colors: {\n      primary: '#2c1810',\n      secondary: '#5a4a42',\n      accent: '#8b4513',\n      background: '#faf8f5',\n    },\n    preview: {\n      headerFont: 'Crimson Text',\n      bodyFont: 'Crimson Text',\n      style: 'classic',\n    },\n  },\n  modern: {\n    id: 'modern',\n    name: 'Модерн',\n    description: 'Современный геометрический стиль',\n    colors: {\n      primary: '#18181b',\n      secondary: '#52525b',\n      accent: '#8b5cf6',\n      background: '#ffffff',\n    },\n    preview: {\n      headerFont: 'Poppins',\n      bodyFont: 'Inter',\n      style: 'modern',\n    },\n  },\n  romantic: {\n    id: 'romantic',\n    name: 'Романтика',\n    description: 'Элегантный и нежный',\n    colors: {\n      primary: '#4a1942',\n      secondary: '#8b5a83',\n      accent: '#e91e63',\n      background: '#fdf2f8',\n    },\n    preview: {\n      headerFont: 'Cormorant Garamond',\n      bodyFont: 'Lora',\n      style: 'elegant',\n    },\n  },\n  adventure: {\n    id: 'adventure',\n    name: 'Приключение',\n    description: 'Динамичный и смелый',\n    colors: {\n      primary: '#1a1a1a',\n      secondary: '#4a4a4a',\n      accent: '#ff6b35',\n      background: '#ffffff',\n    },\n    preview: {\n      headerFont: 'Oswald',\n      bodyFont: 'Roboto',\n      style: 'playful',\n    },\n  },\n};\n\ninterface ThemePreviewProps {\n  selectedTheme: PdfThemeName;\n  onThemeSelect: (theme: PdfThemeName) => void;\n  compact?: boolean;\n}\n\nexport default function ThemePreview({\n  selectedTheme,\n  onThemeSelect,\n  compact = false,\n}: ThemePreviewProps) {\n  const themes = Object.values(THEME_CATALOG);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.sectionTitle}>Выберите тему оформления</Text>\n      <ScrollView \n        horizontal={compact}\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={compact ? styles.horizontalScroll : styles.gridContainer}\n      >\n        {themes.map((theme) => (\n          <ThemeCard\n            key={theme.id}\n            theme={theme}\n            isSelected={selectedTheme === theme.id}\n            onSelect={() => onThemeSelect(theme.id)}\n            compact={compact}\n          />\n        ))}\n      </ScrollView>\n    </View>\n  );\n}\n\ninterface ThemeCardProps {\n  theme: ThemeInfo;\n  isSelected: boolean;\n  onSelect: () => void;\n  compact: boolean;\n}\n\nfunction ThemeCard({ theme, isSelected, onSelect, compact }: ThemeCardProps) {\n  return (\n    <Pressable\n      style={[\n        styles.themeCard,\n        compact && styles.themeCardCompact,\n        isSelected && styles.themeCardSelected,\n      ]}\n      onPress={onSelect}\n    >\n      {/* Миниатюра темы */}\n      <View style={[styles.thumbnail, { backgroundColor: theme.colors.background }]}>\n        <View style={styles.thumbnailContent}>\n          {/* Заголовок */}\n          <View\n            style={[\n              styles.thumbnailHeader,\n              { backgroundColor: theme.colors.primary, borderColor: theme.colors.accent },\n            ]}\n          />\n          {/* Текстовые блоки */}\n          <View style={styles.thumbnailBody}>\n            <View style={[styles.thumbnailLine, { backgroundColor: theme.colors.secondary }]} />\n            <View\n              style={[\n                styles.thumbnailLine,\n                styles.thumbnailLineShort,\n                { backgroundColor: theme.colors.secondary },\n              ]}\n            />\n          </View>\n          {/* Акцентный элемент */}\n          <View\n            style={[\n              styles.thumbnailAccent,\n              { backgroundColor: theme.colors.accent },\n            ]}\n          />\n        </View>\n      </View>\n\n      {/* Информация о теме */}\n      <View style={styles.themeInfo}>\n        <Text style={styles.themeName}>{theme.name}</Text>\n        {!compact && <Text style={styles.themeDescription}>{theme.description}</Text>}\n        \n        {/* Цветовая палитра */}\n        <View style={styles.colorPalette}>\n          <View style={[styles.colorDot, { backgroundColor: theme.colors.primary }]} />\n          <View style={[styles.colorDot, { backgroundColor: theme.colors.accent }]} />\n          <View style={[styles.colorDot, { backgroundColor: theme.colors.secondary }]} />\n        </View>\n\n        {/* Шрифты */}\n        {!compact && (\n          <Text style={styles.fontInfo}>\n            {theme.preview.headerFont} • {theme.preview.bodyFont}\n          </Text>\n        )}\n      </View>\n\n      {/* Индикатор выбора */}\n      {isSelected && (\n        <View style={styles.selectedBadge}>\n          <Text style={styles.selectedBadgeText}>✓</Text>\n        </View>\n      )}\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingVertical: 16,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#1a1a1a',\n    marginBottom: 16,\n    paddingHorizontal: 16,\n  },\n  gridContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    paddingHorizontal: 8,\n  },\n  horizontalScroll: {\n    paddingHorizontal: 16,\n    gap: 12,\n  },\n  themeCard: {\n    width: '48%',\n    marginHorizontal: '1%',\n    marginBottom: 16,\n    minHeight: 240,\n    backgroundColor: '#ffffff',\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: '#e5e7eb',\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  themeCardCompact: {\n    width: 180,\n    marginHorizontal: 0,\n  },\n  themeCardSelected: {\n    borderColor: '#2563eb',\n    borderWidth: 3,\n    shadowColor: '#2563eb',\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n  },\n  thumbnail: {\n    height: 140,\n    padding: 12,\n    borderBottomWidth: 1,\n    borderBottomColor: '#e5e7eb',\n  },\n  thumbnailContent: {\n    flex: 1,\n    justifyContent: 'space-between',\n  },\n  thumbnailHeader: {\n    height: 24,\n    borderRadius: 4,\n    borderLeftWidth: 4,\n  },\n  thumbnailBody: {\n    gap: 6,\n  },\n  thumbnailLine: {\n    height: 8,\n    borderRadius: 2,\n    opacity: 0.6,\n  },\n  thumbnailLineShort: {\n    width: '70%',\n  },\n  thumbnailAccent: {\n    height: 16,\n    width: 40,\n    borderRadius: 8,\n    alignSelf: 'flex-end',\n  },\n  themeInfo: {\n    padding: 12,\n  },\n  themeName: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#1a1a1a',\n    marginBottom: 4,\n  },\n  themeDescription: {\n    fontSize: 12,\n    color: '#6b7280',\n    marginBottom: 8,\n  },\n  colorPalette: {\n    flexDirection: 'row',\n    gap: 6,\n    marginBottom: 6,\n  },\n  colorDot: {\n    width: 16,\n    height: 16,\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: '#e5e7eb',\n  },\n  fontInfo: {\n    fontSize: 10,\n    color: '#9ca3af',\n    fontStyle: 'italic',\n  },\n  selectedBadge: {\n    position: 'absolute',\n    top: 8,\n    right: 8,\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n    backgroundColor: '#2563eb',\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 4,\n    elevation: 4,\n  },\n  selectedBadgeText: {\n    color: '#ffffff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n});\n","// components/export/PresetSelector.tsx\n// Компонент для выбора пресетов настроек PDF\n\nimport React, { useState, useEffect } from 'react';\nimport { View, Text, StyleSheet, Pressable, ScrollView, Platform } from 'react-native';\nimport type { BookPreset, PresetCategory } from '@/src/types/pdf-presets';\nimport { BOOK_PRESETS, PRESET_CATEGORIES } from '@/src/types/pdf-presets';\n\n// Добавляем стили для web через style tag\nif (Platform.OS === 'web' && typeof document !== 'undefined') {\n  const styleId = 'preset-selector-styles';\n  if (!document.getElementById(styleId)) {\n    const style = document.createElement('style');\n    style.id = styleId;\n    style.type = 'text/css';\n    const css = `\n      .presets-scroll-container {\n        display: flex;\n        overflow-x: auto;\n        overflow-y: hidden;\n        scroll-behavior: smooth;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: thin;\n        scrollbar-color: #cbd5e1 #f1f5f9;\n        padding: 8px 0;\n      }\n      .presets-scroll-container::-webkit-scrollbar { height: 8px; }\n      .presets-scroll-container::-webkit-scrollbar-track {\n        background: #f1f5f9;\n        border-radius: 4px;\n        margin: 0 16px;\n      }\n      .presets-scroll-container::-webkit-scrollbar-thumb {\n        background: #cbd5e1;\n        border-radius: 4px;\n      }\n      .presets-scroll-container::-webkit-scrollbar-thumb:hover { background: #94a3b8; }\n      .presets-content {\n        display: flex;\n        flex-direction: row;\n        gap: 12px;\n        padding: 0 16px;\n        min-width: min-content;\n      }\n      .categories-scroll-container {\n        display: flex;\n        overflow-x: auto;\n        overflow-y: hidden;\n        scroll-behavior: smooth;\n        -webkit-overflow-scrolling: touch;\n        scrollbar-width: none;\n      }\n      .categories-scroll-container::-webkit-scrollbar { display: none; }\n      .categories-content {\n        display: flex;\n        flex-direction: row;\n        gap: 8px;\n        padding: 0 16px;\n        min-width: min-content;\n      }\n    `;\n    if ((style as any).styleSheet) {\n      // IE support\n      (style as any).styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n    document.head.appendChild(style);\n  }\n}\n\ninterface PresetSelectorProps {\n  onPresetSelect: (preset: BookPreset) => void;\n  selectedPresetId?: string;\n  showCategories?: boolean;\n}\n\nexport default function PresetSelector({\n  onPresetSelect,\n  selectedPresetId,\n  showCategories = true,\n}: PresetSelectorProps) {\n  const [selectedCategory, setSelectedCategory] = useState<PresetCategory | 'all'>('all');\n\n  const filteredPresets =\n    selectedCategory === 'all'\n      ? BOOK_PRESETS\n      : BOOK_PRESETS.filter((preset) => preset.category === selectedCategory);\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Быстрый старт</Text>\n      <Text style={styles.subtitle}>Выберите готовый пресет или настройте вручную</Text>\n\n      {/* Фильтр по категориям */}\n      {showCategories && (\n        <ScrollView\n          horizontal\n          showsHorizontalScrollIndicator={false}\n          style={styles.categoriesContainer}\n          contentContainerStyle={styles.categoriesContent}\n          {...(Platform.OS === 'web' && {\n            // @ts-ignore - web-specific props\n            className: 'categories-scroll-container',\n          })}\n        >\n          <View\n            style={{ flexDirection: 'row', gap: 8 }}\n            {...(Platform.OS === 'web' && {\n              // @ts-ignore - web-specific props\n              className: 'categories-content',\n            })}\n          >\n            <CategoryChip\n              label=\"Все\"\n              isSelected={selectedCategory === 'all'}\n              onPress={() => setSelectedCategory('all')}\n            />\n            {Object.entries(PRESET_CATEGORIES).map(([key, category]) => (\n              <CategoryChip\n                key={key}\n                label={category.name}\n                isSelected={selectedCategory === key}\n                onPress={() => setSelectedCategory(key as PresetCategory)}\n              />\n            ))}\n          </View>\n        </ScrollView>\n      )}\n\n      {/* Список пресетов */}\n      <View style={styles.presetsWrapper}>\n        <ScrollView\n          horizontal\n          showsHorizontalScrollIndicator={Platform.OS !== 'web'}\n          style={styles.presetsContainer}\n          contentContainerStyle={styles.presetsContent}\n          {...(Platform.OS === 'web' && {\n            // @ts-ignore - web-specific props\n            className: 'presets-scroll-container',\n          })}\n        >\n          <View\n            style={{ flexDirection: 'row', gap: 12 }}\n            {...(Platform.OS === 'web' && {\n              // @ts-ignore - web-specific props\n              className: 'presets-content',\n            })}\n          >\n            {filteredPresets.map((preset) => (\n              <PresetCard\n                key={preset.id}\n                preset={preset}\n                isSelected={selectedPresetId === preset.id}\n                onSelect={() => onPresetSelect(preset)}\n              />\n            ))}\n          </View>\n        </ScrollView>\n      </View>\n    </View>\n  );\n}\n\ninterface CategoryChipProps {\n  label: string;\n  isSelected: boolean;\n  onPress: () => void;\n}\n\nfunction CategoryChip({ label, isSelected, onPress }: CategoryChipProps) {\n  return (\n    <Pressable\n      style={[styles.categoryChip, isSelected && styles.categoryChipSelected]}\n      onPress={onPress}\n    >\n      <Text style={[styles.categoryChipText, isSelected && styles.categoryChipTextSelected]}>\n        {label}\n      </Text>\n    </Pressable>\n  );\n}\n\ninterface PresetCardProps {\n  preset: BookPreset;\n  isSelected: boolean;\n  onSelect: () => void;\n}\n\nfunction PresetCard({ preset, isSelected, onSelect }: PresetCardProps) {\n  return (\n    <Pressable\n      style={[styles.presetCard, isSelected && styles.presetCardSelected]}\n      onPress={onSelect}\n    >\n      {/* Иконка */}\n      <View style={styles.presetIcon}>\n        <Text style={styles.presetIconText}>{preset.icon}</Text>\n      </View>\n\n      {/* Информация */}\n      <View style={styles.presetInfo}>\n        <Text style={styles.presetName} numberOfLines={1}>\n          {preset.name}\n        </Text>\n        <Text style={styles.presetDescription} numberOfLines={2}>\n          {preset.description}\n        </Text>\n\n        {/* Особенности пресета */}\n        <View style={styles.presetFeatures}>\n          {preset.settings.includeGallery && (\n            <FeatureBadge icon=\"📸\" label=\"Галерея\" />\n          )}\n          {preset.settings.includeMap && (\n            <FeatureBadge icon=\"🗺️\" label=\"Карты\" />\n          )}\n          {preset.settings.includeChecklists && (\n            <FeatureBadge icon=\"✓\" label=\"Чек-листы\" />\n          )}\n        </View>\n      </View>\n\n      {/* Индикатор выбора */}\n      {isSelected && (\n        <View style={styles.selectedIndicator}>\n          <Text style={styles.selectedIndicatorText}>✓</Text>\n        </View>\n      )}\n\n      {/* Бейдж \"По умолчанию\" */}\n      {preset.isDefault && (\n        <View style={styles.defaultBadge}>\n          <Text style={styles.defaultBadgeText}>По умолчанию</Text>\n        </View>\n      )}\n\n      {/* Бейдж \"Пользовательский\" */}\n      {preset.isCustom && (\n        <View style={styles.customBadge}>\n          <Text style={styles.customBadgeText}>Мой</Text>\n        </View>\n      )}\n    </Pressable>\n  );\n}\n\ninterface FeatureBadgeProps {\n  icon: string;\n  label: string;\n}\n\nfunction FeatureBadge({ icon, label }: FeatureBadgeProps) {\n  return (\n    <View style={styles.featureBadge}>\n      <Text style={styles.featureBadgeIcon}>{icon}</Text>\n      <Text style={styles.featureBadgeText}>{label}</Text>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingVertical: 16,\n  },\n  title: {\n    fontSize: 18,\n    fontWeight: '600',\n    color: '#1a1a1a',\n    marginBottom: 4,\n    paddingHorizontal: 16,\n  },\n  subtitle: {\n    fontSize: 14,\n    color: '#6b7280',\n    marginBottom: 16,\n    paddingHorizontal: 16,\n  },\n  categoriesContainer: {\n    marginBottom: 16,\n  },\n  categoriesContent: {\n    paddingHorizontal: 16,\n    gap: 8,\n  },\n  categoryChip: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n    borderRadius: 20,\n    backgroundColor: '#f3f4f6',\n    borderWidth: 1,\n    borderColor: '#e5e7eb',\n  },\n  categoryChipSelected: {\n    backgroundColor: '#2563eb',\n    borderColor: '#2563eb',\n  },\n  categoryChipText: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#4b5563',\n  },\n  categoryChipTextSelected: {\n    color: '#ffffff',\n  },\n  presetsWrapper: {\n    position: 'relative',\n    overflow: 'hidden',\n  },\n  presetsContainer: {\n    marginTop: 8,\n  },\n  presetsContent: {\n    paddingHorizontal: 16,\n    gap: 12,\n    flexDirection: 'row',\n  },\n  presetCard: {\n    width: 260,\n    minHeight: 200,\n    backgroundColor: '#ffffff',\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: '#e5e7eb',\n    padding: 16,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  presetCardSelected: {\n    borderColor: '#2563eb',\n    borderWidth: 3,\n    shadowColor: '#2563eb',\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n  },\n  presetIcon: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: '#f3f4f6',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  presetIconText: {\n    fontSize: 24,\n  },\n  presetInfo: {\n    flex: 1,\n  },\n  presetName: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#1a1a1a',\n    marginBottom: 6,\n  },\n  presetDescription: {\n    fontSize: 12,\n    color: '#6b7280',\n    lineHeight: 16,\n    marginBottom: 12,\n    minHeight: 32,\n  },\n  presetFeatures: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    gap: 6,\n  },\n  featureBadge: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 12,\n    backgroundColor: '#f3f4f6',\n    gap: 4,\n  },\n  featureBadgeIcon: {\n    fontSize: 12,\n  },\n  featureBadgeText: {\n    fontSize: 11,\n    color: '#4b5563',\n    fontWeight: '500',\n  },\n  selectedIndicator: {\n    position: 'absolute',\n    top: 12,\n    right: 12,\n    width: 28,\n    height: 28,\n    borderRadius: 14,\n    backgroundColor: '#2563eb',\n    justifyContent: 'center',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 4,\n    elevation: 4,\n  },\n  selectedIndicatorText: {\n    color: '#ffffff',\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  defaultBadge: {\n    position: 'absolute',\n    top: 12,\n    left: 12,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 8,\n    backgroundColor: '#10b981',\n  },\n  defaultBadgeText: {\n    fontSize: 10,\n    fontWeight: '600',\n    color: '#ffffff',\n  },\n  customBadge: {\n    position: 'absolute',\n    top: 12,\n    left: 12,\n    paddingHorizontal: 8,\n    paddingVertical: 4,\n    borderRadius: 8,\n    backgroundColor: '#f59e0b',\n  },\n  customBadgeText: {\n    fontSize: 10,\n    fontWeight: '600',\n    color: '#ffffff',\n  },\n});\n","// src/types/pdf-presets.ts\n// Типы и пресеты для настроек PDF экспорта\n\nimport type { BookSettings } from '@/components/export/BookSettingsModal';\n\nexport type PresetCategory = 'minimal' | 'detailed' | 'photo-focused' | 'map-focused' | 'print';\n\nexport interface BookPreset {\n  id: string;\n  name: string;\n  description: string;\n  category: PresetCategory;\n  icon: string;\n  settings: BookSettings;\n  thumbnail?: string;\n  isDefault?: boolean;\n  isCustom?: boolean;\n}\n\n/**\n * Готовые пресеты настроек для быстрого старта\n */\nexport const BOOK_PRESETS: BookPreset[] = [\n  {\n    id: 'minimalist',\n    name: 'Минималист',\n    description: 'Только текст и ключевые фото. Идеально для быстрого обзора.',\n    category: 'minimal',\n    icon: '📝',\n    isDefault: true,\n    settings: {\n      title: 'Мои путешествия',\n      subtitle: '',\n      coverType: 'gradient',\n      template: 'minimal',\n      sortOrder: 'date-desc',\n      includeToc: true,\n      includeGallery: false,\n      includeMap: false,\n      includeChecklists: false,\n      checklistSections: [],\n    },\n  },\n  {\n    id: 'photo-album',\n    name: 'Фотоальбом',\n    description: 'Акцент на фотографии с минимумом текста. Для визуального восприятия.',\n    category: 'photo-focused',\n    icon: '📸',\n    settings: {\n      title: 'Фотоальбом путешествий',\n      subtitle: 'Визуальная история моих приключений',\n      coverType: 'first-photo',\n      template: 'light',\n      sortOrder: 'date-desc',\n      includeToc: false,\n      includeGallery: true,\n      includeMap: false,\n      includeChecklists: false,\n      checklistSections: [],\n    },\n  },\n  {\n    id: 'travel-guide',\n    name: 'Путеводитель',\n    description: 'Карты, адреса и рекомендации. Практичный формат для планирования.',\n    category: 'map-focused',\n    icon: '🗺️',\n    settings: {\n      title: 'Путеводитель',\n      subtitle: 'Проверенные места и маршруты',\n      coverType: 'auto',\n      template: 'travel-magazine',\n      sortOrder: 'country',\n      includeToc: true,\n      includeGallery: true,\n      includeMap: true,\n      showCoordinatesOnMapPage: true,\n      includeChecklists: true,\n      checklistSections: ['documents', 'electronics', 'medicine'],\n    },\n  },\n  {\n    id: 'travel-journal',\n    name: 'Журнал путешественника',\n    description: 'Полный формат со всеми деталями. Максимум информации.',\n    category: 'detailed',\n    icon: '📖',\n    settings: {\n      title: 'Журнал путешествий',\n      subtitle: 'Полная история моих приключений',\n      coverType: 'auto',\n      template: 'classic',\n      sortOrder: 'date-desc',\n      includeToc: true,\n      includeGallery: true,\n      includeMap: true,\n      showCoordinatesOnMapPage: true,\n      includeChecklists: true,\n      checklistSections: ['clothing', 'food', 'electronics', 'documents', 'medicine'],\n    },\n  },\n  {\n    id: 'for-print',\n    name: 'Для печати',\n    description: 'Оптимизировано для типографии. Высокое качество и правильные отступы.',\n    category: 'print',\n    icon: '🖨️',\n    settings: {\n      title: 'Книга путешествий',\n      subtitle: '',\n      coverType: 'first-photo',\n      template: 'classic',\n      sortOrder: 'date-desc',\n      includeToc: true,\n      includeGallery: true,\n      includeMap: true,\n      showCoordinatesOnMapPage: false,\n      includeChecklists: false,\n      checklistSections: [],\n    },\n  },\n  {\n    id: 'romantic',\n    name: 'Романтическое путешествие',\n    description: 'Нежный дизайн для особенных воспоминаний.',\n    category: 'photo-focused',\n    icon: '💕',\n    settings: {\n      title: 'Наше путешествие',\n      subtitle: 'Незабываемые моменты вместе',\n      coverType: 'first-photo',\n      template: 'romantic',\n      sortOrder: 'date-desc',\n      includeToc: false,\n      includeGallery: true,\n      includeMap: false,\n      includeChecklists: false,\n      checklistSections: [],\n    },\n  },\n  {\n    id: 'adventure',\n    name: 'Приключение',\n    description: 'Динамичный стиль для активных путешествий.',\n    category: 'detailed',\n    icon: '⛰️',\n    settings: {\n      title: 'Книга приключений',\n      subtitle: 'Покоряя новые вершины',\n      coverType: 'auto',\n      template: 'adventure',\n      sortOrder: 'date-desc',\n      includeToc: true,\n      includeGallery: true,\n      includeMap: true,\n      showCoordinatesOnMapPage: true,\n      includeChecklists: true,\n      checklistSections: ['clothing', 'electronics', 'medicine'],\n    },\n  },\n  {\n    id: 'modern-minimal',\n    name: 'Современный минимализм',\n    description: 'Стильный и лаконичный дизайн для современных путешественников.',\n    category: 'minimal',\n    icon: '✨',\n    settings: {\n      title: 'Путешествия',\n      subtitle: '',\n      coverType: 'gradient',\n      template: 'modern',\n      sortOrder: 'date-desc',\n      includeToc: true,\n      includeGallery: true,\n      includeMap: false,\n      includeChecklists: false,\n      checklistSections: [],\n    },\n  },\n];\n\n/**\n * Категории пресетов с описаниями\n */\nexport const PRESET_CATEGORIES: Record<PresetCategory, { name: string; description: string }> = {\n  minimal: {\n    name: 'Минимализм',\n    description: 'Простые и лаконичные форматы',\n  },\n  detailed: {\n    name: 'Детальные',\n    description: 'Полная информация о путешествиях',\n  },\n  'photo-focused': {\n    name: 'Фото',\n    description: 'Акцент на визуальном контенте',\n  },\n  'map-focused': {\n    name: 'Карты',\n    description: 'С картами и навигацией',\n  },\n  print: {\n    name: 'Печать',\n    description: 'Оптимизировано для типографии',\n  },\n};\n\n/**\n * Получить пресет по ID\n */\nexport function getPresetById(id: string): BookPreset | undefined {\n  return BOOK_PRESETS.find((preset) => preset.id === id);\n}\n\n/**\n * Получить пресеты по категории\n */\nexport function getPresetsByCategory(category: PresetCategory): BookPreset[] {\n  return BOOK_PRESETS.filter((preset) => preset.category === category);\n}\n\n/**\n * Получить пресет по умолчанию\n */\nexport function getDefaultPreset(): BookPreset {\n  return BOOK_PRESETS.find((preset) => preset.isDefault) || BOOK_PRESETS[0];\n}\n\n/**\n * Сохранить пользовательский пресет\n */\nexport function createCustomPreset(\n  name: string,\n  description: string,\n  settings: BookSettings,\n  category: PresetCategory = 'detailed'\n): BookPreset {\n  return {\n    id: `custom-${Date.now()}`,\n    name,\n    description,\n    category,\n    icon: '⭐',\n    settings,\n    isCustom: true,\n  };\n}\n","// components/export/GalleryLayoutSelector.tsx\n// Компонент для выбора раскладки галереи\n\nimport React from 'react';\nimport { View, Text, StyleSheet, Pressable, ScrollView } from 'react-native';\nimport type { GalleryLayout, CaptionPosition } from '@/src/types/pdf-gallery';\n\ninterface GalleryLayoutInfo {\n  id: GalleryLayout;\n  name: string;\n  description: string;\n  icon: string;\n  preview: string; // ASCII art preview\n  bestFor: string;\n}\n\nconst GALLERY_LAYOUTS: GalleryLayoutInfo[] = [\n  {\n    id: 'grid',\n    name: 'Сетка',\n    description: 'Классическая раскладка с одинаковыми размерами',\n    icon: '▦',\n    preview: '▢▢▢\\n▢▢▢\\n▢▢▢',\n    bestFor: 'Универсальная раскладка для любых фото',\n  },\n  {\n    id: 'masonry',\n    name: 'Мозаика',\n    description: 'Pinterest-style с разной высотой фото',\n    icon: '▦',\n    preview: '▢▢\\n▢▢\\n▢▢',\n    bestFor: 'Фото с разными пропорциями',\n  },\n  {\n    id: 'collage',\n    name: 'Коллаж',\n    description: 'Одно большое фото + несколько маленьких',\n    icon: '▦',\n    preview: '▢▢\\n▢▢',\n    bestFor: 'Выделение ключевого фото',\n  },\n  {\n    id: 'polaroid',\n    name: 'Полароид',\n    description: 'Ретро стиль с белыми рамками',\n    icon: '▢',\n    preview: '▢ ▢\\n▢ ▢',\n    bestFor: 'Винтажный стиль, воспоминания',\n  },\n  {\n    id: 'slideshow',\n    name: 'Слайдшоу',\n    description: 'Одно фото на страницу',\n    icon: '▢',\n    preview: '▢',\n    bestFor: 'Крупные фото с подробными подписями',\n  },\n];\n\ninterface GalleryLayoutSelectorProps {\n  selectedLayout: GalleryLayout;\n  onLayoutSelect: (layout: GalleryLayout) => void;\n  columns?: number;\n  onColumnsChange?: (columns: number) => void;\n  showCaptions?: boolean;\n  onShowCaptionsChange?: (show: boolean) => void;\n  captionPosition?: CaptionPosition;\n  onCaptionPositionChange?: (position: CaptionPosition) => void;\n  spacing?: 'compact' | 'normal' | 'spacious';\n  onSpacingChange?: (spacing: 'compact' | 'normal' | 'spacious') => void;\n}\n\nexport default function GalleryLayoutSelector({\n  selectedLayout,\n  onLayoutSelect,\n  columns = 3,\n  onColumnsChange,\n  showCaptions = true,\n  onShowCaptionsChange,\n  captionPosition = 'bottom',\n  onCaptionPositionChange,\n  spacing = 'normal',\n  onSpacingChange,\n}: GalleryLayoutSelectorProps) {\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Раскладка галереи</Text>\n      \n      {/* Выбор раскладки */}\n      <ScrollView\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        style={styles.layoutsContainer}\n        contentContainerStyle={styles.layoutsContent}\n      >\n        {GALLERY_LAYOUTS.map((layout) => (\n          <LayoutCard\n            key={layout.id}\n            layout={layout}\n            isSelected={selectedLayout === layout.id}\n            onSelect={() => onLayoutSelect(layout.id)}\n          />\n        ))}\n      </ScrollView>\n\n      {/* Дополнительные настройки */}\n      <View style={styles.settingsContainer}>\n        {/* Колонки (только для grid и masonry) */}\n        {(selectedLayout === 'grid' || selectedLayout === 'masonry') && onColumnsChange && (\n          <View style={styles.settingRow}>\n            <Text style={styles.settingLabel}>Колонок:</Text>\n            <View style={styles.columnsButtons}>\n              {[2, 3, 4].map((num) => (\n                <Pressable\n                  key={num}\n                  style={[\n                    styles.columnButton,\n                    columns === num && styles.columnButtonActive,\n                  ]}\n                  onPress={() => onColumnsChange(num)}\n                >\n                  <Text\n                    style={[\n                      styles.columnButtonText,\n                      columns === num && styles.columnButtonTextActive,\n                    ]}\n                  >\n                    {num}\n                  </Text>\n                </Pressable>\n              ))}\n            </View>\n          </View>\n        )}\n\n        {/* Подписи */}\n        {onShowCaptionsChange && (\n          <View style={styles.settingRow}>\n            <Text style={styles.settingLabel}>Подписи к фото:</Text>\n            <Pressable\n              style={[styles.toggle, showCaptions && styles.toggleActive]}\n              onPress={() => onShowCaptionsChange(!showCaptions)}\n            >\n              <View style={[styles.toggleThumb, showCaptions && styles.toggleThumbActive]} />\n            </Pressable>\n          </View>\n        )}\n\n        {/* Позиция подписей */}\n        {showCaptions && onCaptionPositionChange && selectedLayout !== 'polaroid' && (\n          <View style={styles.settingRow}>\n            <Text style={styles.settingLabel}>Позиция:</Text>\n            <View style={styles.positionButtons}>\n              {[\n                { value: 'top', label: 'Сверху' },\n                { value: 'bottom', label: 'Снизу' },\n                { value: 'overlay', label: 'Поверх' },\n              ].map((pos) => (\n                <Pressable\n                  key={pos.value}\n                  style={[\n                    styles.positionButton,\n                    captionPosition === pos.value && styles.positionButtonActive,\n                  ]}\n                  onPress={() => onCaptionPositionChange(pos.value as CaptionPosition)}\n                >\n                  <Text\n                    style={[\n                      styles.positionButtonText,\n                      captionPosition === pos.value && styles.positionButtonTextActive,\n                    ]}\n                  >\n                    {pos.label}\n                  </Text>\n                </Pressable>\n              ))}\n            </View>\n          </View>\n        )}\n\n        {/* Отступы */}\n        {onSpacingChange && (\n          <View style={styles.settingRow}>\n            <Text style={styles.settingLabel}>Отступы:</Text>\n            <View style={styles.spacingButtons}>\n              {[\n                { value: 'compact', label: 'Компактно' },\n                { value: 'normal', label: 'Обычно' },\n                { value: 'spacious', label: 'Просторно' },\n              ].map((sp) => (\n                <Pressable\n                  key={sp.value}\n                  style={[\n                    styles.spacingButton,\n                    spacing === sp.value && styles.spacingButtonActive,\n                  ]}\n                  onPress={() => onSpacingChange(sp.value as any)}\n                >\n                  <Text\n                    style={[\n                      styles.spacingButtonText,\n                      spacing === sp.value && styles.spacingButtonTextActive,\n                    ]}\n                  >\n                    {sp.label}\n                  </Text>\n                </Pressable>\n              ))}\n            </View>\n          </View>\n        )}\n      </View>\n    </View>\n  );\n}\n\ninterface LayoutCardProps {\n  layout: GalleryLayoutInfo;\n  isSelected: boolean;\n  onSelect: () => void;\n}\n\nfunction LayoutCard({ layout, isSelected, onSelect }: LayoutCardProps) {\n  return (\n    <Pressable\n      style={[styles.layoutCard, isSelected && styles.layoutCardSelected]}\n      onPress={onSelect}\n    >\n      {/* Иконка */}\n      <View style={styles.layoutIcon}>\n        <Text style={styles.layoutIconText}>{layout.icon}</Text>\n      </View>\n\n      {/* Информация */}\n      <Text style={styles.layoutName}>{layout.name}</Text>\n      <Text style={styles.layoutDescription} numberOfLines={2}>\n        {layout.description}\n      </Text>\n\n      {/* Для чего подходит */}\n      <View style={styles.layoutBestFor}>\n        <Text style={styles.layoutBestForText} numberOfLines={2}>\n          {layout.bestFor}\n        </Text>\n      </View>\n\n      {/* Индикатор выбора */}\n      {isSelected && (\n        <View style={styles.selectedBadge}>\n          <Text style={styles.selectedBadgeText}>✓</Text>\n        </View>\n      )}\n    </Pressable>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    paddingVertical: 16,\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#1a1a1a',\n    marginBottom: 12,\n    paddingHorizontal: 16,\n  },\n  layoutsContainer: {\n    marginBottom: 16,\n  },\n  layoutsContent: {\n    paddingHorizontal: 16,\n    gap: 12,\n  },\n  layoutCard: {\n    width: 180,\n    backgroundColor: '#ffffff',\n    borderRadius: 12,\n    borderWidth: 2,\n    borderColor: '#e5e7eb',\n    padding: 16,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.1,\n    shadowRadius: 4,\n    elevation: 3,\n  },\n  layoutCardSelected: {\n    borderColor: '#2563eb',\n    borderWidth: 3,\n    shadowColor: '#2563eb',\n    shadowOpacity: 0.3,\n    shadowRadius: 8,\n  },\n  layoutIcon: {\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    backgroundColor: '#f3f4f6',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginBottom: 12,\n  },\n  layoutIconText: {\n    fontSize: 24,\n  },\n  layoutName: {\n    fontSize: 15,\n    fontWeight: '600',\n    color: '#1a1a1a',\n    marginBottom: 6,\n  },\n  layoutDescription: {\n    fontSize: 12,\n    color: '#6b7280',\n    lineHeight: 16,\n    marginBottom: 8,\n  },\n  layoutBestFor: {\n    paddingTop: 8,\n    borderTopWidth: 1,\n    borderTopColor: '#f3f4f6',\n  },\n  layoutBestForText: {\n    fontSize: 11,\n    color: '#9ca3af',\n    fontStyle: 'italic',\n    lineHeight: 14,\n  },\n  selectedBadge: {\n    position: 'absolute',\n    top: 12,\n    right: 12,\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#2563eb',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  selectedBadgeText: {\n    color: '#ffffff',\n    fontSize: 14,\n    fontWeight: 'bold',\n  },\n  settingsContainer: {\n    paddingHorizontal: 16,\n    gap: 16,\n  },\n  settingRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n  },\n  settingLabel: {\n    fontSize: 14,\n    fontWeight: '500',\n    color: '#4b5563',\n  },\n  columnsButtons: {\n    flexDirection: 'row',\n    gap: 8,\n  },\n  columnButton: {\n    width: 40,\n    height: 40,\n    borderRadius: 8,\n    backgroundColor: '#f3f4f6',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    borderColor: '#e5e7eb',\n  },\n  columnButtonActive: {\n    backgroundColor: '#2563eb',\n    borderColor: '#2563eb',\n  },\n  columnButtonText: {\n    fontSize: 16,\n    fontWeight: '600',\n    color: '#6b7280',\n  },\n  columnButtonTextActive: {\n    color: '#ffffff',\n  },\n  toggle: {\n    width: 50,\n    height: 28,\n    borderRadius: 14,\n    backgroundColor: '#d1d5db',\n    padding: 2,\n    justifyContent: 'center',\n  },\n  toggleActive: {\n    backgroundColor: '#2563eb',\n  },\n  toggleThumb: {\n    width: 24,\n    height: 24,\n    borderRadius: 12,\n    backgroundColor: '#ffffff',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 2 },\n    shadowOpacity: 0.2,\n    shadowRadius: 2,\n    elevation: 2,\n  },\n  toggleThumbActive: {\n    alignSelf: 'flex-end',\n  },\n  positionButtons: {\n    flexDirection: 'row',\n    gap: 6,\n  },\n  positionButton: {\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 8,\n    backgroundColor: '#f3f4f6',\n    borderWidth: 1,\n    borderColor: '#e5e7eb',\n  },\n  positionButtonActive: {\n    backgroundColor: '#2563eb',\n    borderColor: '#2563eb',\n  },\n  positionButtonText: {\n    fontSize: 12,\n    fontWeight: '500',\n    color: '#6b7280',\n  },\n  positionButtonTextActive: {\n    color: '#ffffff',\n  },\n  spacingButtons: {\n    flexDirection: 'row',\n    gap: 6,\n  },\n  spacingButton: {\n    paddingHorizontal: 10,\n    paddingVertical: 6,\n    borderRadius: 8,\n    backgroundColor: '#f3f4f6',\n    borderWidth: 1,\n    borderColor: '#e5e7eb',\n  },\n  spacingButtonActive: {\n    backgroundColor: '#2563eb',\n    borderColor: '#2563eb',\n  },\n  spacingButtonText: {\n    fontSize: 11,\n    fontWeight: '500',\n    color: '#6b7280',\n  },\n  spacingButtonTextActive: {\n    color: '#ffffff',\n  },\n});\n"],"x_facebook_sources":[[{"names":["<global>","buildInitialSettings","BookSettingsModal","useState$argument_0","useEffect$argument_0","handlePresetSelect","handleThemeSelect","toggleChecklistSection","setSettings$argument_0","current.filter$argument_0","handleToggleChecklists","handleSave","handlePreview","div.props.onClick","GalleryLayoutSelector.props.onLayoutSelect","GalleryLayoutSelector.props.onColumnsChange","GalleryLayoutSelector.props.onShowCaptionsChange","GalleryLayoutSelector.props.onCaptionPositionChange","GalleryLayoutSelector.props.onSpacingChange","button.props.onClick","button.props.onMouseEnter","button.props.onMouseLeave","input.props.onChange","input.props.onFocus","input.props.onBlur","select.props.onChange","select.props.onFocus","select.props.onBlur","CHECKLIST_OPTIONS.map$argument_0","option.items.map$argument_0","button.props.onFocus","button.props.onBlur"],"mappings":"AAA;6BC6F;CDyB;eEE;yDCU;mDDC;YEK;GFE;6BGE;GHO;4BIE;GJE;iCKI;gBCC;2BCM,0BD;KDG;GLC;iCQE;gBFC;MEO;GRC;qBSE;GTG;wBUE;GVK;mBW6C,0BX;gCYqD,+DZ;iCaE,4Db;sCcE,0Dd;yCeE,2Df;iCgBE,wDhB;uBiBoB,oCjB;4BkBY;elBG;4BmBC;enBG;wBoBe,0DpB;uBqBa;erBG;sBsBC;etBG;wBoBY,0EpB;uBqBa;erBG;sBsBC;etBG;wBuBW,qEvB;uBwBc;exBG;sByBC;ezBG;0BoBiB,+DpB;yBqBY;iBrBG;wBsBC;iBtBG;wBuBY,oEvB;uBwBc;exBG;sByBC;ezBG;wBuB6B,qEvB;uBwBc;exBG;sByBC;ezBG;0BoBc,iEpB;4BoBsB,+CpB;uC0BW;oCNoB,0CM;0CCK;yBDE;iB1BI;uB4ByB;e5BG;sB6BC;e7BG;4BkBC;elBK;4BmBC;enBK;yB4BsB;iB5BG;wB6BC;iB7BG;8BkBC;iBlBK;8BmBC;iBnBK;uB4BsB;e5BE;sB6BC;e7BE;4BkBC;elBK;4BmBC;enBM;CFU"}],[{"names":["<global>","ThemePreview","themes.map$argument_0","ThemeCard.props.onSelect","ThemeCard"],"mappings":"AAA;eC0K;oBCe;sBCK,6BD;SDG;CDI;AIS;CJqE"}],[{"names":["<global>","PresetSelector","BOOK_PRESETS.filter$argument_0","CategoryChip.props.onPress","Object.entries.map$argument_0","filteredPresets.map$argument_0","PresetCard.props.onSelect","CategoryChip","PresetCard","FeatureBadge"],"mappings":"AAA;eC6E;4BCU,gDD;uBE6B,gCF;mDGE;yBDK,gDC;aHE;iCIwB;0BCK,4BD;aJE;CDM;AOQ;CPW;AQQ;CRwD;ASO;CTO"}],[{"names":["<global>","getPresetById","BOOK_PRESETS.find$argument_0","getPresetsByCategory","BOOK_PRESETS.filter$argument_0","getDefaultPreset","createCustomPreset"],"mappings":"AAA;OCmN;2BCC,4BD;CDC;OGK;6BCC,wCD;CHC;OKK;2BHC,4BG;CLC;OMK;CNe"}],[{"names":["<global>","GalleryLayoutSelector","GALLERY_LAYOUTS.map$argument_0","LayoutCard.props.onSelect","map$argument_0","Pressable.props.onPress","LayoutCard"],"mappings":"AAA;eCwE;6BCuB;sBCK,+BD;SDE;6BGU;2BCO,0BD;eHW;uBIW,yCJ;oBGgB;2BCO,2DD;eHW;oBGc;2BCO,sCD;eHW;CDO;AMQ;CNgC"}]],"names":["visible","onClose","onSave","onPreview","defaultSettings","travelCount","userName","mode","settings","setSettings","useState","buildInitialSettings","showAdvanced","setShowAdvanced","selectedPresetId","setSelectedPresetId","useEffect","checklistSections","_jsxRuntime","jsx","_Modal","default","transparent","animationType","onRequestClose","children","style","position","top","left","right","bottom","backgroundColor","backdropFilter","WebkitBackdropFilter","display","alignItems","justifyContent","zIndex","onClick","jsxs","borderRadius","padding","window","innerWidth","METRICS","breakpoints","tablet","maxWidth","width","maxHeight","overflow","boxShadow","border","role","e","stopPropagation","id","fontSize","fontWeight","margin","color","letterSpacing","marginBottom","_PresetSelector","onPresetSelect","preset","title","subtitle","showCategories","height","_ThemePreview","selectedTheme","template","onThemeSelect","theme","compact","includeGallery","Fragment","_GalleryLayoutSelector","selectedLayout","galleryLayout","onLayoutSelect","layout","columns","galleryColumns","onColumnsChange","cols","showCaptions","onShowCaptionsChange","show","captionPosition","onCaptionPositionChange","pos","spacing","gallerySpacing","onSpacingChange","sp","textAlign","cursor","transition","onMouseEnter","currentTarget","borderColor","onMouseLeave","type","value","onChange","target","minHeight","outline","onFocus","onBlur","placeholder","undefined","coverType","coverImage","marginTop","lineHeight","sortOrder","gap","checked","includeToc","minWidth","includeChecklists","handleToggleChecklists","enabled","prev","length","DEFAULT_CHECKLIST_SELECTION","accentColor","gridTemplateColumns","CHECKLIST_OPTIONS","map","option","selected","includes","label","toggleChecklistSection","section","current","exists","filter","item","items","transform","handlePreview","handleSave","_react","t","WeakMap","r","n","__esModule","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_interopRequireWildcard","_r","d","_interopRequireDefault","_layout","defaultBookSettings","includeMap","showCoordinatesOnMapPage","overrides","merged","themes","values","THEME_CATALOG","_View","styles","container","_Text","sectionTitle","_ScrollView","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","horizontalScroll","gridContainer","ThemeCard","isSelected","onSelect","_StyleSheet","_Pressable","minimal","name","description","colors","primary","secondary","accent","background","preview","headerFont","bodyFont","light","dark","classic","modern","romantic","adventure","themeCard","themeCardCompact","themeCardSelected","onPress","thumbnail","thumbnailContent","thumbnailHeader","thumbnailBody","thumbnailLine","thumbnailLineShort","thumbnailAccent","themeInfo","themeName","themeDescription","colorPalette","colorDot","fontInfo","selectedBadge","selectedBadgeText","StyleSheet","create","paddingVertical","paddingHorizontal","flexDirection","flexWrap","marginHorizontal","borderWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderBottomWidth","borderBottomColor","flex","borderLeftWidth","opacity","alignSelf","fontStyle","selectedCategory","setSelectedCategory","filteredPresets","BOOK_PRESETS","category","categoriesContainer","categoriesContent","className","CategoryChip","entries","PRESET_CATEGORIES","key","presetsWrapper","presetsContainer","presetsContent","PresetCard","_pdfPresets","document","styleId","getElementById","createElement","css","styleSheet","cssText","appendChild","createTextNode","head","categoryChip","categoryChipSelected","categoryChipText","categoryChipTextSelected","presetCard","presetCardSelected","presetIcon","presetIconText","icon","presetInfo","presetName","numberOfLines","presetDescription","presetFeatures","FeatureBadge","selectedIndicator","selectedIndicatorText","isDefault","defaultBadge","defaultBadgeText","isCustom","customBadge","customBadgeText","featureBadge","featureBadgeIcon","featureBadgeText","Date","now","find","detailed","print","layoutsContainer","layoutsContent","GALLERY_LAYOUTS","LayoutCard","settingsContainer","settingRow","settingLabel","columnsButtons","num","columnButton","columnButtonActive","columnButtonText","columnButtonTextActive","toggle","toggleActive","toggleThumb","toggleThumbActive","positionButtons","positionButton","positionButtonActive","positionButtonText","positionButtonTextActive","spacingButtons","spacingButton","spacingButtonActive","spacingButtonText","spacingButtonTextActive","bestFor","layoutCard","layoutCardSelected","layoutIcon","layoutIconText","layoutName","layoutDescription","layoutBestFor","layoutBestForText","paddingTop","borderTopWidth","borderTopColor"],"mappings":"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","debugId":"c556aa5f-2730-44c7-b0fe-00b3c423894c"}