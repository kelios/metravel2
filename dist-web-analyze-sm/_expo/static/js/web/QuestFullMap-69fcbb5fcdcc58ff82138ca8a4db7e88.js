__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({steps:e,height:n=520,title:u="\u041a\u0430\u0440\u0442\u0430 \u043a\u0432\u0435\u0441\u0442\u0430"}){const[w,k]=(0,t.useState)(null),[T,C]=(0,t.useState)(!1),O=(0,t.useRef)(null),P=(0,c.useSafeAreaInsets)(),{width:v}=i.default.get('window');(0,t.useEffect)(()=>{(async()=>{try{const e=()=>{const e='https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';if(!document.querySelector(`link[href="${e}"]`)){const t=document.createElement('link');t.rel='stylesheet',t.href=e,document.head.appendChild(t)}},t=async()=>{const o=window;return o.L||(e(),t._loader||(t._loader=new Promise((e,o)=>{const n=document.createElement('script');n.src='https://unpkg.com/leaflet@1.9.4/dist/leaflet.js',n.async=!0,n.onload=()=>e(),n.onerror=e=>{t._loader=null,o(e)},document.body.appendChild(n)})),await t._loader),o.L},o=await t(),n=await _r(d[17])(d[16],d.paths);delete o.Icon.Default.prototype._getIconUrl,o.Icon.Default.mergeOptions({iconRetinaUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',iconUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',shadowUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'}),k({L:o,MapContainer:n.MapContainer,TileLayer:n.TileLayer,Marker:n.Marker,Polyline:n.Polyline,Popup:n.Popup,FeatureGroup:n.FeatureGroup,useMap:n.useMap})}catch(e){console.error('Error loading map modules:',e)}})()},[]);const M=(0,t.useMemo)(()=>e.filter(e=>Number.isFinite(e.lat)&&Number.isFinite(e.lng)),[e]),S=(0,t.useMemo)(()=>{const e=new Map;return M.forEach((t,o)=>{const n=`${t.lat.toFixed(6)},${t.lng.toFixed(6)}`;if(e.has(n)){const r=e.get(n);r.indexes.push(o+1),r.titles.push(t.title||`\u0422\u043e\u0447\u043a\u0430 ${o+1}`)}else e.set(n,{lat:t.lat,lng:t.lng,indexes:[o+1],titles:[t.title||`\u0422\u043e\u0447\u043a\u0430 ${o+1}`]})}),Array.from(e.values()).sort((e,t)=>Math.min(...e.indexes)-Math.min(...t.indexes))},[M]),_=async()=>{try{return void W()}catch(e){console.error('Error sharing PNG:',e)}},$=async()=>{try{return void z()}catch(e){console.error('Error sharing GPX:',e)}},B=async()=>{try{return void F()}catch(e){console.error('Error sharing GeoJSON:',e)}},W=async()=>{try{const e=await b(),t=O.current;if(!t)return;const o=await e.toPng(t,{quality:1}),n=document.createElement('a');n.href=o,n.download=`${u.replace(/\s+/g,'_')}.png`,n.click()}catch{window.print()}},z=()=>y(`${u.replace(/\s+/g,'_')}.gpx`,h(M),'application/gpx+xml'),F=()=>y(`${u.replace(/\s+/g,'_')}.geojson`,x(M),'application/geo+json');if(!w||0===M.length)return(0,p.jsx)(o.default,{style:[j.wrap,{height:n}],children:(0,p.jsx)(l.default,{style:j.loadingText,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0440\u0442\u044b..."})});const{L:R,MapContainer:L,TileLayer:E,Marker:G,Polyline:N,Popup:A,FeatureGroup:U,useMap:I}=w,D=R.latLngBounds(M.map(e=>[e.lat,e.lng])).pad(.15),H=()=>{const e=I();return(0,t.useEffect)(()=>{e&&e.whenReady(()=>{const t=e.getContainer?.();if(!t)return;const{clientWidth:o,clientHeight:n}=t;if(!o||!n)return;const r=e.getBounds?.();r&&r.contains(D)&&D.contains(r)||e.fitBounds(D,{animate:!1}),requestAnimationFrame(()=>e.invalidateSize())})},[e,D]),null};return(0,p.jsxs)(o.default,{style:[j.wrap,{height:n}],children:[(0,p.jsxs)(o.default,{style:[j.toolbar,{paddingTop:P.top+8}],children:[(0,p.jsx)(l.default,{style:j.toolbarTitle,numberOfLines:1,children:u}),(0,p.jsxs)(o.default,{style:j.webButtons,children:[(0,p.jsx)(r.default,{style:j.btn,onPress:W,children:(0,p.jsx)(l.default,{style:j.btnTxt,children:"PNG"})}),(0,p.jsx)(r.default,{style:j.btn,onPress:z,children:(0,p.jsx)(l.default,{style:j.btnTxt,children:"GPX"})}),(0,p.jsx)(r.default,{style:j.btn,onPress:F,children:(0,p.jsx)(l.default,{style:j.btnTxt,children:"GeoJSON"})})]})]}),(0,p.jsx)(s.default,{visible:T,transparent:!0,animationType:"slide",onRequestClose:()=>C(!1),children:(0,p.jsx)(a.default,{style:j.modalOverlay,activeOpacity:1,onPress:()=>C(!1),children:(0,p.jsxs)(o.default,{style:[j.modalContent,{bottom:P.bottom}],children:[(0,p.jsx)(l.default,{style:j.modalTitle,children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430"}),(0,p.jsx)(a.default,{style:j.modalOption,onPress:()=>{C(!1),_()},children:(0,p.jsx)(l.default,{style:j.modalOptionText,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a PNG"})}),(0,p.jsx)(a.default,{style:j.modalOption,onPress:()=>{C(!1),$()},children:(0,p.jsx)(l.default,{style:j.modalOptionText,children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f GPX"})}),(0,p.jsx)(a.default,{style:j.modalOption,onPress:()=>{C(!1),B()},children:(0,p.jsx)(l.default,{style:j.modalOptionText,children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f GeoJSON"})}),(0,p.jsx)(a.default,{style:[j.modalOption,j.cancelOption],onPress:()=>C(!1),children:(0,p.jsx)(l.default,{style:j.cancelOptionText,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})})}),(0,p.jsx)(o.default,{ref:O,style:j.mapBox,children:(0,p.jsxs)(L,{bounds:D,style:j.map,scrollWheelZoom:!1,zoomControl:!0,dragging:!0,touchZoom:!0,doubleClickZoom:!1,children:[(0,p.jsx)(H,{}),(0,p.jsx)(E,{attribution:"\xa9 OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,p.jsx)(N,{positions:M.map(e=>[e.lat,e.lng]),pathOptions:{color:'#2563eb',weight:4}}),(0,p.jsx)(U,{children:S.map((e,t)=>(0,p.jsx)(G,{position:[e.lat,e.lng],icon:f(R,e.indexes.join(','),e.indexes.includes(1)),children:(0,p.jsx)(A,{children:(0,p.jsxs)(o.default,{style:{minWidth:180},children:[(0,p.jsxs)(l.default,{style:j.popupTitle,children:[e.indexes.join(', '),"."]}),(0,p.jsxs)(l.default,{style:j.popupCoords,children:[e.lat.toFixed(6),", ",e.lng.toFixed(6)]}),(0,p.jsx)(l.default,{style:[j.popupCoords,{marginTop:6}],children:e.titles.join(', ')})]})})},`${e.lat}-${e.lng}-${t}`))})]})}),!1]})};var t=u(_r(d[1])),o=e(_r(d[2])),n=e(_r(d[3])),r=(e(_r(d[4])),e(_r(d[5]))),l=e(_r(d[6])),i=e(_r(d[7])),a=e(_r(d[8])),s=e(_r(d[9])),c=(e(_r(d[10])),_r(d[11])),p=(u(_r(d[12])),u(_r(d[13])),u(_r(d[14])),_r(d[15]));function u(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(u=function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?r(i,t,l):i[t]=e[t]);return i})(e,t)}function f(e,t,o=!1){const n=`\n    <div style="\n      width:28px;height:28px;border-radius:9999px;\n      background:${o?'#0ea5e9':'#f59e0b'};border:2px solid ${o?'#0369a1':'#b45309'};\n      color:#fff;display:flex;align-items:center;justify-content:center;\n      font-weight:800;font-size:12px;line-height:1;box-shadow:0 2px 6px rgba(0,0,0,.25);\n      padding:0 4px\n    ">${String(t)}</div>`;return e.divIcon({className:'qmark',html:n,iconSize:[28,28],iconAnchor:[14,14]})}function h(e){return`<?xml version="1.0" encoding="UTF-8"?>\n<gpx creator="MeTravel" version="1.1" xmlns="http://www.topografix.com/GPX/1/1">\n<trk><name>Quest route</name><trkseg>\n${e.map(e=>`<trkpt lat="${e.lat.toFixed(6)}" lon="${e.lng.toFixed(6)}"></trkpt>`).join('\n')}\n</trkseg></trk>\n</gpx>`}function x(e){return JSON.stringify({type:'FeatureCollection',features:[...e.map((e,t)=>({type:'Feature',geometry:{type:'Point',coordinates:[e.lng,e.lat]},properties:{order:t+1,title:e.title||`\u0422\u043e\u0447\u043a\u0430 ${t+1}`}})),{type:'Feature',geometry:{type:'LineString',coordinates:e.map(e=>[e.lng,e.lat])},properties:{name:'Quest route'}}]},null,2)}function y(e,t,o="text/plain"){const n=new Blob([t],{type:o}),r=URL.createObjectURL(n),l=document.createElement('a');l.href=r,l.download=e,document.body.appendChild(l),l.click(),l.remove(),URL.revokeObjectURL(r)}async function b(){const e=window;if(e.domtoimage)return e.domtoimage;if(b._loader||(b._loader=new Promise((e,t)=>{const o=document.createElement('script');o.src='https://cdn.jsdelivr.net/npm/dom-to-image-more@3.3.0/dist/dom-to-image-more.min.js',o.async=!0,o.onload=()=>e(),o.onerror=e=>{b._loader=null,t(e)},document.body.appendChild(o)})),await b._loader,!e.domtoimage)throw new Error('dom-to-image failed to load from CDN');return e.domtoimage}const j=n.default.create({wrap:{width:'100%',borderRadius:16,overflow:'hidden',borderWidth:1,borderColor:'#e5e7eb',backgroundColor:'#fff'},toolbar:{paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1,borderBottomColor:'#e5e7eb',flexDirection:'row',alignItems:'center',justifyContent:'space-between',backgroundColor:'#f8fafc',minHeight:60},toolbarTitle:{fontWeight:'800',color:'#0f172a',fontSize:18,flex:1,marginRight:12},webButtons:{flexDirection:'row',alignItems:'center',gap:8},btn:{paddingHorizontal:12,paddingVertical:8,borderRadius:8,backgroundColor:'#0ea5e9'},btnTxt:{color:'#fff',fontWeight:'600',fontSize:12},mobileMenuButton:{padding:8,borderRadius:8,backgroundColor:'#0ea5e9'},mobileMenuText:{color:'#fff',fontWeight:'bold',fontSize:18},mapBox:{flex:1,minHeight:300},map:{width:'100%',height:'100%'},loadingText:{textAlign:'center',padding:20,color:'#64748b'},modalOverlay:{flex:1,backgroundColor:'rgba(0, 0, 0, 0.5)',justifyContent:'flex-end'},modalContent:{backgroundColor:'white',borderTopLeftRadius:20,borderTopRightRadius:20,padding:20,paddingBottom:30},modalTitle:{fontSize:18,fontWeight:'bold',textAlign:'center',marginBottom:20,color:'#0f172a'},modalOption:{padding:16,borderBottomWidth:1,borderBottomColor:'#e5e7eb'},modalOptionText:{fontSize:16,color:'#0f172a',textAlign:'center'},cancelOption:{marginTop:10,backgroundColor:'#f1f5f9',borderRadius:12,borderBottomWidth:0},cancelOptionText:{fontSize:16,color:'#64748b',fontWeight:'600',textAlign:'center'},popupTitle:{fontWeight:'bold',fontSize:14,marginBottom:4,color:'#0f172a'},popupCoords:{fontSize:12,color:'#64748b'},touchHints:{padding:12,backgroundColor:'#f8fafc',borderTopWidth:1,borderTopColor:'#e5e7eb'},hintText:{fontSize:12,color:'#64748b',textAlign:'center'}})},2446,{"0":23,"1":4,"2":315,"3":145,"4":123,"5":422,"6":132,"7":284,"8":409,"9":415,"10":308,"11":2622,"12":2447,"13":2452,"14":2454,"15":2,"16":2094,"17":1756,"paths":{"2094":"/_expo/static/js/web/index-659422579c4f2e91851c75a73bfc1c32.js"}});
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))});var t=r(d[1]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))})},2447,[2448,2451]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.cacheDirectory=e.bundleDirectory=e.UploadTask=e.StorageAccessFramework=e.FileSystemCancellableNetworkTask=e.DownloadResumable=void 0,e.copyAsync=A,e.createDownloadResumable=function(t,s,n,o,c){return new h(t,s,n,o,c)},e.createUploadTask=function(t,s,n,o){return new p(t,s,n,o)},e.deleteAsync=u,e.deleteLegacyDocumentDirectoryAndroid=async function(){return},e.documentDirectory=void 0,e.downloadAsync=async function(t,c,l={}){if(!n.default.downloadAsync)throw new s.UnavailabilityError('expo-file-system','downloadAsync');return await n.default.downloadAsync(t,c,{sessionType:o.FileSystemSessionType.BACKGROUND,...l})},e.getContentUriAsync=async function(t){return t},e.getFreeDiskStorageAsync=async function(){if(!n.default.getFreeDiskStorageAsync)throw new s.UnavailabilityError('expo-file-system','getFreeDiskStorageAsync');return await n.default.getFreeDiskStorageAsync()},e.getInfoAsync=async function(t,o={}){if(!n.default.getInfoAsync)throw new s.UnavailabilityError('expo-file-system','getInfoAsync');return await n.default.getInfoAsync(t,o)},e.getTotalDiskCapacityAsync=async function(){if(!n.default.getTotalDiskCapacityAsync)throw new s.UnavailabilityError('expo-file-system','getTotalDiskCapacityAsync');return await n.default.getTotalDiskCapacityAsync()},e.makeDirectoryAsync=async function(t,o={}){if(!n.default.makeDirectoryAsync)throw new s.UnavailabilityError('expo-file-system','makeDirectoryAsync');return await n.default.makeDirectoryAsync(t,o)},e.moveAsync=f,e.readAsStringAsync=l,e.readDirectoryAsync=async function(t){if(!n.default.readDirectoryAsync)throw new s.UnavailabilityError('expo-file-system','readDirectoryAsync');return await n.default.readDirectoryAsync(t)},e.uploadAsync=async function(t,c,l={}){if(!n.default.uploadAsync)throw new s.UnavailabilityError('expo-file-system','uploadAsync');return await n.default.uploadAsync(t,c,{sessionType:o.FileSystemSessionType.BACKGROUND,uploadType:o.FileSystemUploadType.BINARY_CONTENT,...l,httpMethod:(l.httpMethod||'POST').toUpperCase()})},e.writeAsStringAsync=y;var s=r(d[1]),n=(t(r(d[2])),t(r(d[3]))),o=r(d[4]);function c(t){return null!=t?t.replace(/\/*$/,'')+'/':null}n.default||console.warn("No native ExponentFileSystem module found, are you sure the expo-file-system's module is linked properly?");e.documentDirectory=c(n.default.documentDirectory),e.cacheDirectory=c(n.default.cacheDirectory),e.bundleDirectory=c(n.default.bundleDirectory);async function l(t,o={}){if(!n.default.readAsStringAsync)throw new s.UnavailabilityError('expo-file-system','readAsStringAsync');return await n.default.readAsStringAsync(t,o)}async function y(t,o,c={}){if(!n.default.writeAsStringAsync)throw new s.UnavailabilityError('expo-file-system','writeAsStringAsync');return await n.default.writeAsStringAsync(t,o,c)}async function u(t,o={}){if(!n.default.deleteAsync)throw new s.UnavailabilityError('expo-file-system','deleteAsync');return await n.default.deleteAsync(t,o)}async function f(t){if(!n.default.moveAsync)throw new s.UnavailabilityError('expo-file-system','moveAsync');return await n.default.moveAsync(t)}async function A(t){if(!n.default.copyAsync)throw new s.UnavailabilityError('expo-file-system','copyAsync');return await n.default.copyAsync(t)}class w{_uuid=s.uuid.v4();taskWasCanceled=!1;async cancelAsync(){if(!n.default.networkTaskCancelAsync)throw new s.UnavailabilityError('expo-file-system','networkTaskCancelAsync');return this.removeSubscription(),this.taskWasCanceled=!0,await n.default.networkTaskCancelAsync(this.uuid)}isTaskCancelled(){return!!this.taskWasCanceled&&(console.warn('This task was already canceled.'),!0)}get uuid(){return this._uuid}addSubscription(){this.subscription||(this.subscription=n.default.addListener(this.getEventName(),t=>{if(t.uuid===this.uuid){const s=this.getCallback();s&&s(t.data)}}))}removeSubscription(){this.subscription&&(this.subscription.remove(),this.subscription=null)}}e.FileSystemCancellableNetworkTask=w;class p extends w{constructor(t,s,n,c){super(),this.url=t,this.fileUri=s,this.callback=c;const l=n?.httpMethod?.toUpperCase()||'POST';this.options={sessionType:o.FileSystemSessionType.BACKGROUND,uploadType:o.FileSystemUploadType.BINARY_CONTENT,...n,httpMethod:l}}getEventName(){return'expo-file-system.uploadProgress'}getCallback(){return this.callback}async uploadAsync(){if(!n.default.uploadTaskStartAsync)throw new s.UnavailabilityError('expo-file-system','uploadTaskStartAsync');if(this.isTaskCancelled())return;this.addSubscription();const t=await n.default.uploadTaskStartAsync(this.url,this.fileUri,this.uuid,this.options);return this.removeSubscription(),t}}e.UploadTask=p;class h extends w{constructor(t,s,n={},o,c){super(),this.url=t,this._fileUri=s,this.options=n,this.callback=o,this.resumeData=c}get fileUri(){return this._fileUri}getEventName(){return'expo-file-system.downloadProgress'}getCallback(){return this.callback}async downloadAsync(){if(!n.default.downloadResumableStartAsync)throw new s.UnavailabilityError('expo-file-system','downloadResumableStartAsync');if(!this.isTaskCancelled())return this.addSubscription(),await n.default.downloadResumableStartAsync(this.url,this._fileUri,this.uuid,this.options,this.resumeData)}async pauseAsync(){if(!n.default.downloadResumablePauseAsync)throw new s.UnavailabilityError('expo-file-system','downloadResumablePauseAsync');if(this.isTaskCancelled())return{fileUri:this._fileUri,options:this.options,url:this.url};const t=await n.default.downloadResumablePauseAsync(this.uuid);if(this.removeSubscription(),t)return this.resumeData=t.resumeData,this.savable();throw new Error('Unable to generate a savable pause state')}async resumeAsync(){if(!n.default.downloadResumableStartAsync)throw new s.UnavailabilityError('expo-file-system','downloadResumableStartAsync');if(!this.isTaskCancelled())return this.addSubscription(),await n.default.downloadResumableStartAsync(this.url,this.fileUri,this.uuid,this.options,this.resumeData)}savable(){return{url:this.url,fileUri:this.fileUri,options:this.options,resumeData:this.resumeData}}}e.DownloadResumable=h;const b=l,S=y,k=u,D=f,v=A;let U=e.StorageAccessFramework=void 0;!(function(t){t.getUriForDirectoryInRoot=function(t){return`content://com.android.externalstorage.documents/tree/primary:${t}/document/primary:${t}`},t.requestDirectoryPermissionsAsync=async function(t=null){if(!n.default.requestDirectoryPermissionsAsync)throw new s.UnavailabilityError('expo-file-system','StorageAccessFramework.requestDirectoryPermissionsAsync');return await n.default.requestDirectoryPermissionsAsync(t)},t.readDirectoryAsync=async function(t){if(!n.default.readSAFDirectoryAsync)throw new s.UnavailabilityError('expo-file-system','StorageAccessFramework.readDirectoryAsync');return await n.default.readSAFDirectoryAsync(t)},t.makeDirectoryAsync=async function(t,o){if(!n.default.makeSAFDirectoryAsync)throw new s.UnavailabilityError('expo-file-system','StorageAccessFramework.makeDirectoryAsync');return await n.default.makeSAFDirectoryAsync(t,o)},t.createFileAsync=async function(t,o,c){if(!n.default.createSAFFileAsync)throw new s.UnavailabilityError('expo-file-system','StorageAccessFramework.createFileAsync');return await n.default.createSAFFileAsync(t,o,c)};t.writeAsStringAsync=S,t.readAsStringAsync=b,t.deleteAsync=k,t.moveAsync=D,t.copyAsync=v})(U||(e.StorageAccessFramework=U={}))},2448,[23,236,123,2449,2451]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},2449,[23,2450]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=r(d[0]);class t extends l.NativeModule{documentDirectory=null;cacheDirectory=null;bundleDirectory=null}e.default=t},2450,[236]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.FileSystemUploadType=e.FileSystemSessionType=e.EncodingType=void 0;e.FileSystemSessionType=(function(n){return n[n.BACKGROUND=0]="BACKGROUND",n[n.FOREGROUND=1]="FOREGROUND",n})({}),e.FileSystemUploadType=(function(n){return n[n.BINARY_CONTENT=0]="BINARY_CONTENT",n[n.MULTIPART=1]="MULTIPART",n})({}),e.EncodingType=(function(n){return n.UTF8="utf8",n.Base64="base64",n})({})},2451,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isAvailableAsync=async function(){if(s.default)return!s.default.isAvailableAsync||await s.default.isAvailableAsync();return!1},e.shareAsync=async function(n,l={}){if(!s.default||!s.default.shareAsync)throw new t.UnavailabilityError('Sharing','shareAsync');return await s.default.shareAsync(n,l)};var t=r(d[1]),s=n(r(d[2]))},2452,[23,236,2453]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(d[0]);e.default={isAvailableAsync:async()=>'undefined'!=typeof navigator&&!!navigator.share,async shareAsync(t,o={}){if(!navigator.share)throw new n.UnavailabilityError('navigator','share');await navigator.share({...o,url:t})}}},2453,[236]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.MediaType=void 0,Object.defineProperty(e,"PermissionStatus",{enumerable:!0,get:function(){return n.PermissionStatus}}),e.SortBy=void 0,e.addAssetsToAlbumAsync=async function(t,o,c=!0){if(!s.default.addAssetsToAlbumAsync)throw new n.UnavailabilityError('MediaLibrary','addAssetsToAlbumAsync');const f=u(t).map(l),A=l(o);if(y(f),!A||'string'!=typeof A)throw new Error('Invalid album ID. It must be a string!');return await s.default.addAssetsToAlbumAsync(f,A,!!c)},e.addListener=function(t){return s.default.addListener(s.default.CHANGE_LISTENER_NAME,t)},e.albumNeedsMigrationAsync=async function(t){if(!s.default.albumNeedsMigrationAsync)return!1;return await s.default.albumNeedsMigrationAsync(l(t))},e.createAlbumAsync=async function(t,o,u=!0){if(!s.default.createAlbumAsync)throw new n.UnavailabilityError('MediaLibrary','createAlbumAsync');const y=l(o);if(!t||'string'!=typeof t)throw new Error('Invalid argument "albumName". It must be a string!');if(null!=y&&'string'!=typeof y)throw new Error('Asset ID must be a string!');return await s.default.createAlbumAsync(t,y,!!u)},e.createAssetAsync=async function(t){if(!s.default.createAssetAsync)throw new n.UnavailabilityError('MediaLibrary','createAssetAsync');if(!t||'string'!=typeof t)throw new Error('Invalid argument "localUri". It must be a string!');const o=await s.default.createAssetAsync(t);if(Array.isArray(o))return o[0];return o},e.deleteAlbumsAsync=async function(t,o=!1){if(!s.default.deleteAlbumsAsync)throw new n.UnavailabilityError('MediaLibrary','deleteAlbumsAsync');const y=u(t).map(l);return c(y),await s.default.deleteAlbumsAsync(y,!!o)},e.deleteAssetsAsync=async function(t){if(!s.default.deleteAssetsAsync)throw new n.UnavailabilityError('MediaLibrary','deleteAssetsAsync');const o=u(t).map(l);return y(o),await s.default.deleteAssetsAsync(o)},e.getAlbumAsync=async function(t){if(!s.default.getAlbumAsync)throw new n.UnavailabilityError('MediaLibrary','getAlbumAsync');if('string'!=typeof t)throw new Error('Album title must be a string!');return await s.default.getAlbumAsync(t)},e.getAlbumsAsync=async function({includeSmartAlbums:t=!1}={}){if(!s.default.getAlbumsAsync)throw new n.UnavailabilityError('MediaLibrary','getAlbumsAsync');return await s.default.getAlbumsAsync({includeSmartAlbums:t})},e.getAssetInfoAsync=async function(t,o={shouldDownloadFromNetwork:!0}){if(!s.default.getAssetInfoAsync)throw new n.UnavailabilityError('MediaLibrary','getAssetInfoAsync');const u=l(t);y([u]);const c=await s.default.getAssetInfoAsync(u,o);if(Array.isArray(c))return c[0];return c},e.getAssetsAsync=async function(t={}){if(!s.default.getAssetsAsync)throw new n.UnavailabilityError('MediaLibrary','getAssetsAsync');const{first:o,after:y,album:c,sortBy:b,mediaType:E,createdAfter:h,createdBefore:M}=t,L={first:null==o?20:o,after:l(y),album:l(c),sortBy:u(b),mediaType:u(E||[v.photo]),createdAfter:p(h),createdBefore:p(M)};if(null!=o&&'number'!=typeof L.first)throw new Error('Option "first" must be a number!');if(null!=y&&'string'!=typeof L.after)throw new Error('Option "after" must be a string!');if(null!=c&&'string'!=typeof L.album)throw new Error('Option "album" must be a string!');0;if(null!=o&&o<0)throw new Error('Option "first" must be a positive integer!');return L.sortBy.forEach(A),L.mediaType.forEach(f),L.sortBy=L.sortBy.map(w),await s.default.getAssetsAsync(L)},e.getMomentsAsync=async function(){if(!s.default.getMomentsAsync)throw new n.UnavailabilityError('MediaLibrary','getMomentsAsync');return await s.default.getMomentsAsync()},e.getPermissionsAsync=M,e.isAvailableAsync=async function(){return!!s.default&&'getAssetsAsync'in s.default},e.migrateAlbumIfNeededAsync=async function(t){if(!s.default.migrateAlbumIfNeededAsync)return;return await s.default.migrateAlbumIfNeededAsync(l(t))},e.presentPermissionsPickerAsync=async function(t=['photo','video']){if(!s.default.presentPermissionsPickerAsync)throw new n.UnavailabilityError('MediaLibrary','presentPermissionsPickerAsync');return await s.default.presentPermissionsPickerAsync()},e.removeAllListeners=function(){s.default.removeAllListeners(s.default.CHANGE_LISTENER_NAME)},e.removeAssetsFromAlbumAsync=async function(t,o){if(!s.default.removeAssetsFromAlbumAsync)throw new n.UnavailabilityError('MediaLibrary','removeAssetsFromAlbumAsync');const c=u(t).map(l),f=l(o);return y(c),await s.default.removeAssetsFromAlbumAsync(c,f)},e.removeSubscription=function(t){t.remove()},e.requestPermissionsAsync=h,e.saveToLibraryAsync=async function(t){if(!s.default.saveToLibraryAsync)throw new n.UnavailabilityError('MediaLibrary','saveToLibraryAsync');return await s.default.saveToLibraryAsync(t)},e.usePermissions=void 0;var n=r(d[1]),s=(t(r(d[2])),t(r(d[3])));let o=!1;function u(t){return Array.isArray(t)?t:t?[t]:[]}function l(t){return'string'==typeof t?t:t?t.id:void 0}function y(t){if(t.some(t=>!t||'string'!=typeof t))throw new Error('Asset ID must be a string!')}function c(t){if(t.some(t=>!t||'string'!=typeof t))throw new Error('Album ID must be a string!')}function f(t){if(-1===Object.values(v).indexOf(t))throw new Error(`Invalid mediaType: ${t}`)}function A(t){if(Array.isArray(t)){if(b(t[0]),'boolean'!=typeof t[1])throw new Error('Invalid sortBy array argument. Second item must be a boolean!')}else b(t)}function b(t){if(-1===Object.values(E).indexOf(t))throw new Error(`Invalid sortBy key: ${t}`)}function w(t){return Array.isArray(t)?`${t[0]} ${t[1]?'ASC':'DESC'}`:`${t} DESC`}function p(t){return t instanceof Date?t.getTime():t}'undefined'!=typeof expo&&globalThis.expo?.modules?.ExpoGo&&!o&&(console.warn('Due to changes in Androids permission requirements, Expo Go can no longer provide full access to the media library. To test the full functionality of this module, you can create a development build. https://docs.expo.dev/develop/development-builds/create-a-build'),o=!0);const v=e.MediaType=s.default.MediaType,E=e.SortBy=s.default.SortBy;async function h(t=!1,o){if(!s.default.requestPermissionsAsync)throw new n.UnavailabilityError('MediaLibrary','requestPermissionsAsync');return await s.default.requestPermissionsAsync(t)}async function M(t=!1,o){if(!s.default.getPermissionsAsync)throw new n.UnavailabilityError('MediaLibrary','getPermissionsAsync');return await s.default.getPermissionsAsync(t)}e.usePermissions=(0,n.createPermissionHook)({getMethod:t=>M(t?.writeOnly),requestMethod:t=>h(t?.writeOnly)})},2454,[23,236,123,2455]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const t={status:r(d[0]).PermissionStatus.UNDETERMINED,canAskAgain:!0,granted:!1,expires:'never'};e.default={get CHANGE_LISTENER_NAME(){return'mediaLibraryDidChange'},get MediaType(){return{audio:'audio',photo:'photo',video:'video',unknown:'unknown'}},get SortBy(){return{default:'default',mediaType:'mediaType',width:'width',height:'height',creationTime:'creationTime',modificationTime:'modificationTime',duration:'duration'}},getPermissionsAsync:async n=>t,requestPermissionsAsync:async n=>t}},2455,[236]);
//# sourceMappingURL=/_expo/static/js/web/QuestFullMap-69fcbb5fcdcc58ff82138ca8a4db7e88.js.map
//# debugId=e23973f1-2145-495e-b616-81f4d8829340