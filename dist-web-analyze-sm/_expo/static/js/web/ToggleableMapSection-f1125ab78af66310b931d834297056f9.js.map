{"version":3,"sources":["/components/travel/ToggleableMapSection.tsx"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport { View, StyleSheet, Pressable, Text, useWindowDimensions, ActivityIndicator, Platform } from 'react-native';\nimport ChevronDown from 'lucide-react-native/dist/esm/icons/chevron-down';\nimport ChevronUp from 'lucide-react-native/dist/esm/icons/chevron-up';\nimport MapPinned from 'lucide-react-native/dist/esm/icons/map-pinned';\nimport { DESIGN_TOKENS } from '@/constants/designSystem';\n\ntype ToggleableMapSectionProps = {\n    children: React.ReactNode;\n    initiallyOpen?: boolean;\n    isLoading?: boolean;\n    loadingLabel?: string;\n};\n\nconst ToggleableMapSection = ({\n    children,\n    initiallyOpen = true,\n    isLoading = false,\n    loadingLabel = 'Загружаем карту...',\n}: ToggleableMapSectionProps) => {\n    const [showMap, setShowMap] = useState(initiallyOpen);\n    const { width } = useWindowDimensions();\n    const isMobile = width <= 480;\n    const hintText = useMemo(\n        () => (showMap && isLoading ? loadingLabel : showMap ? 'Скрыть карту' : 'Показать карту'),\n        [isLoading, loadingLabel, showMap],\n    );\n\n    return (\n        <View style={styles.wrapper}>\n            <Pressable\n                onPress={() => setShowMap((prev) => !prev)}\n                style={({ pressed }) => [\n                    styles.toggleButton,\n                    pressed && styles.toggleButtonPressed,\n                ]}\n            >\n                <MapPinned size={18} color=\"#3B2C24\" style={{ marginRight: DESIGN_TOKENS.spacing.xs }} />\n                <Text style={[styles.toggleText, isMobile && styles.toggleTextMobile]}>\n                    {hintText}\n                </Text>\n                {showMap ? (\n                    <ChevronUp size={18} color=\"#3B2C24\" />\n                ) : (\n                    <ChevronDown size={18} color=\"#3B2C24\" />\n                )}\n            </Pressable>\n\n            {showMap && (\n                <View style={[styles.mapContainer, isMobile && styles.mapContainerMobile]}>\n                    {isLoading ? (\n                        <View style={styles.loadingState}>\n                            {Platform.OS === 'web' ? <View style={styles.loadingSkeleton} /> : <ActivityIndicator color=\"#ff9f5a\" />}\n                            <Text style={styles.loadingText}>{loadingLabel}</Text>\n                        </View>\n                    ) : (\n                        children\n                    )}\n                </View>\n            )}\n        </View>\n    );\n};\n\nexport default ToggleableMapSection;\n\nconst styles = StyleSheet.create({\n    wrapper: {\n        width: '100%',\n    },\n    toggleButton: {\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingVertical: 12,\n        paddingHorizontal: DESIGN_TOKENS.spacing.lg,\n        backgroundColor: '#fff',\n        borderRadius: 16,\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.05,\n        shadowRadius: 4,\n        elevation: 2,\n        gap: DESIGN_TOKENS.spacing.sm,\n    },\n    toggleButtonPressed: {\n        backgroundColor: '#f0f0f0',\n    },\n    toggleText: {\n        fontSize: DESIGN_TOKENS.typography.sizes.md,\n        fontWeight: '600',\n        color: '#3B2C24',\n    },\n    toggleTextMobile: {\n        fontSize: DESIGN_TOKENS.typography.sizes.sm,\n    },\n    mapContainer: {\n        marginTop: DESIGN_TOKENS.spacing.lg,\n        width: '100%',\n        minHeight: 400,\n        borderRadius: 16,\n        backgroundColor: '#fff',\n        overflow: 'hidden',\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.05,\n        shadowRadius: 4,\n        elevation: 2,\n    },\n    mapContainerMobile: {\n        minHeight: 300,\n        borderRadius: 0,\n    },\n    loadingState: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: DESIGN_TOKENS.spacing.md,\n    },\n    loadingText: {\n        fontSize: DESIGN_TOKENS.typography.sizes.sm,\n        color: '#475569',\n    },\n    loadingSkeleton: {\n        width: 52,\n        height: 52,\n        borderRadius: 14,\n        backgroundColor: '#f1f5f9',\n        borderWidth: 1,\n        borderColor: '#e2e8f0',\n    },\n});\n"],"x_facebook_sources":[[{"names":["<global>","ToggleableMapSection","useMemo$argument_0","Pressable.props.onPress","setShowMap$argument_0","Pressable.props.style"],"mappings":"AAA;6BCc;QCU,yFD;yBEO,iBC,eD,CF;uBIC;iBJG;CD2B"}]],"names":["_react","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_interopRequireWildcard","_r","d","_View","_interopRequireDefault","_StyleSheet","_Pressable","_Text","_useWindowDimensions","_chevronDown","_chevronUp","_mapPinned","_designSystem","_jsxRuntime","_e","ToggleableMapSection","children","initiallyOpen","isLoading","loadingLabel","showMap","setShowMap","useState","width","useWindowDimensions","isMobile","hintText","useMemo","jsxs","style","styles","wrapper","onPress","prev","pressed","toggleButton","toggleButtonPressed","jsx","size","color","marginRight","DESIGN_TOKENS","spacing","xs","toggleText","toggleTextMobile","mapContainer","mapContainerMobile","loadingState","loadingSkeleton","loadingText","StyleSheet","create","flexDirection","alignItems","justifyContent","paddingVertical","paddingHorizontal","lg","backgroundColor","borderRadius","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","gap","sm","fontSize","typography","sizes","md","fontWeight","marginTop","minHeight","overflow","flex","borderWidth","borderColor"],"mappings":"kHAAA,IAAAA,GAKyD,SAAAC,EAAAC,GAAA,sBAAAC,QAAA,IAAAC,EAAA,IAAAD,QAAAE,EAAA,IAAAF,QAAA,gBAAAF,EAAAC,GAAA,IAAAA,GAAAD,KAAAK,WAAA,OAAAL,EAAA,IAAAM,EAAAC,EAAAC,EAAA,CAAAC,UAAA,KAAAC,QAAAV,GAAA,UAAAA,GAAA,iBAAAA,GAAA,mBAAAA,EAAA,OAAAQ,EAAA,GAAAF,EAAAL,EAAAG,EAAAD,EAAA,IAAAG,EAAAK,IAAAX,GAAA,OAAAM,EAAAM,IAAAZ,GAAAM,EAAAO,IAAAb,EAAAQ,EAAA,WAAAP,KAAAD,EAAA,YAAAC,GAAA,GAAAa,eAAAC,KAAAf,EAAAC,MAAAM,GAAAD,EAAAU,OAAAC,iBAAAD,OAAAE,yBAAAlB,EAAAC,MAAAM,EAAAK,KAAAL,EAAAM,KAAAP,EAAAE,EAAAP,EAAAM,GAAAC,EAAAP,GAAAD,EAAAC,IAAA,OAAAO,CAAA,GAAAR,EAAAC,EAAA,EALzDkB,CAAAC,GAAAC,EAAA,KAAiDC,EAAAC,EAAAH,GAAAC,EAAA,KAAAG,EAAAD,EAAAH,GAAAC,EAAA,KAAAI,EAAAF,EAAAH,GAAAC,EAAA,KAAAK,EAAAH,EAAAH,GAAAC,EAAA,KAAAM,EAAAJ,EAAAH,GAAAC,EAAA,KAEjDO,GAFiDL,EAAAH,GAAAC,EAAA,KAAAE,EAAAH,GAAAC,EAAA,KAEjDE,EAAAH,GAAAC,EAAA,MACAQ,EAAAN,EAAAH,GAAAC,EAAA,MACAS,EAAAP,EAAAH,GAAAC,EAAA,MACAU,EAAAX,GAAAC,EAAA,KAAyDW,EAAAZ,GAAAC,EAAA,KAyDvDY,GAAAvB,QAhD2BwB,EACzBC,WACAC,iBAAgB,EAChBC,aAAY,EACZC,eAAe,+FAEf,MAAOC,EAASC,IAAc,EAAAC,YAASL,IACjCM,MAAEA,IAAU,EAAAC,aACZC,EAAWF,GAAS,IACpBG,GAAW,EAAAC,WACb,IAAOP,GAAWF,EAAYC,EAAeC,EAAU,sEAAiB,kFACxE,CAACF,EAAWC,EAAcC,IAG9B,OACI,EAAAP,EAAAe,MAACzB,EAAAZ,QAAI,CAACsC,MAAOC,EAAOC,QAAQf,SAAA,EACxB,EAAAH,EAAAe,MAACtB,EAAAf,QAAS,CACNyC,QAASA,IAAMX,EAAYY,IAAUA,GACrCJ,MAAOA,EAAGK,aAAc,CACpBJ,EAAOK,aACPD,GAAWJ,EAAOM,qBACpBpB,SAAA,EAEF,EAAAH,EAAAwB,KAAC1B,EAAApB,QAAS,CAAC+C,KAAM,GAAIC,MAAM,UAAUV,MAAO,CAAEW,YAAaC,gBAAcC,QAAQC,OACjF,EAAA9B,EAAAwB,KAAC9B,EAAAhB,QAAI,CAACsC,MAAO,CAACC,EAAOc,WAAYnB,GAAYK,EAAOe,kBAAkB7B,SACjEU,IAEJN,GACG,EAAAP,EAAAwB,KAAC3B,EAAAnB,QAAS,CAAC+C,KAAM,GAAIC,MAAM,aAE3B,EAAA1B,EAAAwB,KAAC5B,EAAAlB,QAAW,CAAC+C,KAAM,GAAIC,MAAM,eAIpCnB,IACG,EAAAP,EAAAwB,KAAClC,EAAAZ,QAAI,CAACsC,MAAO,CAACC,EAAOgB,aAAcrB,GAAYK,EAAOiB,oBAAoB/B,SACrEE,GACG,EAAAL,EAAAe,MAACzB,EAAAZ,QAAI,CAACsC,MAAOC,EAAOkB,aAAahC,SAAA,EACJ,EAAAH,EAAAwB,KAAClC,EAAAZ,QAAI,CAACsC,MAAOC,EAAOmB,mBAC7C,EAAApC,EAAAwB,KAAC9B,EAAAhB,QAAI,CAACsC,MAAOC,EAAOoB,YAAYlC,SAAEG,OAGtCH,QAUxB,MAAMc,EAASqB,UAAWC,OAAO,CAC7BrB,QAAS,CACLR,MAAO,QAEXY,aAAc,CACVkB,cAAe,MACfC,WAAY,SACZC,eAAgB,SAChBC,gBAAiB,GACjBC,kBAAmBhB,gBAAcC,QAAQgB,GACzCC,gBAAiB,OACjBC,aAAc,GACdC,YAAa,OACbC,aAAc,CAAEvC,MAAO,EAAGwC,OAAQ,GAClCC,cAAe,IACfC,aAAc,EACdC,UAAW,EACXC,IAAK1B,gBAAcC,QAAQ0B,IAE/BhC,oBAAqB,CACjBuB,gBAAiB,WAErBf,WAAY,CACRyB,SAAU5B,gBAAc6B,WAAWC,MAAMC,GACzCC,WAAY,MACZlC,MAAO,WAEXM,iBAAkB,CACdwB,SAAU5B,gBAAc6B,WAAWC,MAAMH,IAE7CtB,aAAc,CACV4B,UAAWjC,gBAAcC,QAAQgB,GACjCnC,MAAO,OACPoD,UAAW,IACXf,aAAc,GACdD,gBAAiB,OACjBiB,SAAU,SACVf,YAAa,OACbC,aAAc,CAAEvC,MAAO,EAAGwC,OAAQ,GAClCC,cAAe,IACfC,aAAc,EACdC,UAAW,GAEfnB,mBAAoB,CAChB4B,UAAW,IACXf,aAAc,GAElBZ,aAAc,CACV6B,KAAM,EACNvB,WAAY,SACZC,eAAgB,SAChBY,IAAK1B,gBAAcC,QAAQ8B,IAE/BtB,YAAa,CACTmB,SAAU5B,gBAAc6B,WAAWC,MAAMH,GACzC7B,MAAO,WAEXU,gBAAiB,CACb1B,MAAO,GACPwC,OAAQ,GACRH,aAAc,GACdD,gBAAiB,UACjBmB,YAAa,EACbC,YAAa,YAElB,G","debugId":"5be9933c-7479-4374-961a-f52280da6f78"}