__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(n=t?r:o){if(n.has(e))return n.get(e);n.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?n(s,t,l):s[t]=e[t]);return s})(e,t)})(_r(d[1])),o=e(_r(d[2])),r=e(_r(d[3])),n=(e(_r(d[4])),e(_r(d[5]))),l=e(_r(d[6])),s=_r(d[7]),u=_r(d[8]);function i({text:e="\u041a\u0430\u0440\u0442\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435"}){return(0,u.jsxs)(o.default,{style:f.placeholder,children:[(0,u.jsx)(l.default,{size:"large"}),(0,u.jsx)(n.default,{style:f.placeholderText,children:e})]})}const c=({travelsData:e,coordinates:r,routePoints:n=[],placesAlongRoute:l=[],mode:c="radius",setRoutePoints:p=()=>{},onMapClick:x=()=>{},transportMode:h="car",setRouteDistance:y,setFullRouteCoords:j,radius:M})=>{const R=!0,{shouldLoad:b,setElementRef:C}=(0,s.useLazyMap)({rootMargin:'200px',threshold:.1,enabled:R}),[_,v]=(0,t.useState)(null),[P,k]=(0,t.useState)(b);(0,t.useEffect)(()=>{let e=!0;if(b)return(async()=>{try{const t=await _r(d[10])(d[9],d.paths);e&&v(()=>t.default??t)}catch(e){console.error('[MapPanel] Failed to load web map:',e)}finally{e&&k(!1)}})(),()=>{e=!1}},[R,b]);const w=(0,t.useMemo)(()=>({data:e}),[e]);return b?P||!_?(0,u.jsx)(i,{text:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u0430\u0440\u0442\u044b\u2026"}):(0,u.jsx)(o.default,{style:f.mapContainer,ref:C,children:(0,u.jsx)(_,{travel:w,coordinates:r,routePoints:n,placesAlongRoute:l,mode:c,setRoutePoints:p,onMapClick:x,transportMode:h,setRouteDistance:y,setFullRouteCoords:j,radius:M})}):(0,u.jsx)(o.default,{style:f.mapContainer,ref:C,children:(0,u.jsx)(i,{text:"\u041a\u0430\u0440\u0442\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0441\u044f \u043f\u0440\u0438 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0435\u2026"})})};_e.default=t.default.memo(c);const f=r.default.create({mapContainer:{flex:1,borderRadius:16,overflow:'hidden',backgroundColor:'#fff'},placeholder:{flex:1,alignItems:'center',justifyContent:'center',gap:12,padding:24,borderRadius:16,backgroundColor:'#fff'},placeholderText:{fontSize:16,color:'#666',textAlign:'center'}})},2090,{"0":23,"1":4,"2":315,"3":145,"4":123,"5":132,"6":407,"7":2091,"8":2,"9":2092,"10":1756,"paths":{"2092":"/_expo/static/js/web/Map-2cc31664850f64b50dce5ace324d99a0.js"}});
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.useLazyMap=function(n={}){const{rootMargin:s="200px",threshold:o=.1,enabled:u=!0}=n,[c,l]=(0,t.useState)(!u||!1),[f,b]=(0,t.useState)(!1),v=(0,t.useRef)(null),h=(0,t.useCallback)(n=>{n.forEach(n=>{n.isIntersecting&&!c&&(b(!0),l(!0))})},[c]);(0,t.useEffect)(()=>{if(!u||c)return;if(!('IntersectionObserver'in window))return void l(!0);const n=v.current;if(!n)return;const t=new IntersectionObserver(h,{rootMargin:s,threshold:o});return t.observe(n),()=>{t.disconnect()}},[u,c,s,o,h]);const M=(0,t.useCallback)(n=>{v.current=n},[]);return{shouldLoad:c,isLoading:f,setElementRef:M}};var t=r(d[1]);n(r(d[2]))},2091,[23,4,123]);
//# sourceMappingURL=/_expo/static/js/web/MapPanel-55852d392e19063ab10339f645b6b0a7.js.map
//# debugId=e45d3748-960f-4818-ad7d-ba18853f8a9c